function VF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function er(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function KF(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var ny={exports:{}},qc={},iy={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2;function GF(){if(e2)return $t;e2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function g(V){return V===null||typeof V!="object"?null:(V=h&&V[h]||V["@@iterator"],typeof V=="function"?V:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function x(V,X,le){this.props=V,this.context=X,this.refs=b,this.updater=le||v}x.prototype.isReactComponent={},x.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},x.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function S(){}S.prototype=x.prototype;function C(V,X,le){this.props=V,this.context=X,this.refs=b,this.updater=le||v}var k=C.prototype=new S;k.constructor=C,w(k,x.prototype),k.isPureReactComponent=!0;var E=Array.isArray,_=Object.prototype.hasOwnProperty,A={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(V,X,le){var ce,Se={},xe=null,ye=null;if(X!=null)for(ce in X.ref!==void 0&&(ye=X.ref),X.key!==void 0&&(xe=""+X.key),X)_.call(X,ce)&&!P.hasOwnProperty(ce)&&(Se[ce]=X[ce]);var Ae=arguments.length-2;if(Ae===1)Se.children=le;else if(1<Ae){for(var G=Array(Ae),ue=0;ue<Ae;ue++)G[ue]=arguments[ue+2];Se.children=G}if(V&&V.defaultProps)for(ce in Ae=V.defaultProps,Ae)Se[ce]===void 0&&(Se[ce]=Ae[ce]);return{$$typeof:e,type:V,key:xe,ref:ye,props:Se,_owner:A.current}}function M(V,X){return{$$typeof:e,type:V.type,key:X,ref:V.ref,props:V.props,_owner:V._owner}}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function D(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return X[le]})}var q=/\/+/g;function F(V,X){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):X.toString(36)}function $(V,X,le,ce,Se){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var ye=!1;if(V===null)ye=!0;else switch(xe){case"string":case"number":ye=!0;break;case"object":switch(V.$$typeof){case e:case t:ye=!0}}if(ye)return ye=V,Se=Se(ye),V=ce===""?"."+F(ye,0):ce,E(Se)?(le="",V!=null&&(le=V.replace(q,"$&/")+"/"),$(Se,X,le,"",function(ue){return ue})):Se!=null&&(R(Se)&&(Se=M(Se,le+(!Se.key||ye&&ye.key===Se.key?"":(""+Se.key).replace(q,"$&/")+"/")+V)),X.push(Se)),1;if(ye=0,ce=ce===""?".":ce+":",E(V))for(var Ae=0;Ae<V.length;Ae++){xe=V[Ae];var G=ce+F(xe,Ae);ye+=$(xe,X,le,G,Se)}else if(G=g(V),typeof G=="function")for(V=G.call(V),Ae=0;!(xe=V.next()).done;)xe=xe.value,G=ce+F(xe,Ae++),ye+=$(xe,X,le,G,Se);else if(xe==="object")throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ye}function L(V,X,le){if(V==null)return V;var ce=[],Se=0;return $(V,ce,"","",function(xe){return X.call(le,xe,Se++)}),ce}function B(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Z={current:null},z={transition:null},te={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:z,ReactCurrentOwner:A};function re(){throw Error("act(...) is not supported in production builds of React.")}return $t.Children={map:L,forEach:function(V,X,le){L(V,function(){X.apply(this,arguments)},le)},count:function(V){var X=0;return L(V,function(){X++}),X},toArray:function(V){return L(V,function(X){return X})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},$t.Component=x,$t.Fragment=r,$t.Profiler=i,$t.PureComponent=C,$t.StrictMode=n,$t.Suspense=d,$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,$t.act=re,$t.cloneElement=function(V,X,le){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ce=w({},V.props),Se=V.key,xe=V.ref,ye=V._owner;if(X!=null){if(X.ref!==void 0&&(xe=X.ref,ye=A.current),X.key!==void 0&&(Se=""+X.key),V.type&&V.type.defaultProps)var Ae=V.type.defaultProps;for(G in X)_.call(X,G)&&!P.hasOwnProperty(G)&&(ce[G]=X[G]===void 0&&Ae!==void 0?Ae[G]:X[G])}var G=arguments.length-2;if(G===1)ce.children=le;else if(1<G){Ae=Array(G);for(var ue=0;ue<G;ue++)Ae[ue]=arguments[ue+2];ce.children=Ae}return{$$typeof:e,type:V.type,key:Se,ref:xe,props:ce,_owner:ye}},$t.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:s,_context:V},V.Consumer=V},$t.createElement=T,$t.createFactory=function(V){var X=T.bind(null,V);return X.type=V,X},$t.createRef=function(){return{current:null}},$t.forwardRef=function(V){return{$$typeof:u,render:V}},$t.isValidElement=R,$t.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:B}},$t.memo=function(V,X){return{$$typeof:f,type:V,compare:X===void 0?null:X}},$t.startTransition=function(V){var X=z.transition;z.transition={};try{V()}finally{z.transition=X}},$t.unstable_act=re,$t.useCallback=function(V,X){return Z.current.useCallback(V,X)},$t.useContext=function(V){return Z.current.useContext(V)},$t.useDebugValue=function(){},$t.useDeferredValue=function(V){return Z.current.useDeferredValue(V)},$t.useEffect=function(V,X){return Z.current.useEffect(V,X)},$t.useId=function(){return Z.current.useId()},$t.useImperativeHandle=function(V,X,le){return Z.current.useImperativeHandle(V,X,le)},$t.useInsertionEffect=function(V,X){return Z.current.useInsertionEffect(V,X)},$t.useLayoutEffect=function(V,X){return Z.current.useLayoutEffect(V,X)},$t.useMemo=function(V,X){return Z.current.useMemo(V,X)},$t.useReducer=function(V,X,le){return Z.current.useReducer(V,X,le)},$t.useRef=function(V){return Z.current.useRef(V)},$t.useState=function(V){return Z.current.useState(V)},$t.useSyncExternalStore=function(V,X,le){return Z.current.useSyncExternalStore(V,X,le)},$t.useTransition=function(){return Z.current.useTransition()},$t.version="18.3.1",$t}var t2;function A1(){return t2||(t2=1,iy.exports=GF()),iy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2;function YF(){if(r2)return qc;r2=1;var e=A1(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,h={},g=null,v=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!s.hasOwnProperty(p)&&(h[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)h[p]===void 0&&(h[p]=d[p]);return{$$typeof:t,type:u,key:g,ref:v,props:h,_owner:i.current}}return qc.Fragment=r,qc.jsx=l,qc.jsxs=l,qc}var n2;function XF(){return n2||(n2=1,ny.exports=YF()),ny.exports}var a=XF(),Tf={},ay={exports:{}},_n={},sy={exports:{}},oy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2;function JF(){return i2||(i2=1,(function(e){function t(z,te){var re=z.length;z.push(te);e:for(;0<re;){var V=re-1>>>1,X=z[V];if(0<i(X,te))z[V]=te,z[re]=X,re=V;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var te=z[0],re=z.pop();if(re!==te){z[0]=re;e:for(var V=0,X=z.length,le=X>>>1;V<le;){var ce=2*(V+1)-1,Se=z[ce],xe=ce+1,ye=z[xe];if(0>i(Se,re))xe<X&&0>i(ye,Se)?(z[V]=ye,z[xe]=re,V=xe):(z[V]=Se,z[ce]=re,V=ce);else if(xe<X&&0>i(ye,re))z[V]=ye,z[xe]=re,V=xe;else break e}}return te}function i(z,te){var re=z.sortIndex-te.sortIndex;return re!==0?re:z.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,h=null,g=3,v=!1,w=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(z){for(var te=r(f);te!==null;){if(te.callback===null)n(f);else if(te.startTime<=z)n(f),te.sortIndex=te.expirationTime,t(d,te);else break;te=r(f)}}function E(z){if(b=!1,k(z),!w)if(r(d)!==null)w=!0,B(_);else{var te=r(f);te!==null&&Z(E,te.startTime-z)}}function _(z,te){w=!1,b&&(b=!1,S(T),T=-1),v=!0;var re=g;try{for(k(te),h=r(d);h!==null&&(!(h.expirationTime>te)||z&&!D());){var V=h.callback;if(typeof V=="function"){h.callback=null,g=h.priorityLevel;var X=V(h.expirationTime<=te);te=e.unstable_now(),typeof X=="function"?h.callback=X:h===r(d)&&n(d),k(te)}else n(d);h=r(d)}if(h!==null)var le=!0;else{var ce=r(f);ce!==null&&Z(E,ce.startTime-te),le=!1}return le}finally{h=null,g=re,v=!1}}var A=!1,P=null,T=-1,M=5,R=-1;function D(){return!(e.unstable_now()-R<M)}function q(){if(P!==null){var z=e.unstable_now();R=z;var te=!0;try{te=P(!0,z)}finally{te?F():(A=!1,P=null)}}else A=!1}var F;if(typeof C=="function")F=function(){C(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=q,F=function(){L.postMessage(null)}}else F=function(){x(q,0)};function B(z){P=z,A||(A=!0,F())}function Z(z,te){T=x(function(){z(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,B(_))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var re=g;g=te;try{return z()}finally{g=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=g;g=z;try{return te()}finally{g=re}},e.unstable_scheduleCallback=function(z,te,re){var V=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?V+re:V):re=V,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=re+X,z={id:p++,callback:te,priorityLevel:z,startTime:re,expirationTime:X,sortIndex:-1},re>V?(z.sortIndex=re,t(f,z),r(d)===null&&z===r(f)&&(b?(S(T),T=-1):b=!0,Z(E,re-V))):(z.sortIndex=X,t(d,z),w||v||(w=!0,B(_))),z},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(z){var te=g;return function(){var re=g;g=te;try{return z.apply(this,arguments)}finally{g=re}}}})(oy)),oy}var a2;function QF(){return a2||(a2=1,sy.exports=JF()),sy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2;function ZF(){if(s2)return _n;s2=1;var e=A1(),t=QF();function r(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(i[o]=c,o=0;o<c.length;o++)n.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(o){return d.call(h,o)?!0:d.call(p,o)?!1:f.test(o)?h[o]=!0:(p[o]=!0,!1)}function v(o,c,m,y){if(m!==null&&m.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,c,m,y){if(c===null||typeof c>"u"||v(o,c,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function b(o,c,m,y,N,O,I){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=N,this.mustUseProperty=m,this.propertyName=o,this.type=c,this.sanitizeURL=O,this.removeEmptyString=I}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){x[o]=new b(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];x[c]=new b(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){x[o]=new b(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){x[o]=new b(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){x[o]=new b(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){x[o]=new b(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){x[o]=new b(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){x[o]=new b(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){x[o]=new b(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(S,C);x[c]=new b(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(S,C);x[c]=new b(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(S,C);x[c]=new b(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){x[o]=new b(o,1,!1,o.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){x[o]=new b(o,1,!1,o.toLowerCase(),null,!0,!0)});function k(o,c,m,y){var N=x.hasOwnProperty(c)?x[c]:null;(N!==null?N.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,m,N,y)&&(m=null),y||N===null?g(c)&&(m===null?o.removeAttribute(c):o.setAttribute(c,""+m)):N.mustUseProperty?o[N.propertyName]=m===null?N.type===3?!1:"":m:(c=N.attributeName,y=N.attributeNamespace,m===null?o.removeAttribute(c):(N=N.type,m=N===3||N===4&&m===!0?"":""+m,y?o.setAttributeNS(y,c,m):o.setAttribute(c,m))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),A=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),z=Symbol.iterator;function te(o){return o===null||typeof o!="object"?null:(o=z&&o[z]||o["@@iterator"],typeof o=="function"?o:null)}var re=Object.assign,V;function X(o){if(V===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);V=c&&c[1]||""}return`
`+V+o}var le=!1;function ce(o,c){if(!o||le)return"";le=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(be){var y=be}Reflect.construct(o,[],c)}else{try{c.call()}catch(be){y=be}o.call(c.prototype)}else{try{throw Error()}catch(be){y=be}o()}}catch(be){if(be&&y&&typeof be.stack=="string"){for(var N=be.stack.split(`
`),O=y.stack.split(`
`),I=N.length-1,J=O.length-1;1<=I&&0<=J&&N[I]!==O[J];)J--;for(;1<=I&&0<=J;I--,J--)if(N[I]!==O[J]){if(I!==1||J!==1)do if(I--,J--,0>J||N[I]!==O[J]){var ae=`
`+N[I].replace(" at new "," at ");return o.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",o.displayName)),ae}while(1<=I&&0<=J);break}}}finally{le=!1,Error.prepareStackTrace=m}return(o=o?o.displayName||o.name:"")?X(o):""}function Se(o){switch(o.tag){case 5:return X(o.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return o=ce(o.type,!1),o;case 11:return o=ce(o.type.render,!1),o;case 1:return o=ce(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case A:return"Portal";case M:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case $:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case D:return(o.displayName||"Context")+".Consumer";case R:return(o._context.displayName||"Context")+".Provider";case q:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case L:return c=o.displayName||null,c!==null?c:xe(o.type)||"Memo";case B:c=o._payload,o=o._init;try{return xe(o(c))}catch{}}return null}function ye(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(c);case 8:return c===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ae(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function G(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ue(o){var c=G(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var N=m.get,O=m.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return N.call(this)},set:function(I){y=""+I,O.call(this,I)}}),Object.defineProperty(o,c,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(I){y=""+I},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function ee(o){o._valueTracker||(o._valueTracker=ue(o))}function W(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var m=c.getValue(),y="";return o&&(y=G(o)?o.checked?"true":"false":o.value),o=y,o!==m?(c.setValue(o),!0):!1}function Y(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function se(o,c){var m=c.checked;return re({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??o._wrapperState.initialChecked})}function me(o,c){var m=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;m=Ae(c.value!=null?c.value:m),o._wrapperState={initialChecked:y,initialValue:m,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function we(o,c){c=c.checked,c!=null&&k(o,"checked",c,!1)}function ve(o,c){we(o,c);var m=Ae(c.value),y=c.type;if(m!=null)y==="number"?(m===0&&o.value===""||o.value!=m)&&(o.value=""+m):o.value!==""+m&&(o.value=""+m);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?je(o,c.type,m):c.hasOwnProperty("defaultValue")&&je(o,c.type,Ae(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function K(o,c,m){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,m||c===o.value||(o.value=c),o.defaultValue=c}m=o.name,m!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,m!==""&&(o.name=m)}function je(o,c,m){(c!=="number"||Y(o.ownerDocument)!==o)&&(m==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+m&&(o.defaultValue=""+m))}var Q=Array.isArray;function ke(o,c,m,y){if(o=o.options,c){c={};for(var N=0;N<m.length;N++)c["$"+m[N]]=!0;for(m=0;m<o.length;m++)N=c.hasOwnProperty("$"+o[m].value),o[m].selected!==N&&(o[m].selected=N),N&&y&&(o[m].defaultSelected=!0)}else{for(m=""+Ae(m),c=null,N=0;N<o.length;N++){if(o[N].value===m){o[N].selected=!0,y&&(o[N].defaultSelected=!0);return}c!==null||o[N].disabled||(c=o[N])}c!==null&&(c.selected=!0)}}function Oe(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return re({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function $e(o,c){var m=c.value;if(m==null){if(m=c.children,c=c.defaultValue,m!=null){if(c!=null)throw Error(r(92));if(Q(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),m=c}o._wrapperState={initialValue:Ae(m)}}function Fe(o,c){var m=Ae(c.value),y=Ae(c.defaultValue);m!=null&&(m=""+m,m!==o.value&&(o.value=m),c.defaultValue==null&&o.defaultValue!==m&&(o.defaultValue=m)),y!=null&&(o.defaultValue=""+y)}function ct(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function ut(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?ut(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mt,Ge=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,m,y,N){MSApp.execUnsafeLocalFunction(function(){return o(c,m,y,N)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(mt=mt||document.createElement("div"),mt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=mt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function it(o,c){if(c){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=c;return}}o.textContent=c}var wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pt=["Webkit","ms","Moz","O"];Object.keys(wt).forEach(function(o){Pt.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),wt[c]=wt[o]})});function dt(o,c,m){return c==null||typeof c=="boolean"||c===""?"":m||typeof c!="number"||c===0||wt.hasOwnProperty(o)&&wt[o]?(""+c).trim():c+"px"}function sr(o,c){o=o.style;for(var m in c)if(c.hasOwnProperty(m)){var y=m.indexOf("--")===0,N=dt(m,c[m],y);m==="float"&&(m="cssFloat"),y?o.setProperty(m,N):o[m]=N}}var Kt=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wt(o,c){if(c){if(Kt[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function Tt(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dr=null;function he(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Be=null,Ye=null,de=null;function qe(o){if(o=Pc(o)){if(typeof Be!="function")throw Error(r(280));var c=o.stateNode;c&&(c=Hd(c),Be(o.stateNode,o.type,c))}}function Te(o){Ye?de?de.push(o):de=[o]:Ye=o}function He(){if(Ye){var o=Ye,c=de;if(de=Ye=null,qe(o),c)for(o=0;o<c.length;o++)qe(c[o])}}function Xe(o,c){return o(c)}function Et(){}var Ht=!1;function Ct(o,c,m){if(Ht)return o(c,m);Ht=!0;try{return Xe(o,c,m)}finally{Ht=!1,(Ye!==null||de!==null)&&(Et(),He())}}function Ce(o,c){var m=o.stateNode;if(m===null)return null;var y=Hd(m);if(y===null)return null;m=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var Je=!1;if(u)try{var et={};Object.defineProperty(et,"passive",{get:function(){Je=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Je=!1}function gt(o,c,m,y,N,O,I,J,ae){var be=Array.prototype.slice.call(arguments,3);try{c.apply(m,be)}catch(De){this.onError(De)}}var Xt=!1,ne=null,tt=!1,ze=null,ht={onError:function(o){Xt=!0,ne=o}};function U(o,c,m,y,N,O,I,J,ae){Xt=!1,ne=null,gt.apply(ht,arguments)}function _e(o,c,m,y,N,O,I,J,ae){if(U.apply(this,arguments),Xt){if(Xt){var be=ne;Xt=!1,ne=null}else throw Error(r(198));tt||(tt=!0,ze=be)}}function yt(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function St(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function Me(o){if(yt(o)!==o)throw Error(r(188))}function tr(o){var c=o.alternate;if(!c){if(c=yt(o),c===null)throw Error(r(188));return c!==o?null:o}for(var m=o,y=c;;){var N=m.return;if(N===null)break;var O=N.alternate;if(O===null){if(y=N.return,y!==null){m=y;continue}break}if(N.child===O.child){for(O=N.child;O;){if(O===m)return Me(N),o;if(O===y)return Me(N),c;O=O.sibling}throw Error(r(188))}if(m.return!==y.return)m=N,y=O;else{for(var I=!1,J=N.child;J;){if(J===m){I=!0,m=N,y=O;break}if(J===y){I=!0,y=N,m=O;break}J=J.sibling}if(!I){for(J=O.child;J;){if(J===m){I=!0,m=O,y=N;break}if(J===y){I=!0,y=O,m=N;break}J=J.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?o:c}function Lt(o){return o=tr(o),o!==null?Mt(o):null}function Mt(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=Mt(o);if(c!==null)return c;o=o.sibling}return null}var or=t.unstable_scheduleCallback,rr=t.unstable_cancelCallback,Cr=t.unstable_shouldYield,Pa=t.unstable_requestPaint,Pr=t.unstable_now,aL=t.unstable_getCurrentPriorityLevel,_m=t.unstable_ImmediatePriority,E_=t.unstable_UserBlockingPriority,kd=t.unstable_NormalPriority,sL=t.unstable_LowPriority,A_=t.unstable_IdlePriority,Nd=null,Ai=null;function oL(o){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(Nd,o,void 0,(o.current.flags&128)===128)}catch{}}var ci=Math.clz32?Math.clz32:uL,lL=Math.log,cL=Math.LN2;function uL(o){return o>>>=0,o===0?32:31-(lL(o)/cL|0)|0}var Cd=64,Pd=4194304;function uc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ed(o,c){var m=o.pendingLanes;if(m===0)return 0;var y=0,N=o.suspendedLanes,O=o.pingedLanes,I=m&268435455;if(I!==0){var J=I&~N;J!==0?y=uc(J):(O&=I,O!==0&&(y=uc(O)))}else I=m&~N,I!==0?y=uc(I):O!==0&&(y=uc(O));if(y===0)return 0;if(c!==0&&c!==y&&(c&N)===0&&(N=y&-y,O=c&-c,N>=O||N===16&&(O&4194240)!==0))return c;if((y&4)!==0&&(y|=m&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=y;0<c;)m=31-ci(c),N=1<<m,y|=o[m],c&=~N;return y}function dL(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fL(o,c){for(var m=o.suspendedLanes,y=o.pingedLanes,N=o.expirationTimes,O=o.pendingLanes;0<O;){var I=31-ci(O),J=1<<I,ae=N[I];ae===-1?((J&m)===0||(J&y)!==0)&&(N[I]=dL(J,c)):ae<=c&&(o.expiredLanes|=J),O&=~J}}function Sm(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function O_(){var o=Cd;return Cd<<=1,(Cd&4194240)===0&&(Cd=64),o}function km(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function dc(o,c,m){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-ci(c),o[c]=m}function pL(o,c){var m=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<m;){var N=31-ci(m),O=1<<N;c[N]=0,y[N]=-1,o[N]=-1,m&=~O}}function Nm(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var y=31-ci(m),N=1<<y;N&c|o[y]&c&&(o[y]|=c),m&=~N}}var lr=0;function T_(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var R_,Cm,M_,D_,I_,Pm=!1,Ad=[],Ea=null,Aa=null,Oa=null,fc=new Map,pc=new Map,Ta=[],hL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $_(o,c){switch(o){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":fc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(c.pointerId)}}function hc(o,c,m,y,N,O){return o===null||o.nativeEvent!==O?(o={blockedOn:c,domEventName:m,eventSystemFlags:y,nativeEvent:O,targetContainers:[N]},c!==null&&(c=Pc(c),c!==null&&Cm(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,N!==null&&c.indexOf(N)===-1&&c.push(N),o)}function mL(o,c,m,y,N){switch(c){case"focusin":return Ea=hc(Ea,o,c,m,y,N),!0;case"dragenter":return Aa=hc(Aa,o,c,m,y,N),!0;case"mouseover":return Oa=hc(Oa,o,c,m,y,N),!0;case"pointerover":var O=N.pointerId;return fc.set(O,hc(fc.get(O)||null,o,c,m,y,N)),!0;case"gotpointercapture":return O=N.pointerId,pc.set(O,hc(pc.get(O)||null,o,c,m,y,N)),!0}return!1}function L_(o){var c=bs(o.target);if(c!==null){var m=yt(c);if(m!==null){if(c=m.tag,c===13){if(c=St(m),c!==null){o.blockedOn=c,I_(o.priority,function(){M_(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Od(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var m=Am(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(m===null){m=o.nativeEvent;var y=new m.constructor(m.type,m);dr=y,m.target.dispatchEvent(y),dr=null}else return c=Pc(m),c!==null&&Cm(c),o.blockedOn=m,!1;c.shift()}return!0}function F_(o,c,m){Od(o)&&m.delete(c)}function gL(){Pm=!1,Ea!==null&&Od(Ea)&&(Ea=null),Aa!==null&&Od(Aa)&&(Aa=null),Oa!==null&&Od(Oa)&&(Oa=null),fc.forEach(F_),pc.forEach(F_)}function mc(o,c){o.blockedOn===c&&(o.blockedOn=null,Pm||(Pm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gL)))}function gc(o){function c(N){return mc(N,o)}if(0<Ad.length){mc(Ad[0],o);for(var m=1;m<Ad.length;m++){var y=Ad[m];y.blockedOn===o&&(y.blockedOn=null)}}for(Ea!==null&&mc(Ea,o),Aa!==null&&mc(Aa,o),Oa!==null&&mc(Oa,o),fc.forEach(c),pc.forEach(c),m=0;m<Ta.length;m++)y=Ta[m],y.blockedOn===o&&(y.blockedOn=null);for(;0<Ta.length&&(m=Ta[0],m.blockedOn===null);)L_(m),m.blockedOn===null&&Ta.shift()}var yo=E.ReactCurrentBatchConfig,Td=!0;function yL(o,c,m,y){var N=lr,O=yo.transition;yo.transition=null;try{lr=1,Em(o,c,m,y)}finally{lr=N,yo.transition=O}}function vL(o,c,m,y){var N=lr,O=yo.transition;yo.transition=null;try{lr=4,Em(o,c,m,y)}finally{lr=N,yo.transition=O}}function Em(o,c,m,y){if(Td){var N=Am(o,c,m,y);if(N===null)Km(o,c,y,Rd,m),$_(o,y);else if(mL(N,o,c,m,y))y.stopPropagation();else if($_(o,y),c&4&&-1<hL.indexOf(o)){for(;N!==null;){var O=Pc(N);if(O!==null&&R_(O),O=Am(o,c,m,y),O===null&&Km(o,c,y,Rd,m),O===N)break;N=O}N!==null&&y.stopPropagation()}else Km(o,c,y,null,m)}}var Rd=null;function Am(o,c,m,y){if(Rd=null,o=he(y),o=bs(o),o!==null)if(c=yt(o),c===null)o=null;else if(m=c.tag,m===13){if(o=St(c),o!==null)return o;o=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return Rd=o,null}function B_(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aL()){case _m:return 1;case E_:return 4;case kd:case sL:return 16;case A_:return 536870912;default:return 16}default:return 16}}var Ra=null,Om=null,Md=null;function z_(){if(Md)return Md;var o,c=Om,m=c.length,y,N="value"in Ra?Ra.value:Ra.textContent,O=N.length;for(o=0;o<m&&c[o]===N[o];o++);var I=m-o;for(y=1;y<=I&&c[m-y]===N[O-y];y++);return Md=N.slice(o,1<y?1-y:void 0)}function Dd(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Id(){return!0}function U_(){return!1}function An(o){function c(m,y,N,O,I){this._reactName=m,this._targetInst=N,this.type=y,this.nativeEvent=O,this.target=I,this.currentTarget=null;for(var J in o)o.hasOwnProperty(J)&&(m=o[J],this[J]=m?m(O):O[J]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Id:U_,this.isPropagationStopped=U_,this}return re(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Id)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Id)},persist:function(){},isPersistent:Id}),c}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tm=An(vo),yc=re({},vo,{view:0,detail:0}),xL=An(yc),Rm,Mm,vc,$d=re({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Im,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==vc&&(vc&&o.type==="mousemove"?(Rm=o.screenX-vc.screenX,Mm=o.screenY-vc.screenY):Mm=Rm=0,vc=o),Rm)},movementY:function(o){return"movementY"in o?o.movementY:Mm}}),q_=An($d),bL=re({},$d,{dataTransfer:0}),wL=An(bL),jL=re({},yc,{relatedTarget:0}),Dm=An(jL),_L=re({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),SL=An(_L),kL=re({},vo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),NL=An(kL),CL=re({},vo,{data:0}),W_=An(CL),PL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OL(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=AL[o])?!!c[o]:!1}function Im(){return OL}var TL=re({},yc,{key:function(o){if(o.key){var c=PL[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Dd(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?EL[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Im,charCode:function(o){return o.type==="keypress"?Dd(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Dd(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),RL=An(TL),ML=re({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H_=An(ML),DL=re({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Im}),IL=An(DL),$L=re({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),LL=An($L),FL=re({},$d,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),BL=An(FL),zL=[9,13,27,32],$m=u&&"CompositionEvent"in window,xc=null;u&&"documentMode"in document&&(xc=document.documentMode);var UL=u&&"TextEvent"in window&&!xc,V_=u&&(!$m||xc&&8<xc&&11>=xc),K_=" ",G_=!1;function Y_(o,c){switch(o){case"keyup":return zL.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var xo=!1;function qL(o,c){switch(o){case"compositionend":return X_(c);case"keypress":return c.which!==32?null:(G_=!0,K_);case"textInput":return o=c.data,o===K_&&G_?null:o;default:return null}}function WL(o,c){if(xo)return o==="compositionend"||!$m&&Y_(o,c)?(o=z_(),Md=Om=Ra=null,xo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return V_&&c.locale!=="ko"?null:c.data;default:return null}}var HL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J_(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!HL[o.type]:c==="textarea"}function Q_(o,c,m,y){Te(y),c=Ud(c,"onChange"),0<c.length&&(m=new Tm("onChange","change",null,m,y),o.push({event:m,listeners:c}))}var bc=null,wc=null;function VL(o){gS(o,0)}function Ld(o){var c=So(o);if(W(c))return o}function KL(o,c){if(o==="change")return c}var Z_=!1;if(u){var Lm;if(u){var Fm="oninput"in document;if(!Fm){var eS=document.createElement("div");eS.setAttribute("oninput","return;"),Fm=typeof eS.oninput=="function"}Lm=Fm}else Lm=!1;Z_=Lm&&(!document.documentMode||9<document.documentMode)}function tS(){bc&&(bc.detachEvent("onpropertychange",rS),wc=bc=null)}function rS(o){if(o.propertyName==="value"&&Ld(wc)){var c=[];Q_(c,wc,o,he(o)),Ct(VL,c)}}function GL(o,c,m){o==="focusin"?(tS(),bc=c,wc=m,bc.attachEvent("onpropertychange",rS)):o==="focusout"&&tS()}function YL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ld(wc)}function XL(o,c){if(o==="click")return Ld(c)}function JL(o,c){if(o==="input"||o==="change")return Ld(c)}function QL(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ui=typeof Object.is=="function"?Object.is:QL;function jc(o,c){if(ui(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),y=Object.keys(c);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var N=m[y];if(!d.call(c,N)||!ui(o[N],c[N]))return!1}return!0}function nS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function iS(o,c){var m=nS(o);o=0;for(var y;m;){if(m.nodeType===3){if(y=o+m.textContent.length,o<=c&&y>=c)return{node:m,offset:c-o};o=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=nS(m)}}function aS(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?aS(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function sS(){for(var o=window,c=Y();c instanceof o.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)o=c.contentWindow;else break;c=Y(o.document)}return c}function Bm(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function ZL(o){var c=sS(),m=o.focusedElem,y=o.selectionRange;if(c!==m&&m&&m.ownerDocument&&aS(m.ownerDocument.documentElement,m)){if(y!==null&&Bm(m)){if(c=y.start,o=y.end,o===void 0&&(o=c),"selectionStart"in m)m.selectionStart=c,m.selectionEnd=Math.min(o,m.value.length);else if(o=(c=m.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var N=m.textContent.length,O=Math.min(y.start,N);y=y.end===void 0?O:Math.min(y.end,N),!o.extend&&O>y&&(N=y,y=O,O=N),N=iS(m,O);var I=iS(m,y);N&&I&&(o.rangeCount!==1||o.anchorNode!==N.node||o.anchorOffset!==N.offset||o.focusNode!==I.node||o.focusOffset!==I.offset)&&(c=c.createRange(),c.setStart(N.node,N.offset),o.removeAllRanges(),O>y?(o.addRange(c),o.extend(I.node,I.offset)):(c.setEnd(I.node,I.offset),o.addRange(c)))}}for(c=[],o=m;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<c.length;m++)o=c[m],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var eF=u&&"documentMode"in document&&11>=document.documentMode,bo=null,zm=null,_c=null,Um=!1;function oS(o,c,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Um||bo==null||bo!==Y(y)||(y=bo,"selectionStart"in y&&Bm(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),_c&&jc(_c,y)||(_c=y,y=Ud(zm,"onSelect"),0<y.length&&(c=new Tm("onSelect","select",null,c,m),o.push({event:c,listeners:y}),c.target=bo)))}function Fd(o,c){var m={};return m[o.toLowerCase()]=c.toLowerCase(),m["Webkit"+o]="webkit"+c,m["Moz"+o]="moz"+c,m}var wo={animationend:Fd("Animation","AnimationEnd"),animationiteration:Fd("Animation","AnimationIteration"),animationstart:Fd("Animation","AnimationStart"),transitionend:Fd("Transition","TransitionEnd")},qm={},lS={};u&&(lS=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function Bd(o){if(qm[o])return qm[o];if(!wo[o])return o;var c=wo[o],m;for(m in c)if(c.hasOwnProperty(m)&&m in lS)return qm[o]=c[m];return o}var cS=Bd("animationend"),uS=Bd("animationiteration"),dS=Bd("animationstart"),fS=Bd("transitionend"),pS=new Map,hS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(o,c){pS.set(o,c),s(c,[o])}for(var Wm=0;Wm<hS.length;Wm++){var Hm=hS[Wm],tF=Hm.toLowerCase(),rF=Hm[0].toUpperCase()+Hm.slice(1);Ma(tF,"on"+rF)}Ma(cS,"onAnimationEnd"),Ma(uS,"onAnimationIteration"),Ma(dS,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(fS,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sc));function mS(o,c,m){var y=o.type||"unknown-event";o.currentTarget=m,_e(y,c,void 0,o),o.currentTarget=null}function gS(o,c){c=(c&4)!==0;for(var m=0;m<o.length;m++){var y=o[m],N=y.event;y=y.listeners;e:{var O=void 0;if(c)for(var I=y.length-1;0<=I;I--){var J=y[I],ae=J.instance,be=J.currentTarget;if(J=J.listener,ae!==O&&N.isPropagationStopped())break e;mS(N,J,be),O=ae}else for(I=0;I<y.length;I++){if(J=y[I],ae=J.instance,be=J.currentTarget,J=J.listener,ae!==O&&N.isPropagationStopped())break e;mS(N,J,be),O=ae}}}if(tt)throw o=ze,tt=!1,ze=null,o}function yr(o,c){var m=c[Zm];m===void 0&&(m=c[Zm]=new Set);var y=o+"__bubble";m.has(y)||(yS(c,o,2,!1),m.add(y))}function Vm(o,c,m){var y=0;c&&(y|=4),yS(m,o,y,c)}var zd="_reactListening"+Math.random().toString(36).slice(2);function kc(o){if(!o[zd]){o[zd]=!0,n.forEach(function(m){m!=="selectionchange"&&(nF.has(m)||Vm(m,!1,o),Vm(m,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[zd]||(c[zd]=!0,Vm("selectionchange",!1,c))}}function yS(o,c,m,y){switch(B_(c)){case 1:var N=yL;break;case 4:N=vL;break;default:N=Em}m=N.bind(null,c,m,o),N=void 0,!Je||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(N=!0),y?N!==void 0?o.addEventListener(c,m,{capture:!0,passive:N}):o.addEventListener(c,m,!0):N!==void 0?o.addEventListener(c,m,{passive:N}):o.addEventListener(c,m,!1)}function Km(o,c,m,y,N){var O=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var I=y.tag;if(I===3||I===4){var J=y.stateNode.containerInfo;if(J===N||J.nodeType===8&&J.parentNode===N)break;if(I===4)for(I=y.return;I!==null;){var ae=I.tag;if((ae===3||ae===4)&&(ae=I.stateNode.containerInfo,ae===N||ae.nodeType===8&&ae.parentNode===N))return;I=I.return}for(;J!==null;){if(I=bs(J),I===null)return;if(ae=I.tag,ae===5||ae===6){y=O=I;continue e}J=J.parentNode}}y=y.return}Ct(function(){var be=O,De=he(m),Le=[];e:{var Re=pS.get(o);if(Re!==void 0){var Qe=Tm,st=o;switch(o){case"keypress":if(Dd(m)===0)break e;case"keydown":case"keyup":Qe=RL;break;case"focusin":st="focus",Qe=Dm;break;case"focusout":st="blur",Qe=Dm;break;case"beforeblur":case"afterblur":Qe=Dm;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qe=q_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qe=wL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qe=IL;break;case cS:case uS:case dS:Qe=SL;break;case fS:Qe=LL;break;case"scroll":Qe=xL;break;case"wheel":Qe=BL;break;case"copy":case"cut":case"paste":Qe=NL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qe=H_}var ft=(c&4)!==0,Er=!ft&&o==="scroll",fe=ft?Re!==null?Re+"Capture":null:Re;ft=[];for(var oe=be,ge;oe!==null;){ge=oe;var Ue=ge.stateNode;if(ge.tag===5&&Ue!==null&&(ge=Ue,fe!==null&&(Ue=Ce(oe,fe),Ue!=null&&ft.push(Nc(oe,Ue,ge)))),Er)break;oe=oe.return}0<ft.length&&(Re=new Qe(Re,st,null,m,De),Le.push({event:Re,listeners:ft}))}}if((c&7)===0){e:{if(Re=o==="mouseover"||o==="pointerover",Qe=o==="mouseout"||o==="pointerout",Re&&m!==dr&&(st=m.relatedTarget||m.fromElement)&&(bs(st)||st[Zi]))break e;if((Qe||Re)&&(Re=De.window===De?De:(Re=De.ownerDocument)?Re.defaultView||Re.parentWindow:window,Qe?(st=m.relatedTarget||m.toElement,Qe=be,st=st?bs(st):null,st!==null&&(Er=yt(st),st!==Er||st.tag!==5&&st.tag!==6)&&(st=null)):(Qe=null,st=be),Qe!==st)){if(ft=q_,Ue="onMouseLeave",fe="onMouseEnter",oe="mouse",(o==="pointerout"||o==="pointerover")&&(ft=H_,Ue="onPointerLeave",fe="onPointerEnter",oe="pointer"),Er=Qe==null?Re:So(Qe),ge=st==null?Re:So(st),Re=new ft(Ue,oe+"leave",Qe,m,De),Re.target=Er,Re.relatedTarget=ge,Ue=null,bs(De)===be&&(ft=new ft(fe,oe+"enter",st,m,De),ft.target=ge,ft.relatedTarget=Er,Ue=ft),Er=Ue,Qe&&st)t:{for(ft=Qe,fe=st,oe=0,ge=ft;ge;ge=jo(ge))oe++;for(ge=0,Ue=fe;Ue;Ue=jo(Ue))ge++;for(;0<oe-ge;)ft=jo(ft),oe--;for(;0<ge-oe;)fe=jo(fe),ge--;for(;oe--;){if(ft===fe||fe!==null&&ft===fe.alternate)break t;ft=jo(ft),fe=jo(fe)}ft=null}else ft=null;Qe!==null&&vS(Le,Re,Qe,ft,!1),st!==null&&Er!==null&&vS(Le,Er,st,ft,!0)}}e:{if(Re=be?So(be):window,Qe=Re.nodeName&&Re.nodeName.toLowerCase(),Qe==="select"||Qe==="input"&&Re.type==="file")var pt=KL;else if(J_(Re))if(Z_)pt=JL;else{pt=YL;var vt=GL}else(Qe=Re.nodeName)&&Qe.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(pt=XL);if(pt&&(pt=pt(o,be))){Q_(Le,pt,m,De);break e}vt&&vt(o,Re,be),o==="focusout"&&(vt=Re._wrapperState)&&vt.controlled&&Re.type==="number"&&je(Re,"number",Re.value)}switch(vt=be?So(be):window,o){case"focusin":(J_(vt)||vt.contentEditable==="true")&&(bo=vt,zm=be,_c=null);break;case"focusout":_c=zm=bo=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,oS(Le,m,De);break;case"selectionchange":if(eF)break;case"keydown":case"keyup":oS(Le,m,De)}var xt;if($m)e:{switch(o){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else xo?Y_(o,m)&&(kt="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(kt="onCompositionStart");kt&&(V_&&m.locale!=="ko"&&(xo||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&xo&&(xt=z_()):(Ra=De,Om="value"in Ra?Ra.value:Ra.textContent,xo=!0)),vt=Ud(be,kt),0<vt.length&&(kt=new W_(kt,o,null,m,De),Le.push({event:kt,listeners:vt}),xt?kt.data=xt:(xt=X_(m),xt!==null&&(kt.data=xt)))),(xt=UL?qL(o,m):WL(o,m))&&(be=Ud(be,"onBeforeInput"),0<be.length&&(De=new W_("onBeforeInput","beforeinput",null,m,De),Le.push({event:De,listeners:be}),De.data=xt))}gS(Le,c)})}function Nc(o,c,m){return{instance:o,listener:c,currentTarget:m}}function Ud(o,c){for(var m=c+"Capture",y=[];o!==null;){var N=o,O=N.stateNode;N.tag===5&&O!==null&&(N=O,O=Ce(o,m),O!=null&&y.unshift(Nc(o,O,N)),O=Ce(o,c),O!=null&&y.push(Nc(o,O,N))),o=o.return}return y}function jo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function vS(o,c,m,y,N){for(var O=c._reactName,I=[];m!==null&&m!==y;){var J=m,ae=J.alternate,be=J.stateNode;if(ae!==null&&ae===y)break;J.tag===5&&be!==null&&(J=be,N?(ae=Ce(m,O),ae!=null&&I.unshift(Nc(m,ae,J))):N||(ae=Ce(m,O),ae!=null&&I.push(Nc(m,ae,J)))),m=m.return}I.length!==0&&o.push({event:c,listeners:I})}var iF=/\r\n?/g,aF=/\u0000|\uFFFD/g;function xS(o){return(typeof o=="string"?o:""+o).replace(iF,`
`).replace(aF,"")}function qd(o,c,m){if(c=xS(c),xS(o)!==c&&m)throw Error(r(425))}function Wd(){}var Gm=null,Ym=null;function Xm(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Jm=typeof setTimeout=="function"?setTimeout:void 0,sF=typeof clearTimeout=="function"?clearTimeout:void 0,bS=typeof Promise=="function"?Promise:void 0,oF=typeof queueMicrotask=="function"?queueMicrotask:typeof bS<"u"?function(o){return bS.resolve(null).then(o).catch(lF)}:Jm;function lF(o){setTimeout(function(){throw o})}function Qm(o,c){var m=c,y=0;do{var N=m.nextSibling;if(o.removeChild(m),N&&N.nodeType===8)if(m=N.data,m==="/$"){if(y===0){o.removeChild(N),gc(c);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=N}while(m);gc(c)}function Da(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function wS(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return o;c--}else m==="/$"&&c++}o=o.previousSibling}return null}var _o=Math.random().toString(36).slice(2),Oi="__reactFiber$"+_o,Cc="__reactProps$"+_o,Zi="__reactContainer$"+_o,Zm="__reactEvents$"+_o,cF="__reactListeners$"+_o,uF="__reactHandles$"+_o;function bs(o){var c=o[Oi];if(c)return c;for(var m=o.parentNode;m;){if(c=m[Zi]||m[Oi]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(o=wS(o);o!==null;){if(m=o[Oi])return m;o=wS(o)}return c}o=m,m=o.parentNode}return null}function Pc(o){return o=o[Oi]||o[Zi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function So(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Hd(o){return o[Cc]||null}var eg=[],ko=-1;function Ia(o){return{current:o}}function vr(o){0>ko||(o.current=eg[ko],eg[ko]=null,ko--)}function fr(o,c){ko++,eg[ko]=o.current,o.current=c}var $a={},tn=Ia($a),vn=Ia(!1),ws=$a;function No(o,c){var m=o.type.contextTypes;if(!m)return $a;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var N={},O;for(O in m)N[O]=c[O];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=N),N}function xn(o){return o=o.childContextTypes,o!=null}function Vd(){vr(vn),vr(tn)}function jS(o,c,m){if(tn.current!==$a)throw Error(r(168));fr(tn,c),fr(vn,m)}function _S(o,c,m){var y=o.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var N in y)if(!(N in c))throw Error(r(108,ye(o)||"Unknown",N));return re({},m,y)}function Kd(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||$a,ws=tn.current,fr(tn,o),fr(vn,vn.current),!0}function SS(o,c,m){var y=o.stateNode;if(!y)throw Error(r(169));m?(o=_S(o,c,ws),y.__reactInternalMemoizedMergedChildContext=o,vr(vn),vr(tn),fr(tn,o)):vr(vn),fr(vn,m)}var ea=null,Gd=!1,tg=!1;function kS(o){ea===null?ea=[o]:ea.push(o)}function dF(o){Gd=!0,kS(o)}function La(){if(!tg&&ea!==null){tg=!0;var o=0,c=lr;try{var m=ea;for(lr=1;o<m.length;o++){var y=m[o];do y=y(!0);while(y!==null)}ea=null,Gd=!1}catch(N){throw ea!==null&&(ea=ea.slice(o+1)),or(_m,La),N}finally{lr=c,tg=!1}}return null}var Co=[],Po=0,Yd=null,Xd=0,Wn=[],Hn=0,js=null,ta=1,ra="";function _s(o,c){Co[Po++]=Xd,Co[Po++]=Yd,Yd=o,Xd=c}function NS(o,c,m){Wn[Hn++]=ta,Wn[Hn++]=ra,Wn[Hn++]=js,js=o;var y=ta;o=ra;var N=32-ci(y)-1;y&=~(1<<N),m+=1;var O=32-ci(c)+N;if(30<O){var I=N-N%5;O=(y&(1<<I)-1).toString(32),y>>=I,N-=I,ta=1<<32-ci(c)+N|m<<N|y,ra=O+o}else ta=1<<O|m<<N|y,ra=o}function rg(o){o.return!==null&&(_s(o,1),NS(o,1,0))}function ng(o){for(;o===Yd;)Yd=Co[--Po],Co[Po]=null,Xd=Co[--Po],Co[Po]=null;for(;o===js;)js=Wn[--Hn],Wn[Hn]=null,ra=Wn[--Hn],Wn[Hn]=null,ta=Wn[--Hn],Wn[Hn]=null}var On=null,Tn=null,br=!1,di=null;function CS(o,c){var m=Yn(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=o,c=o.deletions,c===null?(o.deletions=[m],o.flags|=16):c.push(m)}function PS(o,c){switch(o.tag){case 5:var m=o.type;return c=c.nodeType!==1||m.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,On=o,Tn=Da(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,On=o,Tn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(m=js!==null?{id:ta,overflow:ra}:null,o.memoizedState={dehydrated:c,treeContext:m,retryLane:1073741824},m=Yn(18,null,null,0),m.stateNode=c,m.return=o,o.child=m,On=o,Tn=null,!0):!1;default:return!1}}function ig(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ag(o){if(br){var c=Tn;if(c){var m=c;if(!PS(o,c)){if(ig(o))throw Error(r(418));c=Da(m.nextSibling);var y=On;c&&PS(o,c)?CS(y,m):(o.flags=o.flags&-4097|2,br=!1,On=o)}}else{if(ig(o))throw Error(r(418));o.flags=o.flags&-4097|2,br=!1,On=o}}}function ES(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;On=o}function Jd(o){if(o!==On)return!1;if(!br)return ES(o),br=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Xm(o.type,o.memoizedProps)),c&&(c=Tn)){if(ig(o))throw AS(),Error(r(418));for(;c;)CS(o,c),c=Da(c.nextSibling)}if(ES(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"){if(c===0){Tn=Da(o.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++}o=o.nextSibling}Tn=null}}else Tn=On?Da(o.stateNode.nextSibling):null;return!0}function AS(){for(var o=Tn;o;)o=Da(o.nextSibling)}function Eo(){Tn=On=null,br=!1}function sg(o){di===null?di=[o]:di.push(o)}var fF=E.ReactCurrentBatchConfig;function Ec(o,c,m){if(o=m.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var y=m.stateNode}if(!y)throw Error(r(147,o));var N=y,O=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===O?c.ref:(c=function(I){var J=N.refs;I===null?delete J[O]:J[O]=I},c._stringRef=O,c)}if(typeof o!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,o))}return o}function Qd(o,c){throw o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function OS(o){var c=o._init;return c(o._payload)}function TS(o){function c(fe,oe){if(o){var ge=fe.deletions;ge===null?(fe.deletions=[oe],fe.flags|=16):ge.push(oe)}}function m(fe,oe){if(!o)return null;for(;oe!==null;)c(fe,oe),oe=oe.sibling;return null}function y(fe,oe){for(fe=new Map;oe!==null;)oe.key!==null?fe.set(oe.key,oe):fe.set(oe.index,oe),oe=oe.sibling;return fe}function N(fe,oe){return fe=Va(fe,oe),fe.index=0,fe.sibling=null,fe}function O(fe,oe,ge){return fe.index=ge,o?(ge=fe.alternate,ge!==null?(ge=ge.index,ge<oe?(fe.flags|=2,oe):ge):(fe.flags|=2,oe)):(fe.flags|=1048576,oe)}function I(fe){return o&&fe.alternate===null&&(fe.flags|=2),fe}function J(fe,oe,ge,Ue){return oe===null||oe.tag!==6?(oe=Jg(ge,fe.mode,Ue),oe.return=fe,oe):(oe=N(oe,ge),oe.return=fe,oe)}function ae(fe,oe,ge,Ue){var pt=ge.type;return pt===P?De(fe,oe,ge.props.children,Ue,ge.key):oe!==null&&(oe.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===B&&OS(pt)===oe.type)?(Ue=N(oe,ge.props),Ue.ref=Ec(fe,oe,ge),Ue.return=fe,Ue):(Ue=_f(ge.type,ge.key,ge.props,null,fe.mode,Ue),Ue.ref=Ec(fe,oe,ge),Ue.return=fe,Ue)}function be(fe,oe,ge,Ue){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ge.containerInfo||oe.stateNode.implementation!==ge.implementation?(oe=Qg(ge,fe.mode,Ue),oe.return=fe,oe):(oe=N(oe,ge.children||[]),oe.return=fe,oe)}function De(fe,oe,ge,Ue,pt){return oe===null||oe.tag!==7?(oe=Os(ge,fe.mode,Ue,pt),oe.return=fe,oe):(oe=N(oe,ge),oe.return=fe,oe)}function Le(fe,oe,ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Jg(""+oe,fe.mode,ge),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case _:return ge=_f(oe.type,oe.key,oe.props,null,fe.mode,ge),ge.ref=Ec(fe,null,oe),ge.return=fe,ge;case A:return oe=Qg(oe,fe.mode,ge),oe.return=fe,oe;case B:var Ue=oe._init;return Le(fe,Ue(oe._payload),ge)}if(Q(oe)||te(oe))return oe=Os(oe,fe.mode,ge,null),oe.return=fe,oe;Qd(fe,oe)}return null}function Re(fe,oe,ge,Ue){var pt=oe!==null?oe.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return pt!==null?null:J(fe,oe,""+ge,Ue);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case _:return ge.key===pt?ae(fe,oe,ge,Ue):null;case A:return ge.key===pt?be(fe,oe,ge,Ue):null;case B:return pt=ge._init,Re(fe,oe,pt(ge._payload),Ue)}if(Q(ge)||te(ge))return pt!==null?null:De(fe,oe,ge,Ue,null);Qd(fe,ge)}return null}function Qe(fe,oe,ge,Ue,pt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return fe=fe.get(ge)||null,J(oe,fe,""+Ue,pt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case _:return fe=fe.get(Ue.key===null?ge:Ue.key)||null,ae(oe,fe,Ue,pt);case A:return fe=fe.get(Ue.key===null?ge:Ue.key)||null,be(oe,fe,Ue,pt);case B:var vt=Ue._init;return Qe(fe,oe,ge,vt(Ue._payload),pt)}if(Q(Ue)||te(Ue))return fe=fe.get(ge)||null,De(oe,fe,Ue,pt,null);Qd(oe,Ue)}return null}function st(fe,oe,ge,Ue){for(var pt=null,vt=null,xt=oe,kt=oe=0,qr=null;xt!==null&&kt<ge.length;kt++){xt.index>kt?(qr=xt,xt=null):qr=xt.sibling;var Jt=Re(fe,xt,ge[kt],Ue);if(Jt===null){xt===null&&(xt=qr);break}o&&xt&&Jt.alternate===null&&c(fe,xt),oe=O(Jt,oe,kt),vt===null?pt=Jt:vt.sibling=Jt,vt=Jt,xt=qr}if(kt===ge.length)return m(fe,xt),br&&_s(fe,kt),pt;if(xt===null){for(;kt<ge.length;kt++)xt=Le(fe,ge[kt],Ue),xt!==null&&(oe=O(xt,oe,kt),vt===null?pt=xt:vt.sibling=xt,vt=xt);return br&&_s(fe,kt),pt}for(xt=y(fe,xt);kt<ge.length;kt++)qr=Qe(xt,fe,kt,ge[kt],Ue),qr!==null&&(o&&qr.alternate!==null&&xt.delete(qr.key===null?kt:qr.key),oe=O(qr,oe,kt),vt===null?pt=qr:vt.sibling=qr,vt=qr);return o&&xt.forEach(function(Ka){return c(fe,Ka)}),br&&_s(fe,kt),pt}function ft(fe,oe,ge,Ue){var pt=te(ge);if(typeof pt!="function")throw Error(r(150));if(ge=pt.call(ge),ge==null)throw Error(r(151));for(var vt=pt=null,xt=oe,kt=oe=0,qr=null,Jt=ge.next();xt!==null&&!Jt.done;kt++,Jt=ge.next()){xt.index>kt?(qr=xt,xt=null):qr=xt.sibling;var Ka=Re(fe,xt,Jt.value,Ue);if(Ka===null){xt===null&&(xt=qr);break}o&&xt&&Ka.alternate===null&&c(fe,xt),oe=O(Ka,oe,kt),vt===null?pt=Ka:vt.sibling=Ka,vt=Ka,xt=qr}if(Jt.done)return m(fe,xt),br&&_s(fe,kt),pt;if(xt===null){for(;!Jt.done;kt++,Jt=ge.next())Jt=Le(fe,Jt.value,Ue),Jt!==null&&(oe=O(Jt,oe,kt),vt===null?pt=Jt:vt.sibling=Jt,vt=Jt);return br&&_s(fe,kt),pt}for(xt=y(fe,xt);!Jt.done;kt++,Jt=ge.next())Jt=Qe(xt,fe,kt,Jt.value,Ue),Jt!==null&&(o&&Jt.alternate!==null&&xt.delete(Jt.key===null?kt:Jt.key),oe=O(Jt,oe,kt),vt===null?pt=Jt:vt.sibling=Jt,vt=Jt);return o&&xt.forEach(function(HF){return c(fe,HF)}),br&&_s(fe,kt),pt}function Er(fe,oe,ge,Ue){if(typeof ge=="object"&&ge!==null&&ge.type===P&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case _:e:{for(var pt=ge.key,vt=oe;vt!==null;){if(vt.key===pt){if(pt=ge.type,pt===P){if(vt.tag===7){m(fe,vt.sibling),oe=N(vt,ge.props.children),oe.return=fe,fe=oe;break e}}else if(vt.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===B&&OS(pt)===vt.type){m(fe,vt.sibling),oe=N(vt,ge.props),oe.ref=Ec(fe,vt,ge),oe.return=fe,fe=oe;break e}m(fe,vt);break}else c(fe,vt);vt=vt.sibling}ge.type===P?(oe=Os(ge.props.children,fe.mode,Ue,ge.key),oe.return=fe,fe=oe):(Ue=_f(ge.type,ge.key,ge.props,null,fe.mode,Ue),Ue.ref=Ec(fe,oe,ge),Ue.return=fe,fe=Ue)}return I(fe);case A:e:{for(vt=ge.key;oe!==null;){if(oe.key===vt)if(oe.tag===4&&oe.stateNode.containerInfo===ge.containerInfo&&oe.stateNode.implementation===ge.implementation){m(fe,oe.sibling),oe=N(oe,ge.children||[]),oe.return=fe,fe=oe;break e}else{m(fe,oe);break}else c(fe,oe);oe=oe.sibling}oe=Qg(ge,fe.mode,Ue),oe.return=fe,fe=oe}return I(fe);case B:return vt=ge._init,Er(fe,oe,vt(ge._payload),Ue)}if(Q(ge))return st(fe,oe,ge,Ue);if(te(ge))return ft(fe,oe,ge,Ue);Qd(fe,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,oe!==null&&oe.tag===6?(m(fe,oe.sibling),oe=N(oe,ge),oe.return=fe,fe=oe):(m(fe,oe),oe=Jg(ge,fe.mode,Ue),oe.return=fe,fe=oe),I(fe)):m(fe,oe)}return Er}var Ao=TS(!0),RS=TS(!1),Zd=Ia(null),ef=null,Oo=null,og=null;function lg(){og=Oo=ef=null}function cg(o){var c=Zd.current;vr(Zd),o._currentValue=c}function ug(o,c,m){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===m)break;o=o.return}}function To(o,c){ef=o,og=Oo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(bn=!0),o.firstContext=null)}function Vn(o){var c=o._currentValue;if(og!==o)if(o={context:o,memoizedValue:c,next:null},Oo===null){if(ef===null)throw Error(r(308));Oo=o,ef.dependencies={lanes:0,firstContext:o}}else Oo=Oo.next=o;return c}var Ss=null;function dg(o){Ss===null?Ss=[o]:Ss.push(o)}function MS(o,c,m,y){var N=c.interleaved;return N===null?(m.next=m,dg(c)):(m.next=N.next,N.next=m),c.interleaved=m,na(o,y)}function na(o,c){o.lanes|=c;var m=o.alternate;for(m!==null&&(m.lanes|=c),m=o,o=o.return;o!==null;)o.childLanes|=c,m=o.alternate,m!==null&&(m.childLanes|=c),m=o,o=o.return;return m.tag===3?m.stateNode:null}var Fa=!1;function fg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DS(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ia(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function Ba(o,c,m){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Gt&2)!==0){var N=y.pending;return N===null?c.next=c:(c.next=N.next,N.next=c),y.pending=c,na(o,m)}return N=y.interleaved,N===null?(c.next=c,dg(y)):(c.next=N.next,N.next=c),y.interleaved=c,na(o,m)}function tf(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194240)!==0)){var y=c.lanes;y&=o.pendingLanes,m|=y,c.lanes=m,Nm(o,m)}}function IS(o,c){var m=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var N=null,O=null;if(m=m.firstBaseUpdate,m!==null){do{var I={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};O===null?N=O=I:O=O.next=I,m=m.next}while(m!==null);O===null?N=O=c:O=O.next=c}else N=O=c;m={baseState:y.baseState,firstBaseUpdate:N,lastBaseUpdate:O,shared:y.shared,effects:y.effects},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}function rf(o,c,m,y){var N=o.updateQueue;Fa=!1;var O=N.firstBaseUpdate,I=N.lastBaseUpdate,J=N.shared.pending;if(J!==null){N.shared.pending=null;var ae=J,be=ae.next;ae.next=null,I===null?O=be:I.next=be,I=ae;var De=o.alternate;De!==null&&(De=De.updateQueue,J=De.lastBaseUpdate,J!==I&&(J===null?De.firstBaseUpdate=be:J.next=be,De.lastBaseUpdate=ae))}if(O!==null){var Le=N.baseState;I=0,De=be=ae=null,J=O;do{var Re=J.lane,Qe=J.eventTime;if((y&Re)===Re){De!==null&&(De=De.next={eventTime:Qe,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var st=o,ft=J;switch(Re=c,Qe=m,ft.tag){case 1:if(st=ft.payload,typeof st=="function"){Le=st.call(Qe,Le,Re);break e}Le=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ft.payload,Re=typeof st=="function"?st.call(Qe,Le,Re):st,Re==null)break e;Le=re({},Le,Re);break e;case 2:Fa=!0}}J.callback!==null&&J.lane!==0&&(o.flags|=64,Re=N.effects,Re===null?N.effects=[J]:Re.push(J))}else Qe={eventTime:Qe,lane:Re,tag:J.tag,payload:J.payload,callback:J.callback,next:null},De===null?(be=De=Qe,ae=Le):De=De.next=Qe,I|=Re;if(J=J.next,J===null){if(J=N.shared.pending,J===null)break;Re=J,J=Re.next,Re.next=null,N.lastBaseUpdate=Re,N.shared.pending=null}}while(!0);if(De===null&&(ae=Le),N.baseState=ae,N.firstBaseUpdate=be,N.lastBaseUpdate=De,c=N.shared.interleaved,c!==null){N=c;do I|=N.lane,N=N.next;while(N!==c)}else O===null&&(N.shared.lanes=0);Cs|=I,o.lanes=I,o.memoizedState=Le}}function $S(o,c,m){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var y=o[c],N=y.callback;if(N!==null){if(y.callback=null,y=m,typeof N!="function")throw Error(r(191,N));N.call(y)}}}var Ac={},Ti=Ia(Ac),Oc=Ia(Ac),Tc=Ia(Ac);function ks(o){if(o===Ac)throw Error(r(174));return o}function pg(o,c){switch(fr(Tc,c),fr(Oc,o),fr(Ti,Ac),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:_t(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=_t(c,o)}vr(Ti),fr(Ti,c)}function Ro(){vr(Ti),vr(Oc),vr(Tc)}function LS(o){ks(Tc.current);var c=ks(Ti.current),m=_t(c,o.type);c!==m&&(fr(Oc,o),fr(Ti,m))}function hg(o){Oc.current===o&&(vr(Ti),vr(Oc))}var _r=Ia(0);function nf(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var mg=[];function gg(){for(var o=0;o<mg.length;o++)mg[o]._workInProgressVersionPrimary=null;mg.length=0}var af=E.ReactCurrentDispatcher,yg=E.ReactCurrentBatchConfig,Ns=0,Sr=null,Rr=null,zr=null,sf=!1,Rc=!1,Mc=0,pF=0;function rn(){throw Error(r(321))}function vg(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!ui(o[m],c[m]))return!1;return!0}function xg(o,c,m,y,N,O){if(Ns=O,Sr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,af.current=o===null||o.memoizedState===null?yF:vF,o=m(y,N),Rc){O=0;do{if(Rc=!1,Mc=0,25<=O)throw Error(r(301));O+=1,zr=Rr=null,c.updateQueue=null,af.current=xF,o=m(y,N)}while(Rc)}if(af.current=cf,c=Rr!==null&&Rr.next!==null,Ns=0,zr=Rr=Sr=null,sf=!1,c)throw Error(r(300));return o}function bg(){var o=Mc!==0;return Mc=0,o}function Ri(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?Sr.memoizedState=zr=o:zr=zr.next=o,zr}function Kn(){if(Rr===null){var o=Sr.alternate;o=o!==null?o.memoizedState:null}else o=Rr.next;var c=zr===null?Sr.memoizedState:zr.next;if(c!==null)zr=c,Rr=o;else{if(o===null)throw Error(r(310));Rr=o,o={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},zr===null?Sr.memoizedState=zr=o:zr=zr.next=o}return zr}function Dc(o,c){return typeof c=="function"?c(o):c}function wg(o){var c=Kn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=o;var y=Rr,N=y.baseQueue,O=m.pending;if(O!==null){if(N!==null){var I=N.next;N.next=O.next,O.next=I}y.baseQueue=N=O,m.pending=null}if(N!==null){O=N.next,y=y.baseState;var J=I=null,ae=null,be=O;do{var De=be.lane;if((Ns&De)===De)ae!==null&&(ae=ae.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),y=be.hasEagerState?be.eagerState:o(y,be.action);else{var Le={lane:De,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};ae===null?(J=ae=Le,I=y):ae=ae.next=Le,Sr.lanes|=De,Cs|=De}be=be.next}while(be!==null&&be!==O);ae===null?I=y:ae.next=J,ui(y,c.memoizedState)||(bn=!0),c.memoizedState=y,c.baseState=I,c.baseQueue=ae,m.lastRenderedState=y}if(o=m.interleaved,o!==null){N=o;do O=N.lane,Sr.lanes|=O,Cs|=O,N=N.next;while(N!==o)}else N===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function jg(o){var c=Kn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=o;var y=m.dispatch,N=m.pending,O=c.memoizedState;if(N!==null){m.pending=null;var I=N=N.next;do O=o(O,I.action),I=I.next;while(I!==N);ui(O,c.memoizedState)||(bn=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),m.lastRenderedState=O}return[O,y]}function FS(){}function BS(o,c){var m=Sr,y=Kn(),N=c(),O=!ui(y.memoizedState,N);if(O&&(y.memoizedState=N,bn=!0),y=y.queue,_g(qS.bind(null,m,y,o),[o]),y.getSnapshot!==c||O||zr!==null&&zr.memoizedState.tag&1){if(m.flags|=2048,Ic(9,US.bind(null,m,y,N,c),void 0,null),Ur===null)throw Error(r(349));(Ns&30)!==0||zS(m,c,N)}return N}function zS(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=Sr.updateQueue,c===null?(c={lastEffect:null,stores:null},Sr.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function US(o,c,m,y){c.value=m,c.getSnapshot=y,WS(c)&&HS(o)}function qS(o,c,m){return m(function(){WS(c)&&HS(o)})}function WS(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!ui(o,m)}catch{return!0}}function HS(o){var c=na(o,1);c!==null&&mi(c,o,1,-1)}function VS(o){var c=Ri();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dc,lastRenderedState:o},c.queue=o,o=o.dispatch=gF.bind(null,Sr,o),[c.memoizedState,o]}function Ic(o,c,m,y){return o={tag:o,create:c,destroy:m,deps:y,next:null},c=Sr.updateQueue,c===null?(c={lastEffect:null,stores:null},Sr.updateQueue=c,c.lastEffect=o.next=o):(m=c.lastEffect,m===null?c.lastEffect=o.next=o:(y=m.next,m.next=o,o.next=y,c.lastEffect=o)),o}function KS(){return Kn().memoizedState}function of(o,c,m,y){var N=Ri();Sr.flags|=o,N.memoizedState=Ic(1|c,m,void 0,y===void 0?null:y)}function lf(o,c,m,y){var N=Kn();y=y===void 0?null:y;var O=void 0;if(Rr!==null){var I=Rr.memoizedState;if(O=I.destroy,y!==null&&vg(y,I.deps)){N.memoizedState=Ic(c,m,O,y);return}}Sr.flags|=o,N.memoizedState=Ic(1|c,m,O,y)}function GS(o,c){return of(8390656,8,o,c)}function _g(o,c){return lf(2048,8,o,c)}function YS(o,c){return lf(4,2,o,c)}function XS(o,c){return lf(4,4,o,c)}function JS(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function QS(o,c,m){return m=m!=null?m.concat([o]):null,lf(4,4,JS.bind(null,c,o),m)}function Sg(){}function ZS(o,c){var m=Kn();c=c===void 0?null:c;var y=m.memoizedState;return y!==null&&c!==null&&vg(c,y[1])?y[0]:(m.memoizedState=[o,c],o)}function ek(o,c){var m=Kn();c=c===void 0?null:c;var y=m.memoizedState;return y!==null&&c!==null&&vg(c,y[1])?y[0]:(o=o(),m.memoizedState=[o,c],o)}function tk(o,c,m){return(Ns&21)===0?(o.baseState&&(o.baseState=!1,bn=!0),o.memoizedState=m):(ui(m,c)||(m=O_(),Sr.lanes|=m,Cs|=m,o.baseState=!0),c)}function hF(o,c){var m=lr;lr=m!==0&&4>m?m:4,o(!0);var y=yg.transition;yg.transition={};try{o(!1),c()}finally{lr=m,yg.transition=y}}function rk(){return Kn().memoizedState}function mF(o,c,m){var y=Wa(o);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},nk(o))ik(c,m);else if(m=MS(o,c,m,y),m!==null){var N=un();mi(m,o,y,N),ak(m,c,y)}}function gF(o,c,m){var y=Wa(o),N={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(nk(o))ik(c,N);else{var O=o.alternate;if(o.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var I=c.lastRenderedState,J=O(I,m);if(N.hasEagerState=!0,N.eagerState=J,ui(J,I)){var ae=c.interleaved;ae===null?(N.next=N,dg(c)):(N.next=ae.next,ae.next=N),c.interleaved=N;return}}catch{}finally{}m=MS(o,c,N,y),m!==null&&(N=un(),mi(m,o,y,N),ak(m,c,y))}}function nk(o){var c=o.alternate;return o===Sr||c!==null&&c===Sr}function ik(o,c){Rc=sf=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function ak(o,c,m){if((m&4194240)!==0){var y=c.lanes;y&=o.pendingLanes,m|=y,c.lanes=m,Nm(o,m)}}var cf={readContext:Vn,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},yF={readContext:Vn,useCallback:function(o,c){return Ri().memoizedState=[o,c===void 0?null:c],o},useContext:Vn,useEffect:GS,useImperativeHandle:function(o,c,m){return m=m!=null?m.concat([o]):null,of(4194308,4,JS.bind(null,c,o),m)},useLayoutEffect:function(o,c){return of(4194308,4,o,c)},useInsertionEffect:function(o,c){return of(4,2,o,c)},useMemo:function(o,c){var m=Ri();return c=c===void 0?null:c,o=o(),m.memoizedState=[o,c],o},useReducer:function(o,c,m){var y=Ri();return c=m!==void 0?m(c):c,y.memoizedState=y.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},y.queue=o,o=o.dispatch=mF.bind(null,Sr,o),[y.memoizedState,o]},useRef:function(o){var c=Ri();return o={current:o},c.memoizedState=o},useState:VS,useDebugValue:Sg,useDeferredValue:function(o){return Ri().memoizedState=o},useTransition:function(){var o=VS(!1),c=o[0];return o=hF.bind(null,o[1]),Ri().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,m){var y=Sr,N=Ri();if(br){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),Ur===null)throw Error(r(349));(Ns&30)!==0||zS(y,c,m)}N.memoizedState=m;var O={value:m,getSnapshot:c};return N.queue=O,GS(qS.bind(null,y,O,o),[o]),y.flags|=2048,Ic(9,US.bind(null,y,O,m,c),void 0,null),m},useId:function(){var o=Ri(),c=Ur.identifierPrefix;if(br){var m=ra,y=ta;m=(y&~(1<<32-ci(y)-1)).toString(32)+m,c=":"+c+"R"+m,m=Mc++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=pF++,c=":"+c+"r"+m.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},vF={readContext:Vn,useCallback:ZS,useContext:Vn,useEffect:_g,useImperativeHandle:QS,useInsertionEffect:YS,useLayoutEffect:XS,useMemo:ek,useReducer:wg,useRef:KS,useState:function(){return wg(Dc)},useDebugValue:Sg,useDeferredValue:function(o){var c=Kn();return tk(c,Rr.memoizedState,o)},useTransition:function(){var o=wg(Dc)[0],c=Kn().memoizedState;return[o,c]},useMutableSource:FS,useSyncExternalStore:BS,useId:rk,unstable_isNewReconciler:!1},xF={readContext:Vn,useCallback:ZS,useContext:Vn,useEffect:_g,useImperativeHandle:QS,useInsertionEffect:YS,useLayoutEffect:XS,useMemo:ek,useReducer:jg,useRef:KS,useState:function(){return jg(Dc)},useDebugValue:Sg,useDeferredValue:function(o){var c=Kn();return Rr===null?c.memoizedState=o:tk(c,Rr.memoizedState,o)},useTransition:function(){var o=jg(Dc)[0],c=Kn().memoizedState;return[o,c]},useMutableSource:FS,useSyncExternalStore:BS,useId:rk,unstable_isNewReconciler:!1};function fi(o,c){if(o&&o.defaultProps){c=re({},c),o=o.defaultProps;for(var m in o)c[m]===void 0&&(c[m]=o[m]);return c}return c}function kg(o,c,m,y){c=o.memoizedState,m=m(y,c),m=m==null?c:re({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var uf={isMounted:function(o){return(o=o._reactInternals)?yt(o)===o:!1},enqueueSetState:function(o,c,m){o=o._reactInternals;var y=un(),N=Wa(o),O=ia(y,N);O.payload=c,m!=null&&(O.callback=m),c=Ba(o,O,N),c!==null&&(mi(c,o,N,y),tf(c,o,N))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var y=un(),N=Wa(o),O=ia(y,N);O.tag=1,O.payload=c,m!=null&&(O.callback=m),c=Ba(o,O,N),c!==null&&(mi(c,o,N,y),tf(c,o,N))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=un(),y=Wa(o),N=ia(m,y);N.tag=2,c!=null&&(N.callback=c),c=Ba(o,N,y),c!==null&&(mi(c,o,y,m),tf(c,o,y))}};function sk(o,c,m,y,N,O,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,O,I):c.prototype&&c.prototype.isPureReactComponent?!jc(m,y)||!jc(N,O):!0}function ok(o,c,m){var y=!1,N=$a,O=c.contextType;return typeof O=="object"&&O!==null?O=Vn(O):(N=xn(c)?ws:tn.current,y=c.contextTypes,O=(y=y!=null)?No(o,N):$a),c=new c(m,O),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=uf,o.stateNode=c,c._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=N,o.__reactInternalMemoizedMaskedChildContext=O),c}function lk(o,c,m,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,y),c.state!==o&&uf.enqueueReplaceState(c,c.state,null)}function Ng(o,c,m,y){var N=o.stateNode;N.props=m,N.state=o.memoizedState,N.refs={},fg(o);var O=c.contextType;typeof O=="object"&&O!==null?N.context=Vn(O):(O=xn(c)?ws:tn.current,N.context=No(o,O)),N.state=o.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(kg(o,c,O,m),N.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(c=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),c!==N.state&&uf.enqueueReplaceState(N,N.state,null),rf(o,m,N,y),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308)}function Mo(o,c){try{var m="",y=c;do m+=Se(y),y=y.return;while(y);var N=m}catch(O){N=`
Error generating stack: `+O.message+`
`+O.stack}return{value:o,source:c,stack:N,digest:null}}function Cg(o,c,m){return{value:o,source:null,stack:m??null,digest:c??null}}function Pg(o,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var bF=typeof WeakMap=="function"?WeakMap:Map;function ck(o,c,m){m=ia(-1,m),m.tag=3,m.payload={element:null};var y=c.value;return m.callback=function(){yf||(yf=!0,qg=y),Pg(o,c)},m}function uk(o,c,m){m=ia(-1,m),m.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var N=c.value;m.payload=function(){return y(N)},m.callback=function(){Pg(o,c)}}var O=o.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(m.callback=function(){Pg(o,c),typeof y!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})}),m}function dk(o,c,m){var y=o.pingCache;if(y===null){y=o.pingCache=new bF;var N=new Set;y.set(c,N)}else N=y.get(c),N===void 0&&(N=new Set,y.set(c,N));N.has(m)||(N.add(m),o=MF.bind(null,o,c,m),c.then(o,o))}function fk(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function pk(o,c,m,y,N){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(c=ia(-1,1),c.tag=2,Ba(m,c,1))),m.lanes|=1),o):(o.flags|=65536,o.lanes=N,o)}var wF=E.ReactCurrentOwner,bn=!1;function cn(o,c,m,y){c.child=o===null?RS(c,null,m,y):Ao(c,o.child,m,y)}function hk(o,c,m,y,N){m=m.render;var O=c.ref;return To(c,N),y=xg(o,c,m,y,O,N),m=bg(),o!==null&&!bn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~N,aa(o,c,N)):(br&&m&&rg(c),c.flags|=1,cn(o,c,y,N),c.child)}function mk(o,c,m,y,N){if(o===null){var O=m.type;return typeof O=="function"&&!Xg(O)&&O.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(c.tag=15,c.type=O,gk(o,c,O,y,N)):(o=_f(m.type,null,y,c,c.mode,N),o.ref=c.ref,o.return=c,c.child=o)}if(O=o.child,(o.lanes&N)===0){var I=O.memoizedProps;if(m=m.compare,m=m!==null?m:jc,m(I,y)&&o.ref===c.ref)return aa(o,c,N)}return c.flags|=1,o=Va(O,y),o.ref=c.ref,o.return=c,c.child=o}function gk(o,c,m,y,N){if(o!==null){var O=o.memoizedProps;if(jc(O,y)&&o.ref===c.ref)if(bn=!1,c.pendingProps=y=O,(o.lanes&N)!==0)(o.flags&131072)!==0&&(bn=!0);else return c.lanes=o.lanes,aa(o,c,N)}return Eg(o,c,m,y,N)}function yk(o,c,m){var y=c.pendingProps,N=y.children,O=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},fr(Io,Rn),Rn|=m;else{if((m&1073741824)===0)return o=O!==null?O.baseLanes|m:m,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,fr(Io,Rn),Rn|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=O!==null?O.baseLanes:m,fr(Io,Rn),Rn|=y}else O!==null?(y=O.baseLanes|m,c.memoizedState=null):y=m,fr(Io,Rn),Rn|=y;return cn(o,c,N,m),c.child}function vk(o,c){var m=c.ref;(o===null&&m!==null||o!==null&&o.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function Eg(o,c,m,y,N){var O=xn(m)?ws:tn.current;return O=No(c,O),To(c,N),m=xg(o,c,m,y,O,N),y=bg(),o!==null&&!bn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~N,aa(o,c,N)):(br&&y&&rg(c),c.flags|=1,cn(o,c,m,N),c.child)}function xk(o,c,m,y,N){if(xn(m)){var O=!0;Kd(c)}else O=!1;if(To(c,N),c.stateNode===null)ff(o,c),ok(c,m,y),Ng(c,m,y,N),y=!0;else if(o===null){var I=c.stateNode,J=c.memoizedProps;I.props=J;var ae=I.context,be=m.contextType;typeof be=="object"&&be!==null?be=Vn(be):(be=xn(m)?ws:tn.current,be=No(c,be));var De=m.getDerivedStateFromProps,Le=typeof De=="function"||typeof I.getSnapshotBeforeUpdate=="function";Le||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(J!==y||ae!==be)&&lk(c,I,y,be),Fa=!1;var Re=c.memoizedState;I.state=Re,rf(c,y,I,N),ae=c.memoizedState,J!==y||Re!==ae||vn.current||Fa?(typeof De=="function"&&(kg(c,m,De,y),ae=c.memoizedState),(J=Fa||sk(c,m,J,y,Re,ae,be))?(Le||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=ae),I.props=y,I.state=ae,I.context=be,y=J):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{I=c.stateNode,DS(o,c),J=c.memoizedProps,be=c.type===c.elementType?J:fi(c.type,J),I.props=be,Le=c.pendingProps,Re=I.context,ae=m.contextType,typeof ae=="object"&&ae!==null?ae=Vn(ae):(ae=xn(m)?ws:tn.current,ae=No(c,ae));var Qe=m.getDerivedStateFromProps;(De=typeof Qe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(J!==Le||Re!==ae)&&lk(c,I,y,ae),Fa=!1,Re=c.memoizedState,I.state=Re,rf(c,y,I,N);var st=c.memoizedState;J!==Le||Re!==st||vn.current||Fa?(typeof Qe=="function"&&(kg(c,m,Qe,y),st=c.memoizedState),(be=Fa||sk(c,m,be,y,Re,st,ae)||!1)?(De||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(y,st,ae),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(y,st,ae)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&Re===o.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&Re===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=st),I.props=y,I.state=st,I.context=ae,y=be):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&Re===o.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&Re===o.memoizedState||(c.flags|=1024),y=!1)}return Ag(o,c,m,y,O,N)}function Ag(o,c,m,y,N,O){vk(o,c);var I=(c.flags&128)!==0;if(!y&&!I)return N&&SS(c,m,!1),aa(o,c,O);y=c.stateNode,wF.current=c;var J=I&&typeof m.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,o!==null&&I?(c.child=Ao(c,o.child,null,O),c.child=Ao(c,null,J,O)):cn(o,c,J,O),c.memoizedState=y.state,N&&SS(c,m,!0),c.child}function bk(o){var c=o.stateNode;c.pendingContext?jS(o,c.pendingContext,c.pendingContext!==c.context):c.context&&jS(o,c.context,!1),pg(o,c.containerInfo)}function wk(o,c,m,y,N){return Eo(),sg(N),c.flags|=256,cn(o,c,m,y),c.child}var Og={dehydrated:null,treeContext:null,retryLane:0};function Tg(o){return{baseLanes:o,cachePool:null,transitions:null}}function jk(o,c,m){var y=c.pendingProps,N=_r.current,O=!1,I=(c.flags&128)!==0,J;if((J=I)||(J=o!==null&&o.memoizedState===null?!1:(N&2)!==0),J?(O=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(N|=1),fr(_r,N&1),o===null)return ag(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(I=y.children,o=y.fallback,O?(y=c.mode,O=c.child,I={mode:"hidden",children:I},(y&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=I):O=Sf(I,y,0,null),o=Os(o,y,m,null),O.return=c,o.return=c,O.sibling=o,c.child=O,c.child.memoizedState=Tg(m),c.memoizedState=Og,o):Rg(c,I));if(N=o.memoizedState,N!==null&&(J=N.dehydrated,J!==null))return jF(o,c,I,y,J,N,m);if(O){O=y.fallback,I=c.mode,N=o.child,J=N.sibling;var ae={mode:"hidden",children:y.children};return(I&1)===0&&c.child!==N?(y=c.child,y.childLanes=0,y.pendingProps=ae,c.deletions=null):(y=Va(N,ae),y.subtreeFlags=N.subtreeFlags&14680064),J!==null?O=Va(J,O):(O=Os(O,I,m,null),O.flags|=2),O.return=c,y.return=c,y.sibling=O,c.child=y,y=O,O=c.child,I=o.child.memoizedState,I=I===null?Tg(m):{baseLanes:I.baseLanes|m,cachePool:null,transitions:I.transitions},O.memoizedState=I,O.childLanes=o.childLanes&~m,c.memoizedState=Og,y}return O=o.child,o=O.sibling,y=Va(O,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=m),y.return=c,y.sibling=null,o!==null&&(m=c.deletions,m===null?(c.deletions=[o],c.flags|=16):m.push(o)),c.child=y,c.memoizedState=null,y}function Rg(o,c){return c=Sf({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function df(o,c,m,y){return y!==null&&sg(y),Ao(c,o.child,null,m),o=Rg(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function jF(o,c,m,y,N,O,I){if(m)return c.flags&256?(c.flags&=-257,y=Cg(Error(r(422))),df(o,c,I,y)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(O=y.fallback,N=c.mode,y=Sf({mode:"visible",children:y.children},N,0,null),O=Os(O,N,I,null),O.flags|=2,y.return=c,O.return=c,y.sibling=O,c.child=y,(c.mode&1)!==0&&Ao(c,o.child,null,I),c.child.memoizedState=Tg(I),c.memoizedState=Og,O);if((c.mode&1)===0)return df(o,c,I,null);if(N.data==="$!"){if(y=N.nextSibling&&N.nextSibling.dataset,y)var J=y.dgst;return y=J,O=Error(r(419)),y=Cg(O,y,void 0),df(o,c,I,y)}if(J=(I&o.childLanes)!==0,bn||J){if(y=Ur,y!==null){switch(I&-I){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(y.suspendedLanes|I))!==0?0:N,N!==0&&N!==O.retryLane&&(O.retryLane=N,na(o,N),mi(y,o,N,-1))}return Yg(),y=Cg(Error(r(421))),df(o,c,I,y)}return N.data==="$?"?(c.flags|=128,c.child=o.child,c=DF.bind(null,o),N._reactRetry=c,null):(o=O.treeContext,Tn=Da(N.nextSibling),On=c,br=!0,di=null,o!==null&&(Wn[Hn++]=ta,Wn[Hn++]=ra,Wn[Hn++]=js,ta=o.id,ra=o.overflow,js=c),c=Rg(c,y.children),c.flags|=4096,c)}function _k(o,c,m){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),ug(o.return,c,m)}function Mg(o,c,m,y,N){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:N}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=m,O.tailMode=N)}function Sk(o,c,m){var y=c.pendingProps,N=y.revealOrder,O=y.tail;if(cn(o,c,y.children,m),y=_r.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&_k(o,m,c);else if(o.tag===19)_k(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(fr(_r,y),(c.mode&1)===0)c.memoizedState=null;else switch(N){case"forwards":for(m=c.child,N=null;m!==null;)o=m.alternate,o!==null&&nf(o)===null&&(N=m),m=m.sibling;m=N,m===null?(N=c.child,c.child=null):(N=m.sibling,m.sibling=null),Mg(c,!1,N,m,O);break;case"backwards":for(m=null,N=c.child,c.child=null;N!==null;){if(o=N.alternate,o!==null&&nf(o)===null){c.child=N;break}o=N.sibling,N.sibling=m,m=N,N=o}Mg(c,!0,m,null,O);break;case"together":Mg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ff(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function aa(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),Cs|=c.lanes,(m&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,m=Va(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=Va(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function _F(o,c,m){switch(c.tag){case 3:bk(c),Eo();break;case 5:LS(c);break;case 1:xn(c.type)&&Kd(c);break;case 4:pg(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,N=c.memoizedProps.value;fr(Zd,y._currentValue),y._currentValue=N;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(fr(_r,_r.current&1),c.flags|=128,null):(m&c.child.childLanes)!==0?jk(o,c,m):(fr(_r,_r.current&1),o=aa(o,c,m),o!==null?o.sibling:null);fr(_r,_r.current&1);break;case 19:if(y=(m&c.childLanes)!==0,(o.flags&128)!==0){if(y)return Sk(o,c,m);c.flags|=128}if(N=c.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),fr(_r,_r.current),y)break;return null;case 22:case 23:return c.lanes=0,yk(o,c,m)}return aa(o,c,m)}var kk,Dg,Nk,Ck;kk=function(o,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Dg=function(){},Nk=function(o,c,m,y){var N=o.memoizedProps;if(N!==y){o=c.stateNode,ks(Ti.current);var O=null;switch(m){case"input":N=se(o,N),y=se(o,y),O=[];break;case"select":N=re({},N,{value:void 0}),y=re({},y,{value:void 0}),O=[];break;case"textarea":N=Oe(o,N),y=Oe(o,y),O=[];break;default:typeof N.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Wd)}Wt(m,y);var I;m=null;for(be in N)if(!y.hasOwnProperty(be)&&N.hasOwnProperty(be)&&N[be]!=null)if(be==="style"){var J=N[be];for(I in J)J.hasOwnProperty(I)&&(m||(m={}),m[I]="")}else be!=="dangerouslySetInnerHTML"&&be!=="children"&&be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&be!=="autoFocus"&&(i.hasOwnProperty(be)?O||(O=[]):(O=O||[]).push(be,null));for(be in y){var ae=y[be];if(J=N!=null?N[be]:void 0,y.hasOwnProperty(be)&&ae!==J&&(ae!=null||J!=null))if(be==="style")if(J){for(I in J)!J.hasOwnProperty(I)||ae&&ae.hasOwnProperty(I)||(m||(m={}),m[I]="");for(I in ae)ae.hasOwnProperty(I)&&J[I]!==ae[I]&&(m||(m={}),m[I]=ae[I])}else m||(O||(O=[]),O.push(be,m)),m=ae;else be==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,J=J?J.__html:void 0,ae!=null&&J!==ae&&(O=O||[]).push(be,ae)):be==="children"?typeof ae!="string"&&typeof ae!="number"||(O=O||[]).push(be,""+ae):be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&(i.hasOwnProperty(be)?(ae!=null&&be==="onScroll"&&yr("scroll",o),O||J===ae||(O=[])):(O=O||[]).push(be,ae))}m&&(O=O||[]).push("style",m);var be=O;(c.updateQueue=be)&&(c.flags|=4)}},Ck=function(o,c,m,y){m!==y&&(c.flags|=4)};function $c(o,c){if(!br)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function nn(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,y=0;if(c)for(var N=o.child;N!==null;)m|=N.lanes|N.childLanes,y|=N.subtreeFlags&14680064,y|=N.flags&14680064,N.return=o,N=N.sibling;else for(N=o.child;N!==null;)m|=N.lanes|N.childLanes,y|=N.subtreeFlags,y|=N.flags,N.return=o,N=N.sibling;return o.subtreeFlags|=y,o.childLanes=m,c}function SF(o,c,m){var y=c.pendingProps;switch(ng(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(c),null;case 1:return xn(c.type)&&Vd(),nn(c),null;case 3:return y=c.stateNode,Ro(),vr(vn),vr(tn),gg(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Jd(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,di!==null&&(Vg(di),di=null))),Dg(o,c),nn(c),null;case 5:hg(c);var N=ks(Tc.current);if(m=c.type,o!==null&&c.stateNode!=null)Nk(o,c,m,y,N),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(r(166));return nn(c),null}if(o=ks(Ti.current),Jd(c)){y=c.stateNode,m=c.type;var O=c.memoizedProps;switch(y[Oi]=c,y[Cc]=O,o=(c.mode&1)!==0,m){case"dialog":yr("cancel",y),yr("close",y);break;case"iframe":case"object":case"embed":yr("load",y);break;case"video":case"audio":for(N=0;N<Sc.length;N++)yr(Sc[N],y);break;case"source":yr("error",y);break;case"img":case"image":case"link":yr("error",y),yr("load",y);break;case"details":yr("toggle",y);break;case"input":me(y,O),yr("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!O.multiple},yr("invalid",y);break;case"textarea":$e(y,O),yr("invalid",y)}Wt(m,O),N=null;for(var I in O)if(O.hasOwnProperty(I)){var J=O[I];I==="children"?typeof J=="string"?y.textContent!==J&&(O.suppressHydrationWarning!==!0&&qd(y.textContent,J,o),N=["children",J]):typeof J=="number"&&y.textContent!==""+J&&(O.suppressHydrationWarning!==!0&&qd(y.textContent,J,o),N=["children",""+J]):i.hasOwnProperty(I)&&J!=null&&I==="onScroll"&&yr("scroll",y)}switch(m){case"input":ee(y),K(y,O,!0);break;case"textarea":ee(y),ct(y);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(y.onclick=Wd)}y=N,c.updateQueue=y,y!==null&&(c.flags|=4)}else{I=N.nodeType===9?N:N.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ut(m)),o==="http://www.w3.org/1999/xhtml"?m==="script"?(o=I.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=I.createElement(m,{is:y.is}):(o=I.createElement(m),m==="select"&&(I=o,y.multiple?I.multiple=!0:y.size&&(I.size=y.size))):o=I.createElementNS(o,m),o[Oi]=c,o[Cc]=y,kk(o,c,!1,!1),c.stateNode=o;e:{switch(I=Tt(m,y),m){case"dialog":yr("cancel",o),yr("close",o),N=y;break;case"iframe":case"object":case"embed":yr("load",o),N=y;break;case"video":case"audio":for(N=0;N<Sc.length;N++)yr(Sc[N],o);N=y;break;case"source":yr("error",o),N=y;break;case"img":case"image":case"link":yr("error",o),yr("load",o),N=y;break;case"details":yr("toggle",o),N=y;break;case"input":me(o,y),N=se(o,y),yr("invalid",o);break;case"option":N=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},N=re({},y,{value:void 0}),yr("invalid",o);break;case"textarea":$e(o,y),N=Oe(o,y),yr("invalid",o);break;default:N=y}Wt(m,N),J=N;for(O in J)if(J.hasOwnProperty(O)){var ae=J[O];O==="style"?sr(o,ae):O==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,ae!=null&&Ge(o,ae)):O==="children"?typeof ae=="string"?(m!=="textarea"||ae!=="")&&it(o,ae):typeof ae=="number"&&it(o,""+ae):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?ae!=null&&O==="onScroll"&&yr("scroll",o):ae!=null&&k(o,O,ae,I))}switch(m){case"input":ee(o),K(o,y,!1);break;case"textarea":ee(o),ct(o);break;case"option":y.value!=null&&o.setAttribute("value",""+Ae(y.value));break;case"select":o.multiple=!!y.multiple,O=y.value,O!=null?ke(o,!!y.multiple,O,!1):y.defaultValue!=null&&ke(o,!!y.multiple,y.defaultValue,!0);break;default:typeof N.onClick=="function"&&(o.onclick=Wd)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return nn(c),null;case 6:if(o&&c.stateNode!=null)Ck(o,c,o.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(m=ks(Tc.current),ks(Ti.current),Jd(c)){if(y=c.stateNode,m=c.memoizedProps,y[Oi]=c,(O=y.nodeValue!==m)&&(o=On,o!==null))switch(o.tag){case 3:qd(y.nodeValue,m,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&qd(y.nodeValue,m,(o.mode&1)!==0)}O&&(c.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[Oi]=c,c.stateNode=y}return nn(c),null;case 13:if(vr(_r),y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(br&&Tn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)AS(),Eo(),c.flags|=98560,O=!1;else if(O=Jd(c),y!==null&&y.dehydrated!==null){if(o===null){if(!O)throw Error(r(318));if(O=c.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[Oi]=c}else Eo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;nn(c),O=!1}else di!==null&&(Vg(di),di=null),O=!0;if(!O)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=m,c):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(_r.current&1)!==0?Mr===0&&(Mr=3):Yg())),c.updateQueue!==null&&(c.flags|=4),nn(c),null);case 4:return Ro(),Dg(o,c),o===null&&kc(c.stateNode.containerInfo),nn(c),null;case 10:return cg(c.type._context),nn(c),null;case 17:return xn(c.type)&&Vd(),nn(c),null;case 19:if(vr(_r),O=c.memoizedState,O===null)return nn(c),null;if(y=(c.flags&128)!==0,I=O.rendering,I===null)if(y)$c(O,!1);else{if(Mr!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(I=nf(o),I!==null){for(c.flags|=128,$c(O,!1),y=I.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=m,m=c.child;m!==null;)O=m,o=y,O.flags&=14680066,I=O.alternate,I===null?(O.childLanes=0,O.lanes=o,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=I.childLanes,O.lanes=I.lanes,O.child=I.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=I.memoizedProps,O.memoizedState=I.memoizedState,O.updateQueue=I.updateQueue,O.type=I.type,o=I.dependencies,O.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),m=m.sibling;return fr(_r,_r.current&1|2),c.child}o=o.sibling}O.tail!==null&&Pr()>$o&&(c.flags|=128,y=!0,$c(O,!1),c.lanes=4194304)}else{if(!y)if(o=nf(I),o!==null){if(c.flags|=128,y=!0,m=o.updateQueue,m!==null&&(c.updateQueue=m,c.flags|=4),$c(O,!0),O.tail===null&&O.tailMode==="hidden"&&!I.alternate&&!br)return nn(c),null}else 2*Pr()-O.renderingStartTime>$o&&m!==1073741824&&(c.flags|=128,y=!0,$c(O,!1),c.lanes=4194304);O.isBackwards?(I.sibling=c.child,c.child=I):(m=O.last,m!==null?m.sibling=I:c.child=I,O.last=I)}return O.tail!==null?(c=O.tail,O.rendering=c,O.tail=c.sibling,O.renderingStartTime=Pr(),c.sibling=null,m=_r.current,fr(_r,y?m&1|2:m&1),c):(nn(c),null);case 22:case 23:return Gg(),y=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(Rn&1073741824)!==0&&(nn(c),c.subtreeFlags&6&&(c.flags|=8192)):nn(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function kF(o,c){switch(ng(c),c.tag){case 1:return xn(c.type)&&Vd(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ro(),vr(vn),vr(tn),gg(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return hg(c),null;case 13:if(vr(_r),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Eo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return vr(_r),null;case 4:return Ro(),null;case 10:return cg(c.type._context),null;case 22:case 23:return Gg(),null;case 24:return null;default:return null}}var pf=!1,an=!1,NF=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Do(o,c){var m=o.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){kr(o,c,y)}else m.current=null}function Ig(o,c,m){try{m()}catch(y){kr(o,c,y)}}var Pk=!1;function CF(o,c){if(Gm=Td,o=sS(),Bm(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var N=y.anchorOffset,O=y.focusNode;y=y.focusOffset;try{m.nodeType,O.nodeType}catch{m=null;break e}var I=0,J=-1,ae=-1,be=0,De=0,Le=o,Re=null;t:for(;;){for(var Qe;Le!==m||N!==0&&Le.nodeType!==3||(J=I+N),Le!==O||y!==0&&Le.nodeType!==3||(ae=I+y),Le.nodeType===3&&(I+=Le.nodeValue.length),(Qe=Le.firstChild)!==null;)Re=Le,Le=Qe;for(;;){if(Le===o)break t;if(Re===m&&++be===N&&(J=I),Re===O&&++De===y&&(ae=I),(Qe=Le.nextSibling)!==null)break;Le=Re,Re=Le.parentNode}Le=Qe}m=J===-1||ae===-1?null:{start:J,end:ae}}else m=null}m=m||{start:0,end:0}}else m=null;for(Ym={focusedElem:o,selectionRange:m},Td=!1,rt=c;rt!==null;)if(c=rt,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,rt=o;else for(;rt!==null;){c=rt;try{var st=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var ft=st.memoizedProps,Er=st.memoizedState,fe=c.stateNode,oe=fe.getSnapshotBeforeUpdate(c.elementType===c.type?ft:fi(c.type,ft),Er);fe.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var ge=c.stateNode.containerInfo;ge.nodeType===1?ge.textContent="":ge.nodeType===9&&ge.documentElement&&ge.removeChild(ge.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ue){kr(c,c.return,Ue)}if(o=c.sibling,o!==null){o.return=c.return,rt=o;break}rt=c.return}return st=Pk,Pk=!1,st}function Lc(o,c,m){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var N=y=y.next;do{if((N.tag&o)===o){var O=N.destroy;N.destroy=void 0,O!==void 0&&Ig(c,m,O)}N=N.next}while(N!==y)}}function hf(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&o)===o){var y=m.create;m.destroy=y()}m=m.next}while(m!==c)}}function $g(o){var c=o.ref;if(c!==null){var m=o.stateNode;switch(o.tag){case 5:o=m;break;default:o=m}typeof c=="function"?c(o):c.current=o}}function Ek(o){var c=o.alternate;c!==null&&(o.alternate=null,Ek(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[Oi],delete c[Cc],delete c[Zm],delete c[cF],delete c[uF])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Ak(o){return o.tag===5||o.tag===3||o.tag===4}function Ok(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Ak(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Lg(o,c,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?m.nodeType===8?m.parentNode.insertBefore(o,c):m.insertBefore(o,c):(m.nodeType===8?(c=m.parentNode,c.insertBefore(o,m)):(c=m,c.appendChild(o)),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Wd));else if(y!==4&&(o=o.child,o!==null))for(Lg(o,c,m),o=o.sibling;o!==null;)Lg(o,c,m),o=o.sibling}function Fg(o,c,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?m.insertBefore(o,c):m.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(Fg(o,c,m),o=o.sibling;o!==null;)Fg(o,c,m),o=o.sibling}var Jr=null,pi=!1;function za(o,c,m){for(m=m.child;m!==null;)Tk(o,c,m),m=m.sibling}function Tk(o,c,m){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(Nd,m)}catch{}switch(m.tag){case 5:an||Do(m,c);case 6:var y=Jr,N=pi;Jr=null,za(o,c,m),Jr=y,pi=N,Jr!==null&&(pi?(o=Jr,m=m.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)):Jr.removeChild(m.stateNode));break;case 18:Jr!==null&&(pi?(o=Jr,m=m.stateNode,o.nodeType===8?Qm(o.parentNode,m):o.nodeType===1&&Qm(o,m),gc(o)):Qm(Jr,m.stateNode));break;case 4:y=Jr,N=pi,Jr=m.stateNode.containerInfo,pi=!0,za(o,c,m),Jr=y,pi=N;break;case 0:case 11:case 14:case 15:if(!an&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){N=y=y.next;do{var O=N,I=O.destroy;O=O.tag,I!==void 0&&((O&2)!==0||(O&4)!==0)&&Ig(m,c,I),N=N.next}while(N!==y)}za(o,c,m);break;case 1:if(!an&&(Do(m,c),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(J){kr(m,c,J)}za(o,c,m);break;case 21:za(o,c,m);break;case 22:m.mode&1?(an=(y=an)||m.memoizedState!==null,za(o,c,m),an=y):za(o,c,m);break;default:za(o,c,m)}}function Rk(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var m=o.stateNode;m===null&&(m=o.stateNode=new NF),c.forEach(function(y){var N=IF.bind(null,o,y);m.has(y)||(m.add(y),y.then(N,N))})}}function hi(o,c){var m=c.deletions;if(m!==null)for(var y=0;y<m.length;y++){var N=m[y];try{var O=o,I=c,J=I;e:for(;J!==null;){switch(J.tag){case 5:Jr=J.stateNode,pi=!1;break e;case 3:Jr=J.stateNode.containerInfo,pi=!0;break e;case 4:Jr=J.stateNode.containerInfo,pi=!0;break e}J=J.return}if(Jr===null)throw Error(r(160));Tk(O,I,N),Jr=null,pi=!1;var ae=N.alternate;ae!==null&&(ae.return=null),N.return=null}catch(be){kr(N,c,be)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Mk(c,o),c=c.sibling}function Mk(o,c){var m=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(hi(c,o),Mi(o),y&4){try{Lc(3,o,o.return),hf(3,o)}catch(ft){kr(o,o.return,ft)}try{Lc(5,o,o.return)}catch(ft){kr(o,o.return,ft)}}break;case 1:hi(c,o),Mi(o),y&512&&m!==null&&Do(m,m.return);break;case 5:if(hi(c,o),Mi(o),y&512&&m!==null&&Do(m,m.return),o.flags&32){var N=o.stateNode;try{it(N,"")}catch(ft){kr(o,o.return,ft)}}if(y&4&&(N=o.stateNode,N!=null)){var O=o.memoizedProps,I=m!==null?m.memoizedProps:O,J=o.type,ae=o.updateQueue;if(o.updateQueue=null,ae!==null)try{J==="input"&&O.type==="radio"&&O.name!=null&&we(N,O),Tt(J,I);var be=Tt(J,O);for(I=0;I<ae.length;I+=2){var De=ae[I],Le=ae[I+1];De==="style"?sr(N,Le):De==="dangerouslySetInnerHTML"?Ge(N,Le):De==="children"?it(N,Le):k(N,De,Le,be)}switch(J){case"input":ve(N,O);break;case"textarea":Fe(N,O);break;case"select":var Re=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!O.multiple;var Qe=O.value;Qe!=null?ke(N,!!O.multiple,Qe,!1):Re!==!!O.multiple&&(O.defaultValue!=null?ke(N,!!O.multiple,O.defaultValue,!0):ke(N,!!O.multiple,O.multiple?[]:"",!1))}N[Cc]=O}catch(ft){kr(o,o.return,ft)}}break;case 6:if(hi(c,o),Mi(o),y&4){if(o.stateNode===null)throw Error(r(162));N=o.stateNode,O=o.memoizedProps;try{N.nodeValue=O}catch(ft){kr(o,o.return,ft)}}break;case 3:if(hi(c,o),Mi(o),y&4&&m!==null&&m.memoizedState.isDehydrated)try{gc(c.containerInfo)}catch(ft){kr(o,o.return,ft)}break;case 4:hi(c,o),Mi(o);break;case 13:hi(c,o),Mi(o),N=o.child,N.flags&8192&&(O=N.memoizedState!==null,N.stateNode.isHidden=O,!O||N.alternate!==null&&N.alternate.memoizedState!==null||(Ug=Pr())),y&4&&Rk(o);break;case 22:if(De=m!==null&&m.memoizedState!==null,o.mode&1?(an=(be=an)||De,hi(c,o),an=be):hi(c,o),Mi(o),y&8192){if(be=o.memoizedState!==null,(o.stateNode.isHidden=be)&&!De&&(o.mode&1)!==0)for(rt=o,De=o.child;De!==null;){for(Le=rt=De;rt!==null;){switch(Re=rt,Qe=Re.child,Re.tag){case 0:case 11:case 14:case 15:Lc(4,Re,Re.return);break;case 1:Do(Re,Re.return);var st=Re.stateNode;if(typeof st.componentWillUnmount=="function"){y=Re,m=Re.return;try{c=y,st.props=c.memoizedProps,st.state=c.memoizedState,st.componentWillUnmount()}catch(ft){kr(y,m,ft)}}break;case 5:Do(Re,Re.return);break;case 22:if(Re.memoizedState!==null){$k(Le);continue}}Qe!==null?(Qe.return=Re,rt=Qe):$k(Le)}De=De.sibling}e:for(De=null,Le=o;;){if(Le.tag===5){if(De===null){De=Le;try{N=Le.stateNode,be?(O=N.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(J=Le.stateNode,ae=Le.memoizedProps.style,I=ae!=null&&ae.hasOwnProperty("display")?ae.display:null,J.style.display=dt("display",I))}catch(ft){kr(o,o.return,ft)}}}else if(Le.tag===6){if(De===null)try{Le.stateNode.nodeValue=be?"":Le.memoizedProps}catch(ft){kr(o,o.return,ft)}}else if((Le.tag!==22&&Le.tag!==23||Le.memoizedState===null||Le===o)&&Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===o)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===o)break e;De===Le&&(De=null),Le=Le.return}De===Le&&(De=null),Le.sibling.return=Le.return,Le=Le.sibling}}break;case 19:hi(c,o),Mi(o),y&4&&Rk(o);break;case 21:break;default:hi(c,o),Mi(o)}}function Mi(o){var c=o.flags;if(c&2){try{e:{for(var m=o.return;m!==null;){if(Ak(m)){var y=m;break e}m=m.return}throw Error(r(160))}switch(y.tag){case 5:var N=y.stateNode;y.flags&32&&(it(N,""),y.flags&=-33);var O=Ok(o);Fg(o,O,N);break;case 3:case 4:var I=y.stateNode.containerInfo,J=Ok(o);Lg(o,J,I);break;default:throw Error(r(161))}}catch(ae){kr(o,o.return,ae)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function PF(o,c,m){rt=o,Dk(o)}function Dk(o,c,m){for(var y=(o.mode&1)!==0;rt!==null;){var N=rt,O=N.child;if(N.tag===22&&y){var I=N.memoizedState!==null||pf;if(!I){var J=N.alternate,ae=J!==null&&J.memoizedState!==null||an;J=pf;var be=an;if(pf=I,(an=ae)&&!be)for(rt=N;rt!==null;)I=rt,ae=I.child,I.tag===22&&I.memoizedState!==null?Lk(N):ae!==null?(ae.return=I,rt=ae):Lk(N);for(;O!==null;)rt=O,Dk(O),O=O.sibling;rt=N,pf=J,an=be}Ik(o)}else(N.subtreeFlags&8772)!==0&&O!==null?(O.return=N,rt=O):Ik(o)}}function Ik(o){for(;rt!==null;){var c=rt;if((c.flags&8772)!==0){var m=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:an||hf(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!an)if(m===null)y.componentDidMount();else{var N=c.elementType===c.type?m.memoizedProps:fi(c.type,m.memoizedProps);y.componentDidUpdate(N,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var O=c.updateQueue;O!==null&&$S(c,O,y);break;case 3:var I=c.updateQueue;if(I!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=c.child.stateNode;break;case 1:m=c.child.stateNode}$S(c,I,m)}break;case 5:var J=c.stateNode;if(m===null&&c.flags&4){m=J;var ae=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ae.autoFocus&&m.focus();break;case"img":ae.src&&(m.src=ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var be=c.alternate;if(be!==null){var De=be.memoizedState;if(De!==null){var Le=De.dehydrated;Le!==null&&gc(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}an||c.flags&512&&$g(c)}catch(Re){kr(c,c.return,Re)}}if(c===o){rt=null;break}if(m=c.sibling,m!==null){m.return=c.return,rt=m;break}rt=c.return}}function $k(o){for(;rt!==null;){var c=rt;if(c===o){rt=null;break}var m=c.sibling;if(m!==null){m.return=c.return,rt=m;break}rt=c.return}}function Lk(o){for(;rt!==null;){var c=rt;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{hf(4,c)}catch(ae){kr(c,m,ae)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var N=c.return;try{y.componentDidMount()}catch(ae){kr(c,N,ae)}}var O=c.return;try{$g(c)}catch(ae){kr(c,O,ae)}break;case 5:var I=c.return;try{$g(c)}catch(ae){kr(c,I,ae)}}}catch(ae){kr(c,c.return,ae)}if(c===o){rt=null;break}var J=c.sibling;if(J!==null){J.return=c.return,rt=J;break}rt=c.return}}var EF=Math.ceil,mf=E.ReactCurrentDispatcher,Bg=E.ReactCurrentOwner,Gn=E.ReactCurrentBatchConfig,Gt=0,Ur=null,Ar=null,Qr=0,Rn=0,Io=Ia(0),Mr=0,Fc=null,Cs=0,gf=0,zg=0,Bc=null,wn=null,Ug=0,$o=1/0,sa=null,yf=!1,qg=null,Ua=null,vf=!1,qa=null,xf=0,zc=0,Wg=null,bf=-1,wf=0;function un(){return(Gt&6)!==0?Pr():bf!==-1?bf:bf=Pr()}function Wa(o){return(o.mode&1)===0?1:(Gt&2)!==0&&Qr!==0?Qr&-Qr:fF.transition!==null?(wf===0&&(wf=O_()),wf):(o=lr,o!==0||(o=window.event,o=o===void 0?16:B_(o.type)),o)}function mi(o,c,m,y){if(50<zc)throw zc=0,Wg=null,Error(r(185));dc(o,m,y),((Gt&2)===0||o!==Ur)&&(o===Ur&&((Gt&2)===0&&(gf|=m),Mr===4&&Ha(o,Qr)),jn(o,y),m===1&&Gt===0&&(c.mode&1)===0&&($o=Pr()+500,Gd&&La()))}function jn(o,c){var m=o.callbackNode;fL(o,c);var y=Ed(o,o===Ur?Qr:0);if(y===0)m!==null&&rr(m),o.callbackNode=null,o.callbackPriority=0;else if(c=y&-y,o.callbackPriority!==c){if(m!=null&&rr(m),c===1)o.tag===0?dF(Bk.bind(null,o)):kS(Bk.bind(null,o)),oF(function(){(Gt&6)===0&&La()}),m=null;else{switch(T_(y)){case 1:m=_m;break;case 4:m=E_;break;case 16:m=kd;break;case 536870912:m=A_;break;default:m=kd}m=Gk(m,Fk.bind(null,o))}o.callbackPriority=c,o.callbackNode=m}}function Fk(o,c){if(bf=-1,wf=0,(Gt&6)!==0)throw Error(r(327));var m=o.callbackNode;if(Lo()&&o.callbackNode!==m)return null;var y=Ed(o,o===Ur?Qr:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||c)c=jf(o,y);else{c=y;var N=Gt;Gt|=2;var O=Uk();(Ur!==o||Qr!==c)&&(sa=null,$o=Pr()+500,Es(o,c));do try{TF();break}catch(J){zk(o,J)}while(!0);lg(),mf.current=O,Gt=N,Ar!==null?c=0:(Ur=null,Qr=0,c=Mr)}if(c!==0){if(c===2&&(N=Sm(o),N!==0&&(y=N,c=Hg(o,N))),c===1)throw m=Fc,Es(o,0),Ha(o,y),jn(o,Pr()),m;if(c===6)Ha(o,y);else{if(N=o.current.alternate,(y&30)===0&&!AF(N)&&(c=jf(o,y),c===2&&(O=Sm(o),O!==0&&(y=O,c=Hg(o,O))),c===1))throw m=Fc,Es(o,0),Ha(o,y),jn(o,Pr()),m;switch(o.finishedWork=N,o.finishedLanes=y,c){case 0:case 1:throw Error(r(345));case 2:As(o,wn,sa);break;case 3:if(Ha(o,y),(y&130023424)===y&&(c=Ug+500-Pr(),10<c)){if(Ed(o,0)!==0)break;if(N=o.suspendedLanes,(N&y)!==y){un(),o.pingedLanes|=o.suspendedLanes&N;break}o.timeoutHandle=Jm(As.bind(null,o,wn,sa),c);break}As(o,wn,sa);break;case 4:if(Ha(o,y),(y&4194240)===y)break;for(c=o.eventTimes,N=-1;0<y;){var I=31-ci(y);O=1<<I,I=c[I],I>N&&(N=I),y&=~O}if(y=N,y=Pr()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*EF(y/1960))-y,10<y){o.timeoutHandle=Jm(As.bind(null,o,wn,sa),y);break}As(o,wn,sa);break;case 5:As(o,wn,sa);break;default:throw Error(r(329))}}}return jn(o,Pr()),o.callbackNode===m?Fk.bind(null,o):null}function Hg(o,c){var m=Bc;return o.current.memoizedState.isDehydrated&&(Es(o,c).flags|=256),o=jf(o,c),o!==2&&(c=wn,wn=m,c!==null&&Vg(c)),o}function Vg(o){wn===null?wn=o:wn.push.apply(wn,o)}function AF(o){for(var c=o;;){if(c.flags&16384){var m=c.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var N=m[y],O=N.getSnapshot;N=N.value;try{if(!ui(O(),N))return!1}catch{return!1}}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ha(o,c){for(c&=~zg,c&=~gf,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var m=31-ci(c),y=1<<m;o[m]=-1,c&=~y}}function Bk(o){if((Gt&6)!==0)throw Error(r(327));Lo();var c=Ed(o,0);if((c&1)===0)return jn(o,Pr()),null;var m=jf(o,c);if(o.tag!==0&&m===2){var y=Sm(o);y!==0&&(c=y,m=Hg(o,y))}if(m===1)throw m=Fc,Es(o,0),Ha(o,c),jn(o,Pr()),m;if(m===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,As(o,wn,sa),jn(o,Pr()),null}function Kg(o,c){var m=Gt;Gt|=1;try{return o(c)}finally{Gt=m,Gt===0&&($o=Pr()+500,Gd&&La())}}function Ps(o){qa!==null&&qa.tag===0&&(Gt&6)===0&&Lo();var c=Gt;Gt|=1;var m=Gn.transition,y=lr;try{if(Gn.transition=null,lr=1,o)return o()}finally{lr=y,Gn.transition=m,Gt=c,(Gt&6)===0&&La()}}function Gg(){Rn=Io.current,vr(Io)}function Es(o,c){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;if(m!==-1&&(o.timeoutHandle=-1,sF(m)),Ar!==null)for(m=Ar.return;m!==null;){var y=m;switch(ng(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Vd();break;case 3:Ro(),vr(vn),vr(tn),gg();break;case 5:hg(y);break;case 4:Ro();break;case 13:vr(_r);break;case 19:vr(_r);break;case 10:cg(y.type._context);break;case 22:case 23:Gg()}m=m.return}if(Ur=o,Ar=o=Va(o.current,null),Qr=Rn=c,Mr=0,Fc=null,zg=gf=Cs=0,wn=Bc=null,Ss!==null){for(c=0;c<Ss.length;c++)if(m=Ss[c],y=m.interleaved,y!==null){m.interleaved=null;var N=y.next,O=m.pending;if(O!==null){var I=O.next;O.next=N,y.next=I}m.pending=y}Ss=null}return o}function zk(o,c){do{var m=Ar;try{if(lg(),af.current=cf,sf){for(var y=Sr.memoizedState;y!==null;){var N=y.queue;N!==null&&(N.pending=null),y=y.next}sf=!1}if(Ns=0,zr=Rr=Sr=null,Rc=!1,Mc=0,Bg.current=null,m===null||m.return===null){Mr=1,Fc=c,Ar=null;break}e:{var O=o,I=m.return,J=m,ae=c;if(c=Qr,J.flags|=32768,ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var be=ae,De=J,Le=De.tag;if((De.mode&1)===0&&(Le===0||Le===11||Le===15)){var Re=De.alternate;Re?(De.updateQueue=Re.updateQueue,De.memoizedState=Re.memoizedState,De.lanes=Re.lanes):(De.updateQueue=null,De.memoizedState=null)}var Qe=fk(I);if(Qe!==null){Qe.flags&=-257,pk(Qe,I,J,O,c),Qe.mode&1&&dk(O,be,c),c=Qe,ae=be;var st=c.updateQueue;if(st===null){var ft=new Set;ft.add(ae),c.updateQueue=ft}else st.add(ae);break e}else{if((c&1)===0){dk(O,be,c),Yg();break e}ae=Error(r(426))}}else if(br&&J.mode&1){var Er=fk(I);if(Er!==null){(Er.flags&65536)===0&&(Er.flags|=256),pk(Er,I,J,O,c),sg(Mo(ae,J));break e}}O=ae=Mo(ae,J),Mr!==4&&(Mr=2),Bc===null?Bc=[O]:Bc.push(O),O=I;do{switch(O.tag){case 3:O.flags|=65536,c&=-c,O.lanes|=c;var fe=ck(O,ae,c);IS(O,fe);break e;case 1:J=ae;var oe=O.type,ge=O.stateNode;if((O.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(Ua===null||!Ua.has(ge)))){O.flags|=65536,c&=-c,O.lanes|=c;var Ue=uk(O,J,c);IS(O,Ue);break e}}O=O.return}while(O!==null)}Wk(m)}catch(pt){c=pt,Ar===m&&m!==null&&(Ar=m=m.return);continue}break}while(!0)}function Uk(){var o=mf.current;return mf.current=cf,o===null?cf:o}function Yg(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),Ur===null||(Cs&268435455)===0&&(gf&268435455)===0||Ha(Ur,Qr)}function jf(o,c){var m=Gt;Gt|=2;var y=Uk();(Ur!==o||Qr!==c)&&(sa=null,Es(o,c));do try{OF();break}catch(N){zk(o,N)}while(!0);if(lg(),Gt=m,mf.current=y,Ar!==null)throw Error(r(261));return Ur=null,Qr=0,Mr}function OF(){for(;Ar!==null;)qk(Ar)}function TF(){for(;Ar!==null&&!Cr();)qk(Ar)}function qk(o){var c=Kk(o.alternate,o,Rn);o.memoizedProps=o.pendingProps,c===null?Wk(o):Ar=c,Bg.current=null}function Wk(o){var c=o;do{var m=c.alternate;if(o=c.return,(c.flags&32768)===0){if(m=SF(m,c,Rn),m!==null){Ar=m;return}}else{if(m=kF(m,c),m!==null){m.flags&=32767,Ar=m;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Mr=6,Ar=null;return}}if(c=c.sibling,c!==null){Ar=c;return}Ar=c=o}while(c!==null);Mr===0&&(Mr=5)}function As(o,c,m){var y=lr,N=Gn.transition;try{Gn.transition=null,lr=1,RF(o,c,m,y)}finally{Gn.transition=N,lr=y}return null}function RF(o,c,m,y){do Lo();while(qa!==null);if((Gt&6)!==0)throw Error(r(327));m=o.finishedWork;var N=o.finishedLanes;if(m===null)return null;if(o.finishedWork=null,o.finishedLanes=0,m===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var O=m.lanes|m.childLanes;if(pL(o,O),o===Ur&&(Ar=Ur=null,Qr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||vf||(vf=!0,Gk(kd,function(){return Lo(),null})),O=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||O){O=Gn.transition,Gn.transition=null;var I=lr;lr=1;var J=Gt;Gt|=4,Bg.current=null,CF(o,m),Mk(m,o),ZL(Ym),Td=!!Gm,Ym=Gm=null,o.current=m,PF(m),Pa(),Gt=J,lr=I,Gn.transition=O}else o.current=m;if(vf&&(vf=!1,qa=o,xf=N),O=o.pendingLanes,O===0&&(Ua=null),oL(m.stateNode),jn(o,Pr()),c!==null)for(y=o.onRecoverableError,m=0;m<c.length;m++)N=c[m],y(N.value,{componentStack:N.stack,digest:N.digest});if(yf)throw yf=!1,o=qg,qg=null,o;return(xf&1)!==0&&o.tag!==0&&Lo(),O=o.pendingLanes,(O&1)!==0?o===Wg?zc++:(zc=0,Wg=o):zc=0,La(),null}function Lo(){if(qa!==null){var o=T_(xf),c=Gn.transition,m=lr;try{if(Gn.transition=null,lr=16>o?16:o,qa===null)var y=!1;else{if(o=qa,qa=null,xf=0,(Gt&6)!==0)throw Error(r(331));var N=Gt;for(Gt|=4,rt=o.current;rt!==null;){var O=rt,I=O.child;if((rt.flags&16)!==0){var J=O.deletions;if(J!==null){for(var ae=0;ae<J.length;ae++){var be=J[ae];for(rt=be;rt!==null;){var De=rt;switch(De.tag){case 0:case 11:case 15:Lc(8,De,O)}var Le=De.child;if(Le!==null)Le.return=De,rt=Le;else for(;rt!==null;){De=rt;var Re=De.sibling,Qe=De.return;if(Ek(De),De===be){rt=null;break}if(Re!==null){Re.return=Qe,rt=Re;break}rt=Qe}}}var st=O.alternate;if(st!==null){var ft=st.child;if(ft!==null){st.child=null;do{var Er=ft.sibling;ft.sibling=null,ft=Er}while(ft!==null)}}rt=O}}if((O.subtreeFlags&2064)!==0&&I!==null)I.return=O,rt=I;else e:for(;rt!==null;){if(O=rt,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Lc(9,O,O.return)}var fe=O.sibling;if(fe!==null){fe.return=O.return,rt=fe;break e}rt=O.return}}var oe=o.current;for(rt=oe;rt!==null;){I=rt;var ge=I.child;if((I.subtreeFlags&2064)!==0&&ge!==null)ge.return=I,rt=ge;else e:for(I=oe;rt!==null;){if(J=rt,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:hf(9,J)}}catch(pt){kr(J,J.return,pt)}if(J===I){rt=null;break e}var Ue=J.sibling;if(Ue!==null){Ue.return=J.return,rt=Ue;break e}rt=J.return}}if(Gt=N,La(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(Nd,o)}catch{}y=!0}return y}finally{lr=m,Gn.transition=c}}return!1}function Hk(o,c,m){c=Mo(m,c),c=ck(o,c,1),o=Ba(o,c,1),c=un(),o!==null&&(dc(o,1,c),jn(o,c))}function kr(o,c,m){if(o.tag===3)Hk(o,o,m);else for(;c!==null;){if(c.tag===3){Hk(c,o,m);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ua===null||!Ua.has(y))){o=Mo(m,o),o=uk(c,o,1),c=Ba(c,o,1),o=un(),c!==null&&(dc(c,1,o),jn(c,o));break}}c=c.return}}function MF(o,c,m){var y=o.pingCache;y!==null&&y.delete(c),c=un(),o.pingedLanes|=o.suspendedLanes&m,Ur===o&&(Qr&m)===m&&(Mr===4||Mr===3&&(Qr&130023424)===Qr&&500>Pr()-Ug?Es(o,0):zg|=m),jn(o,c)}function Vk(o,c){c===0&&((o.mode&1)===0?c=1:(c=Pd,Pd<<=1,(Pd&130023424)===0&&(Pd=4194304)));var m=un();o=na(o,c),o!==null&&(dc(o,c,m),jn(o,m))}function DF(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),Vk(o,m)}function IF(o,c){var m=0;switch(o.tag){case 13:var y=o.stateNode,N=o.memoizedState;N!==null&&(m=N.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(c),Vk(o,m)}var Kk;Kk=function(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps||vn.current)bn=!0;else{if((o.lanes&m)===0&&(c.flags&128)===0)return bn=!1,_F(o,c,m);bn=(o.flags&131072)!==0}else bn=!1,br&&(c.flags&1048576)!==0&&NS(c,Xd,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;ff(o,c),o=c.pendingProps;var N=No(c,tn.current);To(c,m),N=xg(null,c,y,o,N,m);var O=bg();return c.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,xn(y)?(O=!0,Kd(c)):O=!1,c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,fg(c),N.updater=uf,c.stateNode=N,N._reactInternals=c,Ng(c,y,o,m),c=Ag(null,c,y,!0,O,m)):(c.tag=0,br&&O&&rg(c),cn(null,c,N,m),c=c.child),c;case 16:y=c.elementType;e:{switch(ff(o,c),o=c.pendingProps,N=y._init,y=N(y._payload),c.type=y,N=c.tag=LF(y),o=fi(y,o),N){case 0:c=Eg(null,c,y,o,m);break e;case 1:c=xk(null,c,y,o,m);break e;case 11:c=hk(null,c,y,o,m);break e;case 14:c=mk(null,c,y,fi(y.type,o),m);break e}throw Error(r(306,y,""))}return c;case 0:return y=c.type,N=c.pendingProps,N=c.elementType===y?N:fi(y,N),Eg(o,c,y,N,m);case 1:return y=c.type,N=c.pendingProps,N=c.elementType===y?N:fi(y,N),xk(o,c,y,N,m);case 3:e:{if(bk(c),o===null)throw Error(r(387));y=c.pendingProps,O=c.memoizedState,N=O.element,DS(o,c),rf(c,y,null,m);var I=c.memoizedState;if(y=I.element,O.isDehydrated)if(O={element:y,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){N=Mo(Error(r(423)),c),c=wk(o,c,y,m,N);break e}else if(y!==N){N=Mo(Error(r(424)),c),c=wk(o,c,y,m,N);break e}else for(Tn=Da(c.stateNode.containerInfo.firstChild),On=c,br=!0,di=null,m=RS(c,null,y,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Eo(),y===N){c=aa(o,c,m);break e}cn(o,c,y,m)}c=c.child}return c;case 5:return LS(c),o===null&&ag(c),y=c.type,N=c.pendingProps,O=o!==null?o.memoizedProps:null,I=N.children,Xm(y,N)?I=null:O!==null&&Xm(y,O)&&(c.flags|=32),vk(o,c),cn(o,c,I,m),c.child;case 6:return o===null&&ag(c),null;case 13:return jk(o,c,m);case 4:return pg(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=Ao(c,null,y,m):cn(o,c,y,m),c.child;case 11:return y=c.type,N=c.pendingProps,N=c.elementType===y?N:fi(y,N),hk(o,c,y,N,m);case 7:return cn(o,c,c.pendingProps,m),c.child;case 8:return cn(o,c,c.pendingProps.children,m),c.child;case 12:return cn(o,c,c.pendingProps.children,m),c.child;case 10:e:{if(y=c.type._context,N=c.pendingProps,O=c.memoizedProps,I=N.value,fr(Zd,y._currentValue),y._currentValue=I,O!==null)if(ui(O.value,I)){if(O.children===N.children&&!vn.current){c=aa(o,c,m);break e}}else for(O=c.child,O!==null&&(O.return=c);O!==null;){var J=O.dependencies;if(J!==null){I=O.child;for(var ae=J.firstContext;ae!==null;){if(ae.context===y){if(O.tag===1){ae=ia(-1,m&-m),ae.tag=2;var be=O.updateQueue;if(be!==null){be=be.shared;var De=be.pending;De===null?ae.next=ae:(ae.next=De.next,De.next=ae),be.pending=ae}}O.lanes|=m,ae=O.alternate,ae!==null&&(ae.lanes|=m),ug(O.return,m,c),J.lanes|=m;break}ae=ae.next}}else if(O.tag===10)I=O.type===c.type?null:O.child;else if(O.tag===18){if(I=O.return,I===null)throw Error(r(341));I.lanes|=m,J=I.alternate,J!==null&&(J.lanes|=m),ug(I,m,c),I=O.sibling}else I=O.child;if(I!==null)I.return=O;else for(I=O;I!==null;){if(I===c){I=null;break}if(O=I.sibling,O!==null){O.return=I.return,I=O;break}I=I.return}O=I}cn(o,c,N.children,m),c=c.child}return c;case 9:return N=c.type,y=c.pendingProps.children,To(c,m),N=Vn(N),y=y(N),c.flags|=1,cn(o,c,y,m),c.child;case 14:return y=c.type,N=fi(y,c.pendingProps),N=fi(y.type,N),mk(o,c,y,N,m);case 15:return gk(o,c,c.type,c.pendingProps,m);case 17:return y=c.type,N=c.pendingProps,N=c.elementType===y?N:fi(y,N),ff(o,c),c.tag=1,xn(y)?(o=!0,Kd(c)):o=!1,To(c,m),ok(c,y,N),Ng(c,y,N,m),Ag(null,c,y,!0,o,m);case 19:return Sk(o,c,m);case 22:return yk(o,c,m)}throw Error(r(156,c.tag))};function Gk(o,c){return or(o,c)}function $F(o,c,m,y){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(o,c,m,y){return new $F(o,c,m,y)}function Xg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function LF(o){if(typeof o=="function")return Xg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===q)return 11;if(o===L)return 14}return 2}function Va(o,c){var m=o.alternate;return m===null?(m=Yn(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&14680064,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m}function _f(o,c,m,y,N,O){var I=2;if(y=o,typeof o=="function")Xg(o)&&(I=1);else if(typeof o=="string")I=5;else e:switch(o){case P:return Os(m.children,N,O,c);case T:I=8,N|=8;break;case M:return o=Yn(12,m,c,N|2),o.elementType=M,o.lanes=O,o;case F:return o=Yn(13,m,c,N),o.elementType=F,o.lanes=O,o;case $:return o=Yn(19,m,c,N),o.elementType=$,o.lanes=O,o;case Z:return Sf(m,N,O,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:I=10;break e;case D:I=9;break e;case q:I=11;break e;case L:I=14;break e;case B:I=16,y=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return c=Yn(I,m,c,N),c.elementType=o,c.type=y,c.lanes=O,c}function Os(o,c,m,y){return o=Yn(7,o,y,c),o.lanes=m,o}function Sf(o,c,m,y){return o=Yn(22,o,y,c),o.elementType=Z,o.lanes=m,o.stateNode={isHidden:!1},o}function Jg(o,c,m){return o=Yn(6,o,null,c),o.lanes=m,o}function Qg(o,c,m){return c=Yn(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function FF(o,c,m,y,N){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=km(0),this.expirationTimes=km(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=km(0),this.identifierPrefix=y,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Zg(o,c,m,y,N,O,I,J,ae){return o=new FF(o,c,m,J,ae),c===1?(c=1,O===!0&&(c|=8)):c=0,O=Yn(3,null,null,c),o.current=O,O.stateNode=o,O.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},fg(O),o}function BF(o,c,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:y==null?null:""+y,children:o,containerInfo:c,implementation:m}}function Yk(o){if(!o)return $a;o=o._reactInternals;e:{if(yt(o)!==o||o.tag!==1)throw Error(r(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(xn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(o.tag===1){var m=o.type;if(xn(m))return _S(o,m,c)}return c}function Xk(o,c,m,y,N,O,I,J,ae){return o=Zg(m,y,!0,o,N,O,I,J,ae),o.context=Yk(null),m=o.current,y=un(),N=Wa(m),O=ia(y,N),O.callback=c??null,Ba(m,O,N),o.current.lanes=N,dc(o,N,y),jn(o,y),o}function kf(o,c,m,y){var N=c.current,O=un(),I=Wa(N);return m=Yk(m),c.context===null?c.context=m:c.pendingContext=m,c=ia(O,I),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Ba(N,c,I),o!==null&&(mi(o,N,I,O),tf(o,N,I)),I}function Nf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Jk(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function ey(o,c){Jk(o,c),(o=o.alternate)&&Jk(o,c)}function zF(){return null}var Qk=typeof reportError=="function"?reportError:function(o){console.error(o)};function ty(o){this._internalRoot=o}Cf.prototype.render=ty.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));kf(o,c,null,null)},Cf.prototype.unmount=ty.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Ps(function(){kf(null,o,null,null)}),c[Zi]=null}};function Cf(o){this._internalRoot=o}Cf.prototype.unstable_scheduleHydration=function(o){if(o){var c=D_();o={blockedOn:null,target:o,priority:c};for(var m=0;m<Ta.length&&c!==0&&c<Ta[m].priority;m++);Ta.splice(m,0,o),m===0&&L_(o)}};function ry(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Pf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Zk(){}function UF(o,c,m,y,N){if(N){if(typeof y=="function"){var O=y;y=function(){var be=Nf(I);O.call(be)}}var I=Xk(c,y,o,0,null,!1,!1,"",Zk);return o._reactRootContainer=I,o[Zi]=I.current,kc(o.nodeType===8?o.parentNode:o),Ps(),I}for(;N=o.lastChild;)o.removeChild(N);if(typeof y=="function"){var J=y;y=function(){var be=Nf(ae);J.call(be)}}var ae=Zg(o,0,!1,null,null,!1,!1,"",Zk);return o._reactRootContainer=ae,o[Zi]=ae.current,kc(o.nodeType===8?o.parentNode:o),Ps(function(){kf(c,ae,m,y)}),ae}function Ef(o,c,m,y,N){var O=m._reactRootContainer;if(O){var I=O;if(typeof N=="function"){var J=N;N=function(){var ae=Nf(I);J.call(ae)}}kf(c,I,o,N)}else I=UF(m,c,o,N,y);return Nf(I)}R_=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var m=uc(c.pendingLanes);m!==0&&(Nm(c,m|1),jn(c,Pr()),(Gt&6)===0&&($o=Pr()+500,La()))}break;case 13:Ps(function(){var y=na(o,1);if(y!==null){var N=un();mi(y,o,1,N)}}),ey(o,1)}},Cm=function(o){if(o.tag===13){var c=na(o,134217728);if(c!==null){var m=un();mi(c,o,134217728,m)}ey(o,134217728)}},M_=function(o){if(o.tag===13){var c=Wa(o),m=na(o,c);if(m!==null){var y=un();mi(m,o,c,y)}ey(o,c)}},D_=function(){return lr},I_=function(o,c){var m=lr;try{return lr=o,c()}finally{lr=m}},Be=function(o,c,m){switch(c){case"input":if(ve(o,m),c=m.name,m.type==="radio"&&c!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<m.length;c++){var y=m[c];if(y!==o&&y.form===o.form){var N=Hd(y);if(!N)throw Error(r(90));W(y),ve(y,N)}}}break;case"textarea":Fe(o,m);break;case"select":c=m.value,c!=null&&ke(o,!!m.multiple,c,!1)}},Xe=Kg,Et=Ps;var qF={usingClientEntryPoint:!1,Events:[Pc,So,Hd,Te,He,Kg]},Uc={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WF={bundleType:Uc.bundleType,version:Uc.version,rendererPackageName:Uc.rendererPackageName,rendererConfig:Uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Lt(o),o===null?null:o.stateNode},findFiberByHostInstance:Uc.findFiberByHostInstance||zF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{Nd=Af.inject(WF),Ai=Af}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qF,_n.createPortal=function(o,c){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ry(c))throw Error(r(200));return BF(o,c,null,m)},_n.createRoot=function(o,c){if(!ry(o))throw Error(r(299));var m=!1,y="",N=Qk;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=Zg(o,1,!1,null,null,m,!1,y,N),o[Zi]=c.current,kc(o.nodeType===8?o.parentNode:o),new ty(c)},_n.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Lt(c),o=o===null?null:o.stateNode,o},_n.flushSync=function(o){return Ps(o)},_n.hydrate=function(o,c,m){if(!Pf(c))throw Error(r(200));return Ef(null,o,c,!0,m)},_n.hydrateRoot=function(o,c,m){if(!ry(o))throw Error(r(405));var y=m!=null&&m.hydratedSources||null,N=!1,O="",I=Qk;if(m!=null&&(m.unstable_strictMode===!0&&(N=!0),m.identifierPrefix!==void 0&&(O=m.identifierPrefix),m.onRecoverableError!==void 0&&(I=m.onRecoverableError)),c=Xk(c,null,o,1,m??null,N,!1,O,I),o[Zi]=c.current,kc(o),y)for(o=0;o<y.length;o++)m=y[o],N=m._getVersion,N=N(m._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[m,N]:c.mutableSourceEagerHydrationData.push(m,N);return new Cf(c)},_n.render=function(o,c,m){if(!Pf(c))throw Error(r(200));return Ef(null,o,c,!1,m)},_n.unmountComponentAtNode=function(o){if(!Pf(o))throw Error(r(40));return o._reactRootContainer?(Ps(function(){Ef(null,null,o,!1,function(){o._reactRootContainer=null,o[Zi]=null})}),!0):!1},_n.unstable_batchedUpdates=Kg,_n.unstable_renderSubtreeIntoContainer=function(o,c,m,y){if(!Pf(m))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Ef(o,c,m,!1,y)},_n.version="18.3.1-next-f1338f8080-20240426",_n}var o2;function ER(){if(o2)return ay.exports;o2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ay.exports=ZF(),ay.exports}var l2;function e5(){if(l2)return Tf;l2=1;var e=ER();return Tf.createRoot=e.createRoot,Tf.hydrateRoot=e.hydrateRoot,Tf}var t5=e5();const Vs=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ya=globalThis,lu="10.32.1";function kh(){return O1(ya),ya}function O1(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||lu,t[lu]=t[lu]||{}}function T1(e,t,r=ya){const n=r.__SENTRY__=r.__SENTRY__||{},i=n[lu]=n[lu]||{};return i[e]||(i[e]=t())}const r5="Sentry Logger ",c2={};function AR(e){if(!("console"in ya))return e();const t=ya.console,r={},n=Object.keys(c2);n.forEach(i=>{const s=c2[i];r[i]=t[i],t[i]=s});try{return e()}finally{n.forEach(i=>{t[i]=r[i]})}}function n5(){M1().enabled=!0}function i5(){M1().enabled=!1}function OR(){return M1().enabled}function a5(...e){R1("log",...e)}function s5(...e){R1("warn",...e)}function o5(...e){R1("error",...e)}function R1(e,...t){Vs&&OR()&&AR(()=>{ya.console[e](`${r5}[${e}]:`,...t)})}function M1(){return Vs?T1("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const _i={enable:n5,disable:i5,isEnabled:OR,log:a5,warn:s5,error:o5},TR=Object.prototype.toString;function l5(e){switch(TR.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return f5(e,Error)}}function c5(e,t){return TR.call(e)===`[object ${t}]`}function u5(e){return c5(e,"Object")}function d5(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function f5(e,t){try{return e instanceof t}catch{return!1}}function p5(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{Vs&&_i.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function h5(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function m5(){const e=ya;return e.crypto||e.msCrypto}let ly;function g5(){return Math.random()*16}function cu(e=m5()){try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return ly||(ly="10000000100040008000"+1e11),ly.replace(/[018]/g,t=>(t^(g5()&15)>>t/4).toString(16))}const RR=1e3;function MR(){return Date.now()/RR}function y5(){const{performance:e}=ya;if(!(e!=null&&e.now)||!e.timeOrigin)return MR;const t=e.timeOrigin;return()=>(t+e.now())/RR}let u2;function v5(){return(u2??(u2=y5()))()}function x5(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||v5(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:cu()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function DR(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&Object.keys(t).length===0)return e;const n={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=DR(n[i],t[i],r-1));return n}function d2(){return cu()}const Rb="_sentrySpan";function f2(e,t){t?p5(e,Rb,t):delete e[Rb]}function p2(e){return e[Rb]}const b5=100;class us{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:d2(),sampleRand:Math.random()}}clone(){const t=new us;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,f2(t,p2(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&x5(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this.setTags({[t]:r})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,r){return this.setAttributes({[t]:r})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,n=r instanceof us?r.getScopeData():u5(r)?t:void 0,{tags:i,attributes:s,extra:l,user:u,contexts:d,level:f,fingerprint:p=[],propagationContext:h}=n||{};return this._tags={...this._tags,...i},this._attributes={...this._attributes,...s},this._extra={...this._extra,...l},this._contexts={...this._contexts,...d},u&&Object.keys(u).length&&(this._user=u),f&&(this._level=f),p.length&&(this._fingerprint=p),h&&(this._propagationContext=h),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,f2(this,void 0),this._attachments=[],this.setPropagationContext({traceId:d2(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){var s;const n=typeof r=="number"?r:b5;if(n<=0)return this;const i={timestamp:MR(),...t,message:t.message?h5(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),(s=this._client)==null||s.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:p2(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=DR(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=(r==null?void 0:r.event_id)||cu();if(!this._client)return Vs&&_i.warn("No client configured on scope - will not capture exception!"),n;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...r,event_id:n},this),n}captureMessage(t,r,n){const i=(n==null?void 0:n.event_id)||cu();if(!this._client)return Vs&&_i.warn("No client configured on scope - will not capture message!"),i;const s=(n==null?void 0:n.syntheticException)??new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:s,...n,event_id:i},this),i}captureEvent(t,r){const n=(r==null?void 0:r.event_id)||cu();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(Vs&&_i.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function w5(){return T1("defaultCurrentScope",()=>new us)}function j5(){return T1("defaultIsolationScope",()=>new us)}class _5{constructor(t,r){let n;t?n=t:n=new us;let i;r?i=r:i=new us,this._stack=[{scope:n}],this._isolationScope=i}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(i){throw this._popScope(),i}return d5(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function gl(){const e=kh(),t=O1(e);return t.stack=t.stack||new _5(w5(),j5())}function S5(e){return gl().withScope(e)}function k5(e,t){const r=gl();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function h2(e){return gl().withScope(()=>e(gl().getIsolationScope()))}function N5(){return{withIsolationScope:h2,withScope:S5,withSetScope:k5,withSetIsolationScope:(e,t)=>h2(t),getCurrentScope:()=>gl().getScope(),getIsolationScope:()=>gl().getIsolationScope()}}function D1(e){const t=O1(e);return t.acs?t.acs:N5()}function I1(){const e=kh();return D1(e).getCurrentScope()}function C5(){const e=kh();return D1(e).getIsolationScope()}function IR(...e){const t=kh(),r=D1(t);if(e.length===2){const[n,i]=e;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(e[0])}function $R(){return I1().getClient()}const P5=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function E5(e){return e==="http"||e==="https"}function A5(e,t=!1){const{host:r,path:n,pass:i,port:s,projectId:l,protocol:u,publicKey:d}=e;return`${u}://${d}${t&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${l}`}function O5(e){const t=P5.exec(e);if(!t){AR(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[r,n,i="",s="",l="",u=""]=t.slice(1);let d="",f=u;const p=f.split("/");if(p.length>1&&(d=p.slice(0,-1).join("/"),f=p.pop()),f){const h=f.match(/^\d+/);h&&(f=h[0])}return LR({host:s,pass:i,path:d,projectId:f,port:l,protocol:r,publicKey:n})}function LR(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function T5(e){if(!Vs)return!0;const{port:t,projectId:r,protocol:n}=e;return["protocol","publicKey","host","projectId"].find(l=>e[l]?!1:(_i.error(`Invalid Sentry Dsn: ${l} missing`),!0))?!1:r.match(/^\d+$/)?E5(n)?t&&isNaN(parseInt(t,10))?(_i.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(_i.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(_i.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function R5(e){const t=typeof e=="string"?O5(e):LR(e);if(!(!t||!T5(t)))return t}function M5(e){if(e)return D5(e)?{captureContext:e}:$5(e)?{captureContext:e}:e}function D5(e){return e instanceof us||typeof e=="function"}const I5=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function $5(e){return Object.keys(e).some(t=>I5.includes(t))}function L5(e,t){return I1().captureException(e,M5(t))}function F5(){return C5().lastEventId()}function B5(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function z5(e,t){const r=R5(e);if(!r)return"";const n=`${B5(r)}embed/error-page/`;let i=`dsn=${A5(r)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const l=t.user;if(!l)continue;l.name&&(i+=`&name=${encodeURIComponent(l.name)}`),l.email&&(i+=`&email=${encodeURIComponent(l.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${n}?${i}`}const Rf=ya,m2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function g2(e={}){const t=Rf.document,r=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!r){m2&&_i.error("[showReportDialog] Global document not defined");return}const n=I1(),i=$R(),s=i==null?void 0:i.getDsn();if(!s){m2&&_i.error("[showReportDialog] DSN not configured");return}const l={...e,user:{...n.getUser(),...e.user},eventId:e.eventId||F5()},u=Rf.document.createElement("script");u.async=!0,u.crossOrigin="anonymous",u.src=z5(s,l);const{onLoad:d,onClose:f}=l;if(d&&(u.onload=d),f){const p=h=>{if(h.data==="__sentry_reportdialog_closed__")try{f()}finally{Rf.removeEventListener("message",p)}};Rf.addEventListener("message",p)}r.appendChild(u)}var j=A1();const H=er(j),U5=VF({__proto__:null,default:H},[j]);function q5(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function W5(e,t){const r=new WeakSet;function n(i,s){if(!r.has(i)){if(i.cause)return r.add(i),n(i.cause,s);i.cause=s}}n(e,t)}function H5(e,{componentStack:t},r){if(q5(j.version)&&l5(e)&&t){const n=new Error(e.message);n.name=`React ErrorBoundary ${e.name}`,n.stack=t,W5(e,n)}return IR(n=>(n.setContext("react",{componentStack:t}),L5(e,r)))}const V5=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,cy={componentStack:null,error:null,eventId:null};class K5 extends j.Component{constructor(t){super(t),this.state=cy,this._openFallbackReportDialog=!0;const r=$R();r&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=r.on("afterSendEvent",n=>{!n.type&&this._lastEventId&&n.event_id===this._lastEventId&&g2({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,r){const{componentStack:n}=r,{beforeCapture:i,onError:s,showDialog:l,dialogOptions:u}=this.props;IR(d=>{i&&i(d,t,n);const f=this.props.handled!=null?this.props.handled:!!this.props.fallback,p=H5(t,r,{mechanism:{handled:f,type:"auto.function.react.error_boundary"}});s&&s(t,n,p),l&&(this._lastEventId=p,this._openFallbackReportDialog&&g2({...u,eventId:p})),this.setState({error:t,componentStack:n,eventId:p})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:r,eventId:n}=this.state,{onUnmount:i}=this.props;i&&(this.state===cy?i(null,null,null):i(t,r,n)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:r,componentStack:n,eventId:i}=this.state;t&&t(r,n,i),this.setState(cy)}render(){const{fallback:t,children:r}=this.props,n=this.state;if(n.componentStack===null)return typeof r=="function"?r():r;const i=typeof t=="function"?j.createElement(t,{error:n.error,componentStack:n.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:n.eventId}):t;return j.isValidElement(i)?i:(t&&V5&&_i.warn("fallback did not produce a valid ReactElement"),null)}}function FR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=FR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ot(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=FR(e))&&(n&&(n+=" "),n+=t);return n}const $1="-",G5=e=>{const t=X5(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const u=l.split($1);return u[0]===""&&u.length!==1&&u.shift(),BR(u,t)||Y5(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&n[l]?[...d,...n[l]]:d}}},BR=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?BR(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join($1);return(l=t.validators.find(({validator:u})=>u(s)))==null?void 0:l.classGroupId},y2=/^\[(.+)\]$/,Y5=e=>{if(y2.test(e)){const t=y2.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},X5=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)Mb(r[i],n,i,t);return n},Mb=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:v2(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(J5(i)){Mb(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,l])=>{Mb(l,v2(t,s),r,n)})})},v2=(e,t)=>{let r=e;return t.split($1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},J5=e=>e.isThemeGetter,Q5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,l)=>{r.set(s,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let l=r.get(s);if(l!==void 0)return l;if((l=n.get(s))!==void 0)return i(s,l),l},set(s,l){r.has(s)?r.set(s,l):i(s,l)}}},Db="!",Ib=":",Z5=Ib.length,e3=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const s=[];let l=0,u=0,d=0,f;for(let w=0;w<i.length;w++){let b=i[w];if(l===0&&u===0){if(b===Ib){s.push(i.slice(d,w)),d=w+Z5;continue}if(b==="/"){f=w;continue}}b==="["?l++:b==="]"?l--:b==="("?u++:b===")"&&u--}const p=s.length===0?i:i.substring(d),h=t3(p),g=h!==p,v=f&&f>d?f-d:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:h,maybePostfixModifierPosition:v}};if(t){const i=t+Ib,s=n;n=l=>l.startsWith(i)?s(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},t3=e=>e.endsWith(Db)?e.substring(0,e.length-1):e.startsWith(Db)?e.substring(1):e,r3=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let s=[];return n.forEach(l=>{l[0]==="["||t[l]?(i.push(...s.sort(),l),s=[]):s.push(l)}),i.push(...s.sort()),i}},n3=e=>({cache:Q5(e.cacheSize),parseClassName:e3(e),sortModifiers:r3(e),...G5(e)}),i3=/\s+/,a3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=t,l=[],u=e.trim().split(i3);let d="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:h,modifiers:g,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:b}=r(p);if(h){d=p+(d.length>0?" "+d:d);continue}let x=!!b,S=n(x?w.substring(0,b):w);if(!S){if(!x){d=p+(d.length>0?" "+d:d);continue}if(S=n(w),!S){d=p+(d.length>0?" "+d:d);continue}x=!1}const C=s(g).join(":"),k=v?C+Db:C,E=k+S;if(l.includes(E))continue;l.push(E);const _=i(S,x);for(let A=0;A<_.length;++A){const P=_[A];l.push(k+P)}d=p+(d.length>0?" "+d:d)}return d};function s3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=zR(t))&&(n&&(n+=" "),n+=r);return n}const zR=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=zR(e[n]))&&(r&&(r+=" "),r+=t);return r};function o3(e,...t){let r,n,i,s=l;function l(d){const f=t.reduce((p,h)=>h(p),e());return r=n3(f),n=r.cache.get,i=r.cache.set,s=u,u(d)}function u(d){const f=n(d);if(f)return f;const p=a3(d,r);return i(d,p),p}return function(){return s(s3.apply(null,arguments))}}const Dr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},UR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,qR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,l3=/^\d+\/\d+$/,c3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,d3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,f3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,p3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fo=e=>l3.test(e),Dt=e=>!!e&&!Number.isNaN(Number(e)),Ga=e=>!!e&&Number.isInteger(Number(e)),uy=e=>e.endsWith("%")&&Dt(e.slice(0,-1)),oa=e=>c3.test(e),h3=()=>!0,m3=e=>u3.test(e)&&!d3.test(e),WR=()=>!1,g3=e=>f3.test(e),y3=e=>p3.test(e),v3=e=>!ot(e)&&!lt(e),x3=e=>Gl(e,KR,WR),ot=e=>UR.test(e),Ts=e=>Gl(e,GR,m3),dy=e=>Gl(e,S3,Dt),x2=e=>Gl(e,HR,WR),b3=e=>Gl(e,VR,y3),Mf=e=>Gl(e,YR,g3),lt=e=>qR.test(e),Wc=e=>Yl(e,GR),w3=e=>Yl(e,k3),b2=e=>Yl(e,HR),j3=e=>Yl(e,KR),_3=e=>Yl(e,VR),Df=e=>Yl(e,YR,!0),Gl=(e,t,r)=>{const n=UR.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Yl=(e,t,r=!1)=>{const n=qR.exec(e);return n?n[1]?t(n[1]):r:!1},HR=e=>e==="position"||e==="percentage",VR=e=>e==="image"||e==="url",KR=e=>e==="length"||e==="size"||e==="bg-size",GR=e=>e==="length",S3=e=>e==="number",k3=e=>e==="family-name",YR=e=>e==="shadow",N3=()=>{const e=Dr("color"),t=Dr("font"),r=Dr("text"),n=Dr("font-weight"),i=Dr("tracking"),s=Dr("leading"),l=Dr("breakpoint"),u=Dr("container"),d=Dr("spacing"),f=Dr("radius"),p=Dr("shadow"),h=Dr("inset-shadow"),g=Dr("text-shadow"),v=Dr("drop-shadow"),w=Dr("blur"),b=Dr("perspective"),x=Dr("aspect"),S=Dr("ease"),C=Dr("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...E(),lt,ot],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],T=()=>[lt,ot,d],M=()=>[Fo,"full","auto",...T()],R=()=>[Ga,"none","subgrid",lt,ot],D=()=>["auto",{span:["full",Ga,lt,ot]},Ga,lt,ot],q=()=>[Ga,"auto",lt,ot],F=()=>["auto","min","max","fr",lt,ot],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],L=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...T()],Z=()=>[Fo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],z=()=>[e,lt,ot],te=()=>[...E(),b2,x2,{position:[lt,ot]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",j3,x3,{size:[lt,ot]}],X=()=>[uy,Wc,Ts],le=()=>["","none","full",f,lt,ot],ce=()=>["",Dt,Wc,Ts],Se=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[Dt,uy,b2,x2],Ae=()=>["","none",w,lt,ot],G=()=>["none",Dt,lt,ot],ue=()=>["none",Dt,lt,ot],ee=()=>[Dt,lt,ot],W=()=>[Fo,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[oa],breakpoint:[oa],color:[h3],container:[oa],"drop-shadow":[oa],ease:["in","out","in-out"],font:[v3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[oa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[oa],shadow:[oa],spacing:["px",Dt],text:[oa],"text-shadow":[oa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fo,ot,lt,x]}],container:["container"],columns:[{columns:[Dt,ot,lt,u]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Ga,"auto",lt,ot]}],basis:[{basis:[Fo,"full","auto",u,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Dt,Fo,"auto","initial","none",ot]}],grow:[{grow:["",Dt,lt,ot]}],shrink:[{shrink:["",Dt,lt,ot]}],order:[{order:[Ga,"first","last","none",lt,ot]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...L(),"normal"]}],"justify-self":[{"justify-self":["auto",...L()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...L(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...L(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...L(),"baseline"]}],"place-self":[{"place-self":["auto",...L()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[u,"screen",...Z()]}],"min-w":[{"min-w":[u,"screen","none",...Z()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Z()]}],h:[{h:["screen",...Z()]}],"min-h":[{"min-h":["screen","none",...Z()]}],"max-h":[{"max-h":["screen",...Z()]}],"font-size":[{text:["base",r,Wc,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,lt,dy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uy,ot]}],"font-family":[{font:[w3,ot,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,lt,ot]}],"line-clamp":[{"line-clamp":[Dt,"none",lt,dy]}],leading:[{leading:[s,...T()]}],"list-image":[{"list-image":["none",lt,ot]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",lt,ot]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Dt,"from-font","auto",lt,Ts]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Dt,"auto",lt,ot]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt,ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt,ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ga,lt,ot],radial:["",lt,ot],conic:[Ga,lt,ot]},_3,b3]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Dt,lt,ot]}],"outline-w":[{outline:["",Dt,Wc,Ts]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",p,Df,Mf]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",h,Df,Mf]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Dt,Ts]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",g,Df,Mf]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Dt,lt,ot]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Dt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[lt,ot]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Dt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",lt,ot]}],filter:[{filter:["","none",lt,ot]}],blur:[{blur:Ae()}],brightness:[{brightness:[Dt,lt,ot]}],contrast:[{contrast:[Dt,lt,ot]}],"drop-shadow":[{"drop-shadow":["","none",v,Df,Mf]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Dt,lt,ot]}],"hue-rotate":[{"hue-rotate":[Dt,lt,ot]}],invert:[{invert:["",Dt,lt,ot]}],saturate:[{saturate:[Dt,lt,ot]}],sepia:[{sepia:["",Dt,lt,ot]}],"backdrop-filter":[{"backdrop-filter":["","none",lt,ot]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[Dt,lt,ot]}],"backdrop-contrast":[{"backdrop-contrast":[Dt,lt,ot]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Dt,lt,ot]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Dt,lt,ot]}],"backdrop-invert":[{"backdrop-invert":["",Dt,lt,ot]}],"backdrop-opacity":[{"backdrop-opacity":[Dt,lt,ot]}],"backdrop-saturate":[{"backdrop-saturate":[Dt,lt,ot]}],"backdrop-sepia":[{"backdrop-sepia":["",Dt,lt,ot]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",lt,ot]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Dt,"initial",lt,ot]}],ease:[{ease:["linear","initial",S,lt,ot]}],delay:[{delay:[Dt,lt,ot]}],animate:[{animate:["none",C,lt,ot]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,lt,ot]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:ue()}],"scale-x":[{"scale-x":ue()}],"scale-y":[{"scale-y":ue()}],"scale-z":[{"scale-z":ue()}],"scale-3d":["scale-3d"],skew:[{skew:ee()}],"skew-x":[{"skew-x":ee()}],"skew-y":[{"skew-y":ee()}],transform:[{transform:[lt,ot,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt,ot]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt,ot]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Dt,Wc,Ts,dy]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},C3=o3(N3);function Yt(...e){return C3(Ot(e))}function Ne({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:Yt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function w2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function XR(...e){return t=>{let r=!1;const n=e.map(i=>{const s=w2(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():w2(e[i],null)}}}}function jr(...e){return j.useCallback(XR(...e),e)}var ds=j.forwardRef((e,t)=>{const{children:r,...n}=e,i=j.Children.toArray(r),s=i.find(E3);if(s){const l=s.props.children,u=i.map(d=>d===s?j.Children.count(l)>1?j.Children.only(null):j.isValidElement(l)?l.props.children:null:d);return a.jsx($b,{...n,ref:t,children:j.isValidElement(l)?j.cloneElement(l,void 0,u):null})}return a.jsx($b,{...n,ref:t,children:r})});ds.displayName="Slot";var $b=j.forwardRef((e,t)=>{const{children:r,...n}=e;if(j.isValidElement(r)){const i=O3(r),s=A3(n,r.props);return r.type!==j.Fragment&&(s.ref=t?XR(t,i):i),j.cloneElement(r,s)}return j.Children.count(r)>1?j.Children.only(null):null});$b.displayName="SlotClone";var P3=({children:e})=>a.jsx(a.Fragment,{children:e});function E3(e){return j.isValidElement(e)&&e.type===P3}function A3(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...u)=>{s(...u),i(...u)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function O3(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const j2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_2=Ot,JR=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return _2(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,l=Object.keys(i).map(f=>{const p=r==null?void 0:r[f],h=s==null?void 0:s[f];if(p===null)return null;const g=j2(p)||j2(h);return i[f][g]}),u=r&&Object.entries(r).reduce((f,p)=>{let[h,g]=p;return g===void 0||(f[h]=g),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let{class:h,className:g,...v}=p;return Object.entries(v).every(w=>{let[b,x]=w;return Array.isArray(x)?x.includes({...s,...u}[b]):{...s,...u}[b]===x})?[...f,h,g]:f},[]);return _2(e,l,d,r==null?void 0:r.class,r==null?void 0:r.className)},T3=JR("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,asChild:r=!1,...n}){const i=r?ds:"span";return a.jsx(i,{"data-slot":"badge",className:Yt(T3({variant:t}),e),...n})}const R3=JR("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Pe({className:e,variant:t,size:r,asChild:n=!1,...i}){const s=n?ds:"button";return a.jsx(s,{"data-slot":"button",className:Yt(R3({variant:t,size:r,className:e})),...i})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),S2=e=>{const t=D3(e);return t.charAt(0).toUpperCase()+t.slice(1)},QR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:l,...u},d)=>j.createElement("svg",{ref:d,...I3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:QR("lucide",i),...u},[...l.map(([f,p])=>j.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(e,t)=>{const r=j.forwardRef(({className:n,...i},s)=>j.createElement($3,{ref:s,iconNode:t,className:QR(`lucide-${M3(S2(e))}`,`lucide-${e}`,n),...i}));return r.displayName=S2(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],F3=at("activity",L3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],z3=at("arrow-down",B3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ZR=at("arrow-left",U3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],W3=at("arrow-up-down",q3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],V3=at("arrow-up",H3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],as=at("bell",K3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],fn=at("building-2",G3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],X3=at("building",Y3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pn=at("calendar",J3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],mp=at("chart-column",Q3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],eB=at("chart-pie",Z3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eM=at("check",tB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Nh=at("chevron-down",rB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fy=at("chevron-right",nB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],aB=at("chevron-up",iB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],oB=at("circle-arrow-down",sB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ln=at("circle-alert",lB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],uB=at("circle-arrow-up",cB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yl=at("circle-check-big",dB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ks=at("circle-check",fB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],k2=at("circle-x",pB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],vl=at("clipboard-list",hB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Si=at("clock",mB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],yB=at("copy",gB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Lb=at("credit-card",vB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Yr=at("dollar-sign",xB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Nn=at("download",bB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bu=at("eye",wB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$r=at("file-text",jB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],py=at("file",_B);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],kB=at("folder-plus",SB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ld=at("funnel",NB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],N2=at("globe",CB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],L1=at("grid-3x3",PB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],AB=at("hard-hat",EB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],tM=at("house",OB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],C2=at("layout-dashboard",TB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],F1=at("list",RB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],DB=at("log-in",MB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],B1=at("log-out",IB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Qs=at("mail",$B);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rM=at("map-pin",LB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],up=at("megaphone",FB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Fb=at("message-circle",BB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Bb=at("message-square",zB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],qB=at("panel-left-close",UB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],HB=at("pencil",WB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],KB=at("percent",VB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],wu=at("phone",GB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],P2=at("play",YB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],z1=at("plus",XB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],If=at("save",JB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],si=at("search",QB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Hc=at("send",ZB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ju=at("settings",ez);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],nM=at("square-pen",tz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_u=at("trash-2",rz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],E2=at("trending-down",nz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],zb=at("trending-up",iz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iM=at("triangle-alert",az);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],gp=at("upload",sz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xl=at("user",oz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Zs=at("users",lz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xl=at("x",cz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hy=at("zap",uz),cd=()=>new Date,ss=()=>cd().toISOString().split("T")[0],dz="modulepreload",fz=function(e){return"/"+e},A2={},bl=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(r.map(f=>{if(f=fz(f),f in A2)return;A2[f]=!0;const p=f.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${h}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":dz,p||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),p)return new Promise((v,w)=>{g.addEventListener("load",v),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})},pz=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>bl(async()=>{const{default:n}=await Promise.resolve().then(()=>Jl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class U1 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class hz extends U1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mz extends U1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gz extends U1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ub;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ub||(Ub={}));var yz=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(p){try{f(n.next(p))}catch(h){l(h)}}function d(p){try{f(n.throw(p))}catch(h){l(h)}}function f(p){p.done?s(p.value):i(p.value).then(u,d)}f((n=n.apply(e,t||[])).next())})};class vz{constructor(t,{headers:r={},customFetch:n,region:i=Ub.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=pz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return yz(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:l}=r;let u={},{region:d}=r;d||(d=this.region),d&&d!=="any"&&(u["x-region"]=d);let f;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)));const p=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f}).catch(w=>{throw new hz(w)}),h=p.headers.get("x-relay-error");if(h&&h==="true")throw new mz(p);if(!p.ok)throw new gz(p);let g=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield p.json():g==="application/octet-stream"?v=yield p.blob():g==="text/event-stream"?v=p:g==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}}var Wr={},Bo={},zo={},Uo={},qo={},Wo={},xz=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wl=xz();const bz=wl.fetch,aM=wl.fetch.bind(wl),sM=wl.Headers,wz=wl.Request,jz=wl.Response,Jl=Object.freeze(Object.defineProperty({__proto__:null,Headers:sM,Request:wz,Response:jz,default:aM,fetch:bz},Symbol.toStringTag,{value:"Module"})),_z=KF(Jl);var $f={},O2;function oM(){if(O2)return $f;O2=1,Object.defineProperty($f,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return $f.default=e,$f}var T2;function lM(){if(T2)return Wo;T2=1;var e=Wo&&Wo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wo,"__esModule",{value:!0});const t=e(_z),r=e(oM());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,l){return this.headers=Object.assign({},this.headers),this.headers[s]=l,this}then(s,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,h,g;let v=null,w=null,b=null,x=f.status,S=f.statusText;if(f.ok){if(this.method!=="HEAD"){const _=await f.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=_:w=JSON.parse(_))}const k=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),E=(h=f.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");k&&E&&E.length>1&&(b=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(v={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,b=null,x=406,S="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const k=await f.text();try{v=JSON.parse(k),Array.isArray(v)&&f.status===404&&(w=[],v=null,x=200,S="OK")}catch{f.status===404&&k===""?(x=204,S="No Content"):v={message:k}}if(v&&this.isMaybeSingle&&(!((g=v==null?void 0:v.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,x=200,S="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:w,count:b,status:x,statusText:S}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,h,g;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(h=f==null?void 0:f.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(g=f==null?void 0:f.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),d.then(s,l)}returns(){return this}overrideTypes(){return this}}return Wo.default=n,Wo}var R2;function cM(){if(R2)return qo;R2=1;var e=qo&&qo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qo,"__esModule",{value:!0});const t=e(lM());class r extends t.default{select(i){let s=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${i}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,s,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var p;const h=[i?"analyze":null,s?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${g}"; options=${h};`,f==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return qo.default=r,qo}var M2;function q1(){if(M2)return Uo;M2=1;var e=Uo&&Uo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Uo,"__esModule",{value:!0});const t=e(cM());class r extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const l=Array.from(new Set(s)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${f}.${s}`),this}match(i){return Object.entries(i).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(i,s,l){return this.url.searchParams.append(i,`not.${s}.${l}`),this}or(i,{foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,s,l){return this.url.searchParams.append(i,`${s}.${l}`),this}}return Uo.default=r,Uo}var D2;function uM(){if(D2)return zo;D2=1;var e=zo&&zo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zo,"__esModule",{value:!0});const t=e(q1());class r{constructor(i,{headers:s={},schema:l,fetch:u}){this.url=i,this.headers=s,this.schema=l,this.fetch=u}select(i,{head:s=!1,count:l}={}){const u=s?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),l&&(this.headers.Prefer=`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:l=!0}={}){const u="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),s&&d.push(`count=${s}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){const f="POST",p=[`resolution=${l?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),d||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(i)){const h=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(h.length>0){const g=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),this.headers.Prefer=u.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",l=[];return i&&l.push(`count=${i}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return zo.default=r,zo}var Vc={},Kc={},I2;function Sz(){return I2||(I2=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.version=void 0,Kc.version="0.0.0-automated"),Kc}var $2;function kz(){if($2)return Vc;$2=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.DEFAULT_HEADERS=void 0;const e=Sz();return Vc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Vc}var L2;function Nz(){if(L2)return Bo;L2=1;var e=Bo&&Bo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Bo,"__esModule",{value:!0});const t=e(uM()),r=e(q1()),n=kz();class i{constructor(l,{headers:u={},schema:d,fetch:f}={}){this.url=l,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),u),this.schemaName=d,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new t.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:f=!1,count:p}={}){let h;const g=new URL(`${this.url}/rpc/${l}`);let v;d||f?(h=d?"HEAD":"GET",Object.entries(u).filter(([b,x])=>x!==void 0).map(([b,x])=>[b,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([b,x])=>{g.searchParams.append(b,x)})):(h="POST",v=u);const w=Object.assign({},this.headers);return p&&(w.Prefer=`count=${p}`),new r.default({method:h,url:g,headers:w,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return Bo.default=i,Bo}var F2;function Cz(){if(F2)return Wr;F2=1;var e=Wr&&Wr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.PostgrestError=Wr.PostgrestBuilder=Wr.PostgrestTransformBuilder=Wr.PostgrestFilterBuilder=Wr.PostgrestQueryBuilder=Wr.PostgrestClient=void 0;const t=e(Nz());Wr.PostgrestClient=t.default;const r=e(uM());Wr.PostgrestQueryBuilder=r.default;const n=e(q1());Wr.PostgrestFilterBuilder=n.default;const i=e(cM());Wr.PostgrestTransformBuilder=i.default;const s=e(lM());Wr.PostgrestBuilder=s.default;const l=e(oM());return Wr.PostgrestError=l.default,Wr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:l.default},Wr}var Pz=Cz();const Ez=er(Pz),{PostgrestClient:Az,PostgrestQueryBuilder:aue,PostgrestFilterBuilder:sue,PostgrestTransformBuilder:oue,PostgrestBuilder:lue,PostgrestError:cue}=Ez,Oz="2.11.2",Tz={"X-Client-Info":`realtime-js/${Oz}`},Rz="1.0.0",dM=1e4,Mz=1e3;var ll;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ll||(ll={}));var Dn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dn||(Dn={}));var vi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vi||(vi={}));var qb;(function(e){e.websocket="websocket"})(qb||(qb={}));var Bs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Bs||(Bs={}));class Dz{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let l=this.HEADER_LENGTH+2;const u=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+s));l=l+s;const f=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:d,payload:f}}}class fM{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pr||(pr={}));const B2=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,l)=>(s[l]=Iz(l,e,t,i),s),{})},Iz=(e,t,r,n)=>{const i=t.find(u=>u.name===e),s=i==null?void 0:i.type,l=r[e];return s&&!n.includes(s)?pM(s,l):Wb(l)},pM=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Bz(t,r)}switch(e){case pr.bool:return $z(t);case pr.float4:case pr.float8:case pr.int2:case pr.int4:case pr.int8:case pr.numeric:case pr.oid:return Lz(t);case pr.json:case pr.jsonb:return Fz(t);case pr.timestamp:return zz(t);case pr.abstime:case pr.date:case pr.daterange:case pr.int4range:case pr.int8range:case pr.money:case pr.reltime:case pr.text:case pr.time:case pr.timestamptz:case pr.timetz:case pr.tsrange:case pr.tstzrange:return Wb(t);default:return Wb(t)}},Wb=e=>e,$z=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Fz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Bz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>pM(t,u))}return e},zz=e=>typeof e=="string"?e.replace(" ","T"):e,hM=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class my{constructor(t,r,n={},i=dM){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var z2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(z2||(z2={}));class uu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uu.syncState(this.state,i,s,l),this.pendingDiffs.forEach(d=>{this.state=uu.syncDiff(this.state,d,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=uu.syncDiff(this.state,i,s,l),u())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),l=this.transformState(r),u={},d={};return this.map(s,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const h=s[f];if(h){const g=p.map(x=>x.presence_ref),v=h.map(x=>x.presence_ref),w=p.filter(x=>v.indexOf(x.presence_ref)<0),b=h.filter(x=>g.indexOf(x.presence_ref)<0);w.length>0&&(u[f]=w),b.length>0&&(d[f]=b)}else u[f]=p}),this.syncDiff(s,{joins:u,leaves:d},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(u,d)=>{var f;const p=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),p.length>0){const h=t[u].map(v=>v.presence_ref),g=p.filter(v=>h.indexOf(v.presence_ref)<0);t[u].unshift(...g)}n(u,p,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const p=d.map(h=>h.presence_ref);f=f.filter(h=>p.indexOf(h.presence_ref)<0),t[u]=f,i(u,f,d),f.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var U2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(U2||(U2={}));var q2;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(q2||(q2={}));var ca;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ca||(ca={}));class W1{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new my(this,vi.join,this.params,this.timeout),this.rejoinTimer=new fM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new uu(this),this.broadcastEndpointURL=hM(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:l,private:u}}=this.params;this._onError(p=>t==null?void 0:t(ca.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(ca.CLOSED));const d={},f={broadcast:s,presence:l,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var h;if(this.socket.setAuth(),p===void 0){t==null||t(ca.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(h=g==null?void 0:g.length)!==null&&h!==void 0?h:0,w=[];for(let b=0;b<v;b++){const x=g[b],{filter:{event:S,schema:C,table:k,filter:E}}=x,_=p&&p[b];if(_&&_.event===S&&_.schema===C&&_.table===k&&_.filter===E)w.push(Object.assign(Object.assign({},x),{id:_.id}));else{this.unsubscribe(),t==null||t(ca.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ca.SUBSCRIBED);return}}).receive("error",p=>{t==null||t(ca.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ca.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new my(this,vi.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new my(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=vi;if(n&&[u,d,f,p].indexOf(l)>=0&&n!==this._joinRef())return;let g=this._onMessage(l,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var w,b,x;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(b=v.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(v=>v.callback(g,n)):(s=this.bindings[l])===null||s===void 0||s.filter(v=>{var w,b,x,S,C,k;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const E=v.id,_=(w=v.filter)===null||w===void 0?void 0:w.event;return E&&((b=r.ids)===null||b===void 0?void 0:b.includes(E))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const E=(C=(S=v==null?void 0:v.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return E==="*"||E===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:b,table:x,commit_timestamp:S,type:C,errors:k}=w;g=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:S,eventType:C,new:{},old:{},errors:k}),this._getPayloadRecords(w))}v.callback(g,n)})}_isClosed(){return this.state===Dn.closed}_isJoined(){return this.state===Dn.joined}_isJoining(){return this.state===Dn.joining}_isLeaving(){return this.state===Dn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&W1.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vi.close,{},t)}_onError(t){this._on(vi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=B2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=B2(t.columns,t.old_record)),r}}const Uz=()=>{},qz=typeof WebSocket<"u",Wz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hz{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Tz,this.params={},this.timeout=dM,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Uz,this.conn=null,this.sendBuffer=[],this.serializer=new Dz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let l;return s?l=s:typeof fetch>"u"?l=(...u)=>bl(async()=>{const{default:d}=await Promise.resolve().then(()=>Jl);return{default:d}},void 0).then(({default:d})=>d(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${t}/${qb.websocket}`,this.httpEndpoint=hM(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,l)=>l(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fM(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(qz){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Vz(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),bl(async()=>{const{default:t}=await import("./browser-0BCk8DWM.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rz}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ll.connecting:return Bs.Connecting;case ll.open:return Bs.Open;case ll.closing:return Bs.Closing;default:return Bs.Closed}}isConnected(){return this.connectionState()===Bs.Open}channel(t,r={config:{}}){const n=new W1(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:i,ref:s}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(vi.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Mz,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:l}=r;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${l&&"("+l+")"||""}`,s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,l)),this.stateChangeCallbacks.message.forEach(u=>u(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(vi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Wz],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Vz{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ll.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class H1 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Hr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Kz extends H1{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Hb extends H1{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Gz=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(p){try{f(n.next(p))}catch(h){l(h)}}function d(p){try{f(n.throw(p))}catch(h){l(h)}}function f(p){p.done?s(p.value):i(p.value).then(u,d)}f((n=n.apply(e,t||[])).next())})};const mM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>bl(async()=>{const{default:n}=await Promise.resolve().then(()=>Jl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Yz=()=>Gz(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bl(()=>Promise.resolve().then(()=>Jl),void 0)).Response:Response}),Vb=e=>{if(Array.isArray(e))return e.map(r=>Vb(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Vb(n)}),t};var co=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(p){try{f(n.next(p))}catch(h){l(h)}}function d(p){try{f(n.throw(p))}catch(h){l(h)}}function f(p){p.done?s(p.value):i(p.value).then(u,d)}f((n=n.apply(e,t||[])).next())})};const gy=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xz=(e,t,r)=>co(void 0,void 0,void 0,function*(){const n=yield Yz();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new Kz(gy(i),e.status||500))}).catch(i=>{t(new Hb(gy(i),i))}):t(new Hb(gy(e),e))}),Jz=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function ud(e,t,r,n,i,s){return co(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,Jz(t,n,i,s)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>Xz(d,u,n))})})}function yp(e,t,r,n){return co(this,void 0,void 0,function*(){return ud(e,"GET",t,r,n)})}function Za(e,t,r,n,i){return co(this,void 0,void 0,function*(){return ud(e,"POST",t,n,i,r)})}function Qz(e,t,r,n,i){return co(this,void 0,void 0,function*(){return ud(e,"PUT",t,n,i,r)})}function Zz(e,t,r,n){return co(this,void 0,void 0,function*(){return ud(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function gM(e,t,r,n,i){return co(this,void 0,void 0,function*(){return ud(e,"DELETE",t,n,i,r)})}var Sn=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(p){try{f(n.next(p))}catch(h){l(h)}}function d(p){try{f(n.throw(p))}catch(h){l(h)}}function f(p){p.done?s(p.value):i(p.value).then(u,d)}f((n=n.apply(e,t||[])).next())})};const e8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},W2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class t8{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=mM(i)}uploadOrUpdate(t,r,n,i){return Sn(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},W2),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",this.encodeMetadata(d))):(s=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(r),p=this._getFinalPath(f),h=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:s,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),g=yield h.json();return h.ok?{data:{path:f,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(s){if(Hr(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Sn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:W2.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const h=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:p}),g=yield h.json();return h.ok?{data:{path:s,fullPath:g.Key},error:null}:{data:null,error:g}}catch(d){if(Hr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return Sn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Za(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+s.url),u=l.searchParams.get("token");if(!u)throw new H1("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(Hr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Sn(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Hr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Sn(this,void 0,void 0,function*(){try{return{data:{path:(yield Za(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Hr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Sn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Za(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(i){if(Hr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Sn(this,void 0,void 0,function*(){try{const i=yield Za(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(i){if(Hr(i))return{data:null,error:i};throw i}})}download(t,r){return Sn(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=s?`?${s}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield yp(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Hr(u))return{data:null,error:u};throw u}})}info(t){return Sn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield yp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Vb(n),error:null}}catch(n){if(Hr(n))return{data:null,error:n};throw n}})}exists(t){return Sn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Zz(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Hr(n)&&n instanceof Hb){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${f}`)}}}remove(t){return Sn(this,void 0,void 0,function*(){try{return{data:yield gM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Hr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Sn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},e8),r),{prefix:t||""});return{data:yield Za(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Hr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const r8="2.7.1",n8={"X-Client-Info":`storage-js/${r8}`};var Ho=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(p){try{f(n.next(p))}catch(h){l(h)}}function d(p){try{f(n.throw(p))}catch(h){l(h)}}function f(p){p.done?s(p.value):i(p.value).then(u,d)}f((n=n.apply(e,t||[])).next())})};class i8{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},n8),r),this.fetch=mM(n)}listBuckets(){return Ho(this,void 0,void 0,function*(){try{return{data:yield yp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Hr(t))return{data:null,error:t};throw t}})}getBucket(t){return Ho(this,void 0,void 0,function*(){try{return{data:yield yp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Hr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ho(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Hr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ho(this,void 0,void 0,function*(){try{return{data:yield Qz(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Hr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ho(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Hr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ho(this,void 0,void 0,function*(){try{return{data:yield gM(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Hr(r))return{data:null,error:r};throw r}})}}class a8 extends i8{constructor(t,r={},n){super(t,r,n)}from(t){return new t8(this.url,this.headers,t,this.fetch)}}const s8="2.49.1";let nu="";typeof Deno<"u"?nu="deno":typeof document<"u"?nu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nu="react-native":nu="node";const o8={"X-Client-Info":`supabase-js-${nu}/${s8}`},l8={headers:o8},c8={schema:"public"},u8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d8={};var f8=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(p){try{f(n.next(p))}catch(h){l(h)}}function d(p){try{f(n.throw(p))}catch(h){l(h)}}function f(p){p.done?s(p.value):i(p.value).then(u,d)}f((n=n.apply(e,t||[])).next())})};const p8=e=>{let t;return e?t=e:typeof fetch>"u"?t=aM:t=fetch,(...r)=>t(...r)},h8=()=>typeof Headers>"u"?sM:Headers,m8=(e,t,r)=>{const n=p8(r),i=h8();return(s,l)=>f8(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(s,Object.assign(Object.assign({},l),{headers:f}))})};var g8=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(p){try{f(n.next(p))}catch(h){l(h)}}function d(p){try{f(n.throw(p))}catch(h){l(h)}}function f(p){p.done?s(p.value):i(p.value).then(u,d)}f((n=n.apply(e,t||[])).next())})};function y8(e){return e.replace(/\/$/,"")}function v8(e,t){const{db:r,auth:n,realtime:i,global:s}=e,{db:l,auth:u,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},u),n),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign({},f),s),accessToken:()=>g8(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const yM="2.68.0",rl=30*1e3,Kb=3,yy=Kb*rl,x8="http://localhost:9999",b8="supabase.auth.token",w8={"X-Client-Info":`gotrue-js/${yM}`},Gb="X-Supabase-Api-Version",vM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function j8(e){return Math.round(Date.now()/1e3)+e}function _8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ii=()=>typeof window<"u"&&typeof document<"u",Rs={tested:!1,writable:!1},du=()=>{if(!Ii())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rs.tested)return Rs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Rs.tested=!0,Rs.writable=!0}catch{Rs.tested=!0,Rs.writable=!1}return Rs.writable};function S8(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const xM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>bl(async()=>{const{default:n}=await Promise.resolve().then(()=>Jl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},k8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bM=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Lf=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ff=async(e,t)=>{await e.removeItem(t)};function N8(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,s,l,u,d,f,p=0;for(e=e.replace("-","+").replace("_","/");p<e.length;)l=t.indexOf(e.charAt(p++)),u=t.indexOf(e.charAt(p++)),d=t.indexOf(e.charAt(p++)),f=t.indexOf(e.charAt(p++)),n=l<<2|u>>4,i=(u&15)<<4|d>>2,s=(d&3)<<6|f,r=r+String.fromCharCode(n),d!=64&&i!=0&&(r=r+String.fromCharCode(i)),f!=64&&s!=0&&(r=r+String.fromCharCode(s));return r}class Ch{constructor(){this.promise=new Ch.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ch.promiseConstructor=Promise;function H2(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(N8(n))}async function C8(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function P8(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){i(l);return}}})()})}function E8(e){return("0"+e.toString(16)).substr(-2)}function A8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,E8).join("")}async function O8(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function T8(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function R8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await O8(e);return T8(r)}async function Vo(e,t,r=!1){const n=A8();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await bM(e,`${t}-code-verifier`,i);const s=await R8(n);return[s,n===s?"plain":"s256"]}const M8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function D8(e){const t=e.headers.get(Gb);if(!t||!t.match(M8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class V1 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class I8 extends V1{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $8(e){return Rt(e)&&e.name==="AuthApiError"}class wM extends V1{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class uo extends V1{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Xa extends uo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L8(e){return Rt(e)&&e.name==="AuthSessionMissingError"}class vy extends uo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bf extends uo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zf extends uo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function F8(e){return Rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class V2 extends uo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yb extends uo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function xy(e){return Rt(e)&&e.name==="AuthRetryableFetchError"}class K2 extends uo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var B8=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const $s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),z8=[502,503,504];async function G2(e){var t;if(!k8(e))throw new Yb($s(e),0);if(z8.includes(e.status))throw new Yb($s(e),e.status);let r;try{r=await e.json()}catch(s){throw new wM($s(s),s)}let n;const i=D8(e);if(i&&i.getTime()>=vM["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new K2($s(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Xa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new K2($s(r),e.status,r.weak_password.reasons);throw new I8($s(r),e.status||500,n)}const U8=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Vt(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Gb]||(s[Gb]=vM["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await q8(e,t,r+u,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function q8(e,t,r,n,i,s){const l=U8(t,n,i,s);let u;try{u=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new Yb($s(d),0)}if(u.ok||await G2(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(d){await G2(d)}}function Ja(e){var t;let r=null;K8(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=j8(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Y2(e){const t=Ja(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function rs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function W8(e){return{data:e,error:null}}function H8(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,l=B8(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function V8(e){return e}function K8(e){return e.access_token&&e.refresh_token&&e.expires_in}var G8=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Y8{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=xM(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Vt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:rs})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=G8(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:H8,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Rt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Vt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:rs})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:V8});if(p.error)throw p.error;const h=await p.json(),g=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);f[`${x}Page`]=b}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},h),f),error:null}}catch(f){if(Rt(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){try{return await Vt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:rs})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Vt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:rs})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Vt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:rs})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Vt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Vt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}}const X8={getItem:e=>du()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{du()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{du()&&globalThis.localStorage.removeItem(e)}};function X2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function J8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ko={debug:!!(globalThis&&du()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Q8 extends jM{}async function Z8(e,t,r){Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Q8(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ko.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}J8();const eU={url:x8,storageKey:b8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:w8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function J2(e,t,r){return await r()}class Su{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Su.nextInstanceID,Su.nextInstanceID+=1,this.instanceID>0&&Ii()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},eU),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Y8({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xM(i.fetch),this.lock=i.lock||J2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ii()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Z8:this.lock=J2,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:du()?this.storage=X8:(this.memoryStorage={},this.storage=X2(this.memoryStorage)):(this.memoryStorage={},this.storage=X2(this.memoryStorage)),Ii()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yM}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=S8(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ii()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),F8(s)){const d=(t=s.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Rt(r)?{error:r}:{error:new wM("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ja}),{data:l,error:u}=s;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(s){if(Rt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:p,password:h,options:g}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Vo(this.storage,this.storageKey)),s=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:p,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:w},xform:Ja})}else if("phone"in t){const{phone:p,password:h,options:g}=t;s=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Ja})}else throw new Bf("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(s){if(Rt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:u}=t;r=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Y2})}else if("phone"in t){const{phone:s,password:l,options:u}=t;r=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Y2})}else throw new Bf("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new vy}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Lf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:l}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ja});if(await Ff(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new vy}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(Rt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:l}=t,u=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ja}),{data:d,error:f}=u;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new vy}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Vo(this.storage,this.storageKey));const{error:h}=await Vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:p}=await Vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(s=d==null?void 0:d.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Bf("You must provide either an email or phone number.")}catch(u){if(Rt(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ja});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(Rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,l=null;return this.flowType==="pkce"&&([s,l]=await Vo(this.storage,this.storageKey)),await Vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:W8})}catch(s){if(Rt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Xa;const{error:i}=await Vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:l}=await Vt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:l,error:u}=await Vt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Bf("You must provide either an email or phone number and a type")}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Lf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yy:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,f,p)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,p))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:rs}):await this._useSession(async r=>{var n,i,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xa}:await Vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:rs})})}catch(r){if(Rt(r))return L8(r)&&(await this._removeSession(),await Ff(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Xa;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Vo(this.storage,this.storageKey));const{data:f,error:p}=await Vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:rs});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return H2(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xa;const r=Date.now()/1e3;let n=r,i=!0,s=null;const l=H2(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{session:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Rt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Xa;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ii())throw new zf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new V2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new V2("No code detected.");const{data:C,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!s||!u||!l||!f)throw new zf("No session defined in URL");const p=Math.round(Date.now()/1e3),h=parseInt(u);let g=p+h;d&&(g=parseInt(d));const v=g-p;v*1e3<=rl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=g-h;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,p);const{data:b,error:x}=await this._getUser(s);if(x)throw x;const S={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:g,refresh_token:l,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(n){if(Rt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Lf(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!($8(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Ff(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=_8(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Vo(this.storage,this.storageKey,!0));try{return await Vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Rt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var l,u,d,f,p;const{data:h,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Vt(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=h.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Ii()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Rt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:l}=r;if(l)throw l;return await Vt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await P8(async i=>(i>0&&await C8(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ja})),(i,s)=>{const l=200*Math.pow(2,i);return s&&xy(s)&&Date.now()+l-n<rl})}catch(n){if(this._debug(r,"error",n),Rt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ii()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Lf(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<yy;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${yy}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),xy(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Xa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ch;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Xa;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={session:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),Rt(s)){const l={session:null,error:s};return xy(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){s.push(d)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await bM(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ff(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ii()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/rl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${rl}ms, refresh threshold is ${Kb} ticks`),i<=Kb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ii()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Vo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Vt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:l}=r;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:f}=await Vt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:l,error:u}=await Vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),s=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(i.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}}Su.nextInstanceID=0;const tU=Su;class rU extends tU{constructor(t){super(t)}}var nU=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(p){try{f(n.next(p))}catch(h){l(h)}}function d(p){try{f(n.throw(p))}catch(h){l(h)}}function f(p){p.done?s(p.value):i(p.value).then(u,d)}f((n=n.apply(e,t||[])).next())})};class iU{constructor(t,r,n){var i,s,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const u=y8(t);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f={db:c8,realtime:d8,auth:Object.assign(Object.assign({},u8),{storageKey:d}),global:l8},p=v8(n??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=m8(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Az(`${u}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new vz(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new a8(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return nU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:l,lock:u,debug:d},f,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rU({url:this.authUrl,headers:Object.assign(Object.assign({},h),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:l,lock:u,debug:d,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Hz(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const aU=(e,t,r)=>new iU(e,t,r),sU="https://rarpaqovrxxadqsxqvkp.supabase.co",oU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhcnBhcW92cnh4YWRxc3hxdmtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwODkzNjksImV4cCI6MjA4MjY2NTM2OX0.qkIYjtB2Gpq8XIdGesw22al3oAkiqPAA0MgtdfDNKiA",pe=aU(sU,oU);function Ke({className:e,type:t,...r}){return a.jsx("input",{type:t,"data-slot":"input",className:Yt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var dd=ER();const _M=er(dd);function Q2(e,[t,r]){return Math.min(r,Math.max(t,e))}function qt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function lU(e,t){const r=j.createContext(t),n=s=>{const{children:l,...u}=s,d=j.useMemo(()=>u,Object.values(u));return a.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function i(s){const l=j.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function _a(e,t=[]){let r=[];function n(s,l){const u=j.createContext(l),d=r.length;r=[...r,l];const f=h=>{var S;const{scope:g,children:v,...w}=h,b=((S=g==null?void 0:g[e])==null?void 0:S[d])||u,x=j.useMemo(()=>w,Object.values(w));return a.jsx(b.Provider,{value:x,children:v})};f.displayName=s+"Provider";function p(h,g){var b;const v=((b=g==null?void 0:g[e])==null?void 0:b[d])||u,w=j.useContext(v);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[f,p]}const i=()=>{const s=r.map(l=>j.createContext(l));return function(u){const d=(u==null?void 0:u[e])||s;return j.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[n,cU(i,...t)]}function cU(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=n.reduce((u,{useScope:d,scopeName:f})=>{const h=d(s)[`__scope${f}`];return{...u,...h}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function SM(e){const t=e+"CollectionProvider",[r,n]=_a(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:w,children:b}=v,x=H.useRef(null),S=H.useRef(new Map).current;return a.jsx(i,{scope:w,itemMap:S,collectionRef:x,children:b})};l.displayName=t;const u=e+"CollectionSlot",d=H.forwardRef((v,w)=>{const{scope:b,children:x}=v,S=s(u,b),C=jr(w,S.collectionRef);return a.jsx(ds,{ref:C,children:x})});d.displayName=u;const f=e+"CollectionItemSlot",p="data-radix-collection-item",h=H.forwardRef((v,w)=>{const{scope:b,children:x,...S}=v,C=H.useRef(null),k=jr(w,C),E=s(f,b);return H.useEffect(()=>(E.itemMap.set(C,{ref:C,...S}),()=>void E.itemMap.delete(C))),a.jsx(ds,{[p]:"",ref:k,children:x})});h.displayName=f;function g(v){const w=s(e+"CollectionConsumer",v);return H.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const S=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((E,_)=>S.indexOf(E.ref.current)-S.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:d,ItemSlot:h},g,n]}var uU=j.createContext(void 0);function K1(e){const t=j.useContext(uU);return e||t||"ltr"}var dU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],It=dU.reduce((e,t)=>{const r=j.forwardRef((n,i)=>{const{asChild:s,...l}=n,u=s?ds:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function fU(e,t){e&&dd.flushSync(()=>e.dispatchEvent(t))}function Vi(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function pU(e,t=globalThis==null?void 0:globalThis.document){const r=Vi(e);j.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var hU="DismissableLayer",Xb="dismissableLayer.update",mU="dismissableLayer.pointerDownOutside",gU="dismissableLayer.focusOutside",Z2,kM=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),G1=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:u,...d}=e,f=j.useContext(kM),[p,h]=j.useState(null),g=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=j.useState({}),w=jr(t,P=>h(P)),b=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),S=b.indexOf(x),C=p?b.indexOf(p):-1,k=f.layersWithOutsidePointerEventsDisabled.size>0,E=C>=S,_=xU(P=>{const T=P.target,M=[...f.branches].some(R=>R.contains(T));!E||M||(i==null||i(P),l==null||l(P),P.defaultPrevented||u==null||u())},g),A=bU(P=>{const T=P.target;[...f.branches].some(R=>R.contains(T))||(s==null||s(P),l==null||l(P),P.defaultPrevented||u==null||u())},g);return pU(P=>{C===f.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},g),j.useEffect(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Z2=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),eN(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Z2)}},[p,g,r,f]),j.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),eN())},[p,f]),j.useEffect(()=>{const P=()=>v({});return document.addEventListener(Xb,P),()=>document.removeEventListener(Xb,P)},[]),a.jsx(It.div,{...d,ref:w,style:{pointerEvents:k?E?"auto":"none":void 0,...e.style},onFocusCapture:qt(e.onFocusCapture,A.onFocusCapture),onBlurCapture:qt(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:qt(e.onPointerDownCapture,_.onPointerDownCapture)})});G1.displayName=hU;var yU="DismissableLayerBranch",vU=j.forwardRef((e,t)=>{const r=j.useContext(kM),n=j.useRef(null),i=jr(t,n);return j.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(It.div,{...e,ref:i})});vU.displayName=yU;function xU(e,t=globalThis==null?void 0:globalThis.document){const r=Vi(e),n=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const s=u=>{if(u.target&&!n.current){let d=function(){NM(mU,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function bU(e,t=globalThis==null?void 0:globalThis.document){const r=Vi(e),n=j.useRef(!1);return j.useEffect(()=>{const i=s=>{s.target&&!n.current&&NM(gU,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eN(){const e=new CustomEvent(Xb);document.dispatchEvent(e)}function NM(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?fU(i,s):i.dispatchEvent(s)}var by=0;function CM(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tN()),document.body.insertAdjacentElement("beforeend",e[1]??tN()),by++,()=>{by===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),by--}},[])}function tN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var wy="focusScope.autoFocusOnMount",jy="focusScope.autoFocusOnUnmount",rN={bubbles:!1,cancelable:!0},wU="FocusScope",Y1=j.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=e,[u,d]=j.useState(null),f=Vi(i),p=Vi(s),h=j.useRef(null),g=jr(t,b=>d(b)),v=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let b=function(k){if(v.paused||!u)return;const E=k.target;u.contains(E)?h.current=E:Qa(h.current,{select:!0})},x=function(k){if(v.paused||!u)return;const E=k.relatedTarget;E!==null&&(u.contains(E)||Qa(h.current,{select:!0}))},S=function(k){if(document.activeElement===document.body)for(const _ of k)_.removedNodes.length>0&&Qa(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",x);const C=new MutationObserver(S);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",x),C.disconnect()}}},[n,u,v.paused]),j.useEffect(()=>{if(u){iN.add(v);const b=document.activeElement;if(!u.contains(b)){const S=new CustomEvent(wy,rN);u.addEventListener(wy,f),u.dispatchEvent(S),S.defaultPrevented||(jU(CU(PM(u)),{select:!0}),document.activeElement===b&&Qa(u))}return()=>{u.removeEventListener(wy,f),setTimeout(()=>{const S=new CustomEvent(jy,rN);u.addEventListener(jy,p),u.dispatchEvent(S),S.defaultPrevented||Qa(b??document.body,{select:!0}),u.removeEventListener(jy,p),iN.remove(v)},0)}}},[u,f,p,v]);const w=j.useCallback(b=>{if(!r&&!n||v.paused)return;const x=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,S=document.activeElement;if(x&&S){const C=b.currentTarget,[k,E]=_U(C);k&&E?!b.shiftKey&&S===E?(b.preventDefault(),r&&Qa(k,{select:!0})):b.shiftKey&&S===k&&(b.preventDefault(),r&&Qa(E,{select:!0})):S===C&&b.preventDefault()}},[r,n,v.paused]);return a.jsx(It.div,{tabIndex:-1,...l,ref:g,onKeyDown:w})});Y1.displayName=wU;function jU(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Qa(n,{select:t}),document.activeElement!==r)return}function _U(e){const t=PM(e),r=nN(t,e),n=nN(t.reverse(),e);return[r,n]}function PM(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function nN(e,t){for(const r of e)if(!SU(r,{upTo:t}))return r}function SU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kU(e){return e instanceof HTMLInputElement&&"select"in e}function Qa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&kU(e)&&t&&e.select()}}var iN=NU();function NU(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=aN(e,t),e.unshift(t)},remove(t){var r;e=aN(e,t),(r=e[0])==null||r.resume()}}}function aN(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function CU(e){return e.filter(t=>t.tagName!=="A")}var gn=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},PU=U5.useId||(()=>{}),EU=0;function os(e){const[t,r]=j.useState(PU());return gn(()=>{r(n=>n??String(EU++))},[e]),e||(t?`radix-${t}`:"")}const AU=["top","right","bottom","left"],fs=Math.min,Ln=Math.max,vp=Math.round,Uf=Math.floor,Ui=e=>({x:e,y:e}),OU={left:"right",right:"left",bottom:"top",top:"bottom"},TU={start:"end",end:"start"};function Jb(e,t,r){return Ln(e,fs(t,r))}function va(e,t){return typeof e=="function"?e(t):e}function xa(e){return e.split("-")[0]}function Ql(e){return e.split("-")[1]}function X1(e){return e==="x"?"y":"x"}function J1(e){return e==="y"?"height":"width"}const RU=new Set(["top","bottom"]);function Bi(e){return RU.has(xa(e))?"y":"x"}function Q1(e){return X1(Bi(e))}function MU(e,t,r){r===void 0&&(r=!1);const n=Ql(e),i=Q1(e),s=J1(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=xp(l)),[l,xp(l)]}function DU(e){const t=xp(e);return[Qb(e),t,Qb(t)]}function Qb(e){return e.replace(/start|end/g,t=>TU[t])}const sN=["left","right"],oN=["right","left"],IU=["top","bottom"],$U=["bottom","top"];function LU(e,t,r){switch(e){case"top":case"bottom":return r?t?oN:sN:t?sN:oN;case"left":case"right":return t?IU:$U;default:return[]}}function FU(e,t,r,n){const i=Ql(e);let s=LU(xa(e),r==="start",n);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(Qb)))),s}function xp(e){return e.replace(/left|right|bottom|top/g,t=>OU[t])}function BU(e){return{top:0,right:0,bottom:0,left:0,...e}}function EM(e){return typeof e!="number"?BU(e):{top:e,right:e,bottom:e,left:e}}function bp(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function lN(e,t,r){let{reference:n,floating:i}=e;const s=Bi(t),l=Q1(t),u=J1(l),d=xa(t),f=s==="y",p=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,g=n[u]/2-i[u]/2;let v;switch(d){case"top":v={x:p,y:n.y-i.height};break;case"bottom":v={x:p,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:h};break;case"left":v={x:n.x-i.width,y:h};break;default:v={x:n.x,y:n.y}}switch(Ql(t)){case"start":v[l]-=g*(r&&f?-1:1);break;case"end":v[l]+=g*(r&&f?-1:1);break}return v}const zU=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:l}=r,u=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:h}=lN(f,n,d),g=n,v={},w=0;for(let b=0;b<u.length;b++){const{name:x,fn:S}=u[b],{x:C,y:k,data:E,reset:_}=await S({x:p,y:h,initialPlacement:n,placement:g,strategy:i,middlewareData:v,rects:f,platform:l,elements:{reference:e,floating:t}});p=C??p,h=k??h,v={...v,[x]:{...v[x],...E}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(f=_.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:p,y:h}=lN(f,g,d)),b=-1)}return{x:p,y:h,placement:g,strategy:i,middlewareData:v}};async function ku(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:g=!1,padding:v=0}=va(t,e),w=EM(v),x=u[g?h==="floating"?"reference":"floating":h],S=bp(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(x)))==null||r?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:d})),C=h==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),E=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},_=bp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:k,strategy:d}):C);return{top:(S.top-_.top+w.top)/E.y,bottom:(_.bottom-S.bottom+w.bottom)/E.y,left:(S.left-_.left+w.left)/E.x,right:(_.right-S.right+w.right)/E.x}}const UU=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:p=0}=va(e,t)||{};if(f==null)return{};const h=EM(p),g={x:r,y:n},v=Q1(i),w=J1(v),b=await l.getDimensions(f),x=v==="y",S=x?"top":"left",C=x?"bottom":"right",k=x?"clientHeight":"clientWidth",E=s.reference[w]+s.reference[v]-g[v]-s.floating[w],_=g[v]-s.reference[v],A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let P=A?A[k]:0;(!P||!await(l.isElement==null?void 0:l.isElement(A)))&&(P=u.floating[k]||s.floating[w]);const T=E/2-_/2,M=P/2-b[w]/2-1,R=fs(h[S],M),D=fs(h[C],M),q=R,F=P-b[w]-D,$=P/2-b[w]/2+T,L=Jb(q,$,F),B=!d.arrow&&Ql(i)!=null&&$!==L&&s.reference[w]/2-($<q?R:D)-b[w]/2<0,Z=B?$<q?$-q:$-F:0;return{[v]:g[v]+Z,data:{[v]:L,centerOffset:$-L-Z,...B&&{alignmentOffset:Z}},reset:B}}}),qU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...x}=va(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const S=xa(i),C=Bi(u),k=xa(u)===u,E=await(d.isRTL==null?void 0:d.isRTL(f.floating)),_=g||(k||!b?[xp(u)]:DU(u)),A=w!=="none";!g&&A&&_.push(...FU(u,b,w,E));const P=[u,..._],T=await ku(t,x),M=[];let R=((n=s.flip)==null?void 0:n.overflows)||[];if(p&&M.push(T[S]),h){const $=MU(i,l,E);M.push(T[$[0]],T[$[1]])}if(R=[...R,{placement:i,overflows:M}],!M.every($=>$<=0)){var D,q;const $=(((D=s.flip)==null?void 0:D.index)||0)+1,L=P[$];if(L&&(!(h==="alignment"?C!==Bi(L):!1)||R.every(z=>Bi(z.placement)===C?z.overflows[0]>0:!0)))return{data:{index:$,overflows:R},reset:{placement:L}};let B=(q=R.filter(Z=>Z.overflows[0]<=0).sort((Z,z)=>Z.overflows[1]-z.overflows[1])[0])==null?void 0:q.placement;if(!B)switch(v){case"bestFit":{var F;const Z=(F=R.filter(z=>{if(A){const te=Bi(z.placement);return te===C||te==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(te=>te>0).reduce((te,re)=>te+re,0)]).sort((z,te)=>z[1]-te[1])[0])==null?void 0:F[0];Z&&(B=Z);break}case"initialPlacement":B=u;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function cN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uN(e){return AU.some(t=>e[t]>=0)}const WU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=va(e,t);switch(n){case"referenceHidden":{const s=await ku(t,{...i,elementContext:"reference"}),l=cN(s,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:uN(l)}}}case"escaped":{const s=await ku(t,{...i,altBoundary:!0}),l=cN(s,r.floating);return{data:{escapedOffsets:l,escaped:uN(l)}}}default:return{}}}}},AM=new Set(["left","top"]);async function HU(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=xa(r),u=Ql(r),d=Bi(r)==="y",f=AM.has(l)?-1:1,p=s&&d?-1:1,h=va(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return u&&typeof w=="number"&&(v=u==="end"?w*-1:w),d?{x:v*p,y:g*f}:{x:g*f,y:v*p}}const VU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:l,middlewareData:u}=t,d=await HU(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}},KU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:u={fn:x=>{let{x:S,y:C}=x;return{x:S,y:C}}},...d}=va(e,t),f={x:r,y:n},p=await ku(t,d),h=Bi(xa(i)),g=X1(h);let v=f[g],w=f[h];if(s){const x=g==="y"?"top":"left",S=g==="y"?"bottom":"right",C=v+p[x],k=v-p[S];v=Jb(C,v,k)}if(l){const x=h==="y"?"top":"left",S=h==="y"?"bottom":"right",C=w+p[x],k=w-p[S];w=Jb(C,w,k)}const b=u.fn({...t,[g]:v,[h]:w});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[g]:s,[h]:l}}}}}},GU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=va(e,t),p={x:r,y:n},h=Bi(i),g=X1(h);let v=p[g],w=p[h];const b=va(u,t),x=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const k=g==="y"?"height":"width",E=s.reference[g]-s.floating[k]+x.mainAxis,_=s.reference[g]+s.reference[k]-x.mainAxis;v<E?v=E:v>_&&(v=_)}if(f){var S,C;const k=g==="y"?"width":"height",E=AM.has(xa(i)),_=s.reference[h]-s.floating[k]+(E&&((S=l.offset)==null?void 0:S[h])||0)+(E?0:x.crossAxis),A=s.reference[h]+s.reference[k]+(E?0:((C=l.offset)==null?void 0:C[h])||0)-(E?x.crossAxis:0);w<_?w=_:w>A&&(w=A)}return{[g]:v,[h]:w}}}},YU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:l,elements:u}=t,{apply:d=()=>{},...f}=va(e,t),p=await ku(t,f),h=xa(i),g=Ql(i),v=Bi(i)==="y",{width:w,height:b}=s.floating;let x,S;h==="top"||h==="bottom"?(x=h,S=g===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(S=h,x=g==="end"?"top":"bottom");const C=b-p.top-p.bottom,k=w-p.left-p.right,E=fs(b-p[x],C),_=fs(w-p[S],k),A=!t.middlewareData.shift;let P=E,T=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=k),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=C),A&&!g){const R=Ln(p.left,0),D=Ln(p.right,0),q=Ln(p.top,0),F=Ln(p.bottom,0);v?T=w-2*(R!==0||D!==0?R+D:Ln(p.left,p.right)):P=b-2*(q!==0||F!==0?q+F:Ln(p.top,p.bottom))}await d({...t,availableWidth:T,availableHeight:P});const M=await l.getDimensions(u.floating);return w!==M.width||b!==M.height?{reset:{rects:!0}}:{}}}};function Ph(){return typeof window<"u"}function Zl(e){return OM(e)?(e.nodeName||"").toLowerCase():"#document"}function zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xi(e){var t;return(t=(OM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function OM(e){return Ph()?e instanceof Node||e instanceof zn(e).Node:!1}function Ni(e){return Ph()?e instanceof Element||e instanceof zn(e).Element:!1}function Ki(e){return Ph()?e instanceof HTMLElement||e instanceof zn(e).HTMLElement:!1}function dN(e){return!Ph()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zn(e).ShadowRoot}const XU=new Set(["inline","contents"]);function fd(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Ci(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!XU.has(i)}const JU=new Set(["table","td","th"]);function QU(e){return JU.has(Zl(e))}const ZU=[":popover-open",":modal"];function Eh(e){return ZU.some(t=>{try{return e.matches(t)}catch{return!1}})}const eq=["transform","translate","scale","rotate","perspective"],tq=["transform","translate","scale","rotate","perspective","filter"],rq=["paint","layout","strict","content"];function Z1(e){const t=ej(),r=Ni(e)?Ci(e):e;return eq.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||tq.some(n=>(r.willChange||"").includes(n))||rq.some(n=>(r.contain||"").includes(n))}function nq(e){let t=ps(e);for(;Ki(t)&&!jl(t);){if(Z1(t))return t;if(Eh(t))return null;t=ps(t)}return null}function ej(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iq=new Set(["html","body","#document"]);function jl(e){return iq.has(Zl(e))}function Ci(e){return zn(e).getComputedStyle(e)}function Ah(e){return Ni(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ps(e){if(Zl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dN(e)&&e.host||Xi(e);return dN(t)?t.host:t}function TM(e){const t=ps(e);return jl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ki(t)&&fd(t)?t:TM(t)}function Nu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=TM(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),l=zn(i);if(s){const u=Zb(l);return t.concat(l,l.visualViewport||[],fd(i)?i:[],u&&r?Nu(u):[])}return t.concat(i,Nu(i,[],r))}function Zb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RM(e){const t=Ci(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Ki(e),s=i?e.offsetWidth:r,l=i?e.offsetHeight:n,u=vp(r)!==s||vp(n)!==l;return u&&(r=s,n=l),{width:r,height:n,$:u}}function tj(e){return Ni(e)?e:e.contextElement}function cl(e){const t=tj(e);if(!Ki(t))return Ui(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=RM(t);let l=(s?vp(r.width):r.width)/n,u=(s?vp(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const aq=Ui(0);function MM(e){const t=zn(e);return!ej()||!t.visualViewport?aq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sq(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zn(e)?!1:t}function eo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=tj(e);let l=Ui(1);t&&(n?Ni(n)&&(l=cl(n)):l=cl(e));const u=sq(s,r,n)?MM(s):Ui(0);let d=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,p=i.width/l.x,h=i.height/l.y;if(s){const g=zn(s),v=n&&Ni(n)?zn(n):n;let w=g,b=Zb(w);for(;b&&n&&v!==w;){const x=cl(b),S=b.getBoundingClientRect(),C=Ci(b),k=S.left+(b.clientLeft+parseFloat(C.paddingLeft))*x.x,E=S.top+(b.clientTop+parseFloat(C.paddingTop))*x.y;d*=x.x,f*=x.y,p*=x.x,h*=x.y,d+=k,f+=E,w=zn(b),b=Zb(w)}}return bp({width:p,height:h,x:d,y:f})}function Oh(e,t){const r=Ah(e).scrollLeft;return t?t.left+r:eo(Xi(e)).left+r}function DM(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Oh(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function oq(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",l=Xi(n),u=t?Eh(t.floating):!1;if(n===l||u&&s)return r;let d={scrollLeft:0,scrollTop:0},f=Ui(1);const p=Ui(0),h=Ki(n);if((h||!h&&!s)&&((Zl(n)!=="body"||fd(l))&&(d=Ah(n)),Ki(n))){const v=eo(n);f=cl(n),p.x=v.x+n.clientLeft,p.y=v.y+n.clientTop}const g=l&&!h&&!s?DM(l,d):Ui(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+p.x+g.x,y:r.y*f.y-d.scrollTop*f.y+p.y+g.y}}function lq(e){return Array.from(e.getClientRects())}function cq(e){const t=Xi(e),r=Ah(e),n=e.ownerDocument.body,i=Ln(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ln(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Oh(e);const u=-r.scrollTop;return Ci(n).direction==="rtl"&&(l+=Ln(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:l,y:u}}const fN=25;function uq(e,t){const r=zn(e),n=Xi(e),i=r.visualViewport;let s=n.clientWidth,l=n.clientHeight,u=0,d=0;if(i){s=i.width,l=i.height;const p=ej();(!p||p&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}const f=Oh(n);if(f<=0){const p=n.ownerDocument,h=p.body,g=getComputedStyle(h),v=p.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,w=Math.abs(n.clientWidth-h.clientWidth-v);w<=fN&&(s-=w)}else f<=fN&&(s+=f);return{width:s,height:l,x:u,y:d}}const dq=new Set(["absolute","fixed"]);function fq(e,t){const r=eo(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=Ki(e)?cl(e):Ui(1),l=e.clientWidth*s.x,u=e.clientHeight*s.y,d=i*s.x,f=n*s.y;return{width:l,height:u,x:d,y:f}}function pN(e,t,r){let n;if(t==="viewport")n=uq(e,r);else if(t==="document")n=cq(Xi(e));else if(Ni(t))n=fq(t,r);else{const i=MM(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return bp(n)}function IM(e,t){const r=ps(e);return r===t||!Ni(r)||jl(r)?!1:Ci(r).position==="fixed"||IM(r,t)}function pq(e,t){const r=t.get(e);if(r)return r;let n=Nu(e,[],!1).filter(u=>Ni(u)&&Zl(u)!=="body"),i=null;const s=Ci(e).position==="fixed";let l=s?ps(e):e;for(;Ni(l)&&!jl(l);){const u=Ci(l),d=Z1(l);!d&&u.position==="fixed"&&(i=null),(s?!d&&!i:!d&&u.position==="static"&&!!i&&dq.has(i.position)||fd(l)&&!d&&IM(e,l))?n=n.filter(p=>p!==l):i=u,l=ps(l)}return t.set(e,n),n}function hq(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?Eh(t)?[]:pq(t,this._c):[].concat(r),n],u=l[0],d=l.reduce((f,p)=>{const h=pN(t,p,i);return f.top=Ln(h.top,f.top),f.right=fs(h.right,f.right),f.bottom=fs(h.bottom,f.bottom),f.left=Ln(h.left,f.left),f},pN(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function mq(e){const{width:t,height:r}=RM(e);return{width:t,height:r}}function gq(e,t,r){const n=Ki(t),i=Xi(t),s=r==="fixed",l=eo(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const d=Ui(0);function f(){d.x=Oh(i)}if(n||!n&&!s)if((Zl(t)!=="body"||fd(i))&&(u=Ah(t)),n){const v=eo(t,!0,s,t);d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}else i&&f();s&&!n&&i&&f();const p=i&&!n&&!s?DM(i,u):Ui(0),h=l.left+u.scrollLeft-d.x-p.x,g=l.top+u.scrollTop-d.y-p.y;return{x:h,y:g,width:l.width,height:l.height}}function _y(e){return Ci(e).position==="static"}function hN(e,t){if(!Ki(e)||Ci(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xi(e)===r&&(r=r.ownerDocument.body),r}function $M(e,t){const r=zn(e);if(Eh(e))return r;if(!Ki(e)){let i=ps(e);for(;i&&!jl(i);){if(Ni(i)&&!_y(i))return i;i=ps(i)}return r}let n=hN(e,t);for(;n&&QU(n)&&_y(n);)n=hN(n,t);return n&&jl(n)&&_y(n)&&!Z1(n)?r:n||nq(e)||r}const yq=async function(e){const t=this.getOffsetParent||$M,r=this.getDimensions,n=await r(e.floating);return{reference:gq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function vq(e){return Ci(e).direction==="rtl"}const xq={convertOffsetParentRelativeRectToViewportRelativeRect:oq,getDocumentElement:Xi,getClippingRect:hq,getOffsetParent:$M,getElementRects:yq,getClientRects:lq,getDimensions:mq,getScale:cl,isElement:Ni,isRTL:vq};function LM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bq(e,t){let r=null,n;const i=Xi(e);function s(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const f=e.getBoundingClientRect(),{left:p,top:h,width:g,height:v}=f;if(u||t(),!g||!v)return;const w=Uf(h),b=Uf(i.clientWidth-(p+g)),x=Uf(i.clientHeight-(h+v)),S=Uf(p),k={rootMargin:-w+"px "+-b+"px "+-x+"px "+-S+"px",threshold:Ln(0,fs(1,d))||1};let E=!0;function _(A){const P=A[0].intersectionRatio;if(P!==d){if(!E)return l();P?l(!1,P):n=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!LM(f,e.getBoundingClientRect())&&l(),E=!1}try{r=new IntersectionObserver(_,{...k,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,k)}r.observe(e)}return l(!0),s}function wq(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=tj(e),p=i||s?[...f?Nu(f):[],...Nu(t)]:[];p.forEach(S=>{i&&S.addEventListener("scroll",r,{passive:!0}),s&&S.addEventListener("resize",r)});const h=f&&u?bq(f,r):null;let g=-1,v=null;l&&(v=new ResizeObserver(S=>{let[C]=S;C&&C.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=v)==null||k.observe(t)})),r()}),f&&!d&&v.observe(f),v.observe(t));let w,b=d?eo(e):null;d&&x();function x(){const S=eo(e);b&&!LM(b,S)&&r(),b=S,w=requestAnimationFrame(x)}return r(),()=>{var S;p.forEach(C=>{i&&C.removeEventListener("scroll",r),s&&C.removeEventListener("resize",r)}),h==null||h(),(S=v)==null||S.disconnect(),v=null,d&&cancelAnimationFrame(w)}}const jq=VU,_q=KU,Sq=qU,kq=YU,Nq=WU,mN=UU,Cq=GU,Pq=(e,t,r)=>{const n=new Map,i={platform:xq,...r},s={...i.platform,_c:n};return zU(e,t,{...i,platform:s})};var Eq=typeof document<"u",Aq=function(){},dp=Eq?j.useLayoutEffect:Aq;function wp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wp(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!wp(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function FM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gN(e,t){const r=FM(e);return Math.round(t*r)/r}function Sy(e){const t=j.useRef(e);return dp(()=>{t.current=e}),t}function Oq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[p,h]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=j.useState(n);wp(g,n)||v(n);const[w,b]=j.useState(null),[x,S]=j.useState(null),C=j.useCallback(z=>{z!==A.current&&(A.current=z,b(z))},[]),k=j.useCallback(z=>{z!==P.current&&(P.current=z,S(z))},[]),E=s||w,_=l||x,A=j.useRef(null),P=j.useRef(null),T=j.useRef(p),M=d!=null,R=Sy(d),D=Sy(i),q=Sy(f),F=j.useCallback(()=>{if(!A.current||!P.current)return;const z={placement:t,strategy:r,middleware:g};D.current&&(z.platform=D.current),Pq(A.current,P.current,z).then(te=>{const re={...te,isPositioned:q.current!==!1};$.current&&!wp(T.current,re)&&(T.current=re,dd.flushSync(()=>{h(re)}))})},[g,t,r,D,q]);dp(()=>{f===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[f]);const $=j.useRef(!1);dp(()=>($.current=!0,()=>{$.current=!1}),[]),dp(()=>{if(E&&(A.current=E),_&&(P.current=_),E&&_){if(R.current)return R.current(E,_,F);F()}},[E,_,F,R,M]);const L=j.useMemo(()=>({reference:A,floating:P,setReference:C,setFloating:k}),[C,k]),B=j.useMemo(()=>({reference:E,floating:_}),[E,_]),Z=j.useMemo(()=>{const z={position:r,left:0,top:0};if(!B.floating)return z;const te=gN(B.floating,p.x),re=gN(B.floating,p.y);return u?{...z,transform:"translate("+te+"px, "+re+"px)",...FM(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:te,top:re}},[r,u,B.floating,p.x,p.y]);return j.useMemo(()=>({...p,update:F,refs:L,elements:B,floatingStyles:Z}),[p,F,L,B,Z])}const Tq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?mN({element:n.current,padding:i}).fn(r):{}:n?mN({element:n,padding:i}).fn(r):{}}}},Rq=(e,t)=>({...jq(e),options:[e,t]}),Mq=(e,t)=>({..._q(e),options:[e,t]}),Dq=(e,t)=>({...Cq(e),options:[e,t]}),Iq=(e,t)=>({...Sq(e),options:[e,t]}),$q=(e,t)=>({...kq(e),options:[e,t]}),Lq=(e,t)=>({...Nq(e),options:[e,t]}),Fq=(e,t)=>({...Tq(e),options:[e,t]});var Bq="Arrow",BM=j.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(It.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});BM.displayName=Bq;var zq=BM;function rj(e){const[t,r]=j.useState(void 0);return gn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,u;if("borderBoxSize"in s){const d=s.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var nj="Popper",[zM,UM]=_a(nj),[Uq,qM]=zM(nj),WM=e=>{const{__scopePopper:t,children:r}=e,[n,i]=j.useState(null);return a.jsx(Uq,{scope:t,anchor:n,onAnchorChange:i,children:r})};WM.displayName=nj;var HM="PopperAnchor",VM=j.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=qM(HM,r),l=j.useRef(null),u=jr(t,l);return j.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:a.jsx(It.div,{...i,ref:u})});VM.displayName=HM;var ij="PopperContent",[qq,Wq]=zM(ij),KM=j.forwardRef((e,t)=>{var ye,Ae,G,ue,ee,W;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...b}=e,x=qM(ij,r),[S,C]=j.useState(null),k=jr(t,Y=>C(Y)),[E,_]=j.useState(null),A=rj(E),P=(A==null?void 0:A.width)??0,T=(A==null?void 0:A.height)??0,M=n+(s!=="center"?"-"+s:""),R=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},D=Array.isArray(f)?f:[f],q=D.length>0,F={padding:R,boundary:D.filter(Vq),altBoundary:q},{refs:$,floatingStyles:L,placement:B,isPositioned:Z,middlewareData:z}=Oq({strategy:"fixed",placement:M,whileElementsMounted:(...Y)=>wq(...Y,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[Rq({mainAxis:i+T,alignmentAxis:l}),d&&Mq({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Dq():void 0,...F}),d&&Iq({...F}),$q({...F,apply:({elements:Y,rects:se,availableWidth:me,availableHeight:we})=>{const{width:ve,height:K}=se.reference,je=Y.floating.style;je.setProperty("--radix-popper-available-width",`${me}px`),je.setProperty("--radix-popper-available-height",`${we}px`),je.setProperty("--radix-popper-anchor-width",`${ve}px`),je.setProperty("--radix-popper-anchor-height",`${K}px`)}}),E&&Fq({element:E,padding:u}),Kq({arrowWidth:P,arrowHeight:T}),g&&Lq({strategy:"referenceHidden",...F})]}),[te,re]=XM(B),V=Vi(w);gn(()=>{Z&&(V==null||V())},[Z,V]);const X=(ye=z.arrow)==null?void 0:ye.x,le=(Ae=z.arrow)==null?void 0:Ae.y,ce=((G=z.arrow)==null?void 0:G.centerOffset)!==0,[Se,xe]=j.useState();return gn(()=>{S&&xe(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:Z?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(ue=z.transformOrigin)==null?void 0:ue.x,(ee=z.transformOrigin)==null?void 0:ee.y].join(" "),...((W=z.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(qq,{scope:r,placedSide:te,onArrowChange:_,arrowX:X,arrowY:le,shouldHideArrow:ce,children:a.jsx(It.div,{"data-side":te,"data-align":re,...b,ref:k,style:{...b.style,animation:Z?void 0:"none"}})})})});KM.displayName=ij;var GM="PopperArrow",Hq={top:"bottom",right:"left",bottom:"top",left:"right"},YM=j.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=Wq(GM,n),l=Hq[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(zq,{...i,ref:r,style:{...i.style,display:"block"}})})});YM.displayName=GM;function Vq(e){return e!==null}var Kq=e=>({name:"transformOrigin",options:e,fn(t){var x,S,C;const{placement:r,rects:n,middlewareData:i}=t,l=((x=i.arrow)==null?void 0:x.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,p]=XM(r),h={start:"0%",center:"50%",end:"100%"}[p],g=(((S=i.arrow)==null?void 0:S.x)??0)+u/2,v=(((C=i.arrow)==null?void 0:C.y)??0)+d/2;let w="",b="";return f==="bottom"?(w=l?h:`${g}px`,b=`${-d}px`):f==="top"?(w=l?h:`${g}px`,b=`${n.floating.height+d}px`):f==="right"?(w=`${-d}px`,b=l?h:`${v}px`):f==="left"&&(w=`${n.floating.width+d}px`,b=l?h:`${v}px`),{data:{x:w,y:b}}}});function XM(e){const[t,r="center"]=e.split("-");return[t,r]}var Gq=WM,Yq=VM,Xq=KM,Jq=YM,Qq="Portal",aj=j.forwardRef((e,t)=>{var u;const{container:r,...n}=e,[i,s]=j.useState(!1);gn(()=>s(!0),[]);const l=r||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?_M.createPortal(a.jsx(It.div,{...n,ref:t}),l):null});aj.displayName=Qq;function to({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=Zq({defaultProp:t,onChange:r}),s=e!==void 0,l=s?e:n,u=Vi(r),d=j.useCallback(f=>{if(s){const h=typeof f=="function"?f(e):f;h!==e&&u(h)}else i(f)},[s,e,i,u]);return[l,d]}function Zq({defaultProp:e,onChange:t}){const r=j.useState(e),[n]=r,i=j.useRef(n),s=Vi(t);return j.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}function sj(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var e7="VisuallyHidden",JM=j.forwardRef((e,t)=>a.jsx(It.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));JM.displayName=e7;var t7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Go=new WeakMap,qf=new WeakMap,Wf={},ky=0,QM=function(e){return e&&(e.host||QM(e.parentNode))},r7=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=QM(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},n7=function(e,t,r,n){var i=r7(t,Array.isArray(e)?e:[e]);Wf[r]||(Wf[r]=new WeakMap);var s=Wf[r],l=[],u=new Set,d=new Set(i),f=function(h){!h||u.has(h)||(u.add(h),f(h.parentNode))};i.forEach(f);var p=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(g){if(u.has(g))p(g);else try{var v=g.getAttribute(n),w=v!==null&&v!=="false",b=(Go.get(g)||0)+1,x=(s.get(g)||0)+1;Go.set(g,b),s.set(g,x),l.push(g),b===1&&w&&qf.set(g,!0),x===1&&g.setAttribute(r,"true"),w||g.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",g,S)}})};return p(t),u.clear(),ky++,function(){l.forEach(function(h){var g=Go.get(h)-1,v=s.get(h)-1;Go.set(h,g),s.set(h,v),g||(qf.has(h)||h.removeAttribute(n),qf.delete(h)),v||h.removeAttribute(r)}),ky--,ky||(Go=new WeakMap,Go=new WeakMap,qf=new WeakMap,Wf={})}},ZM=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=t7(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),n7(n,i,r,"aria-hidden")):function(){return null}},$i=function(){return $i=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},$i.apply(this,arguments)};function eD(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function i7(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var fp="right-scroll-bar-position",pp="width-before-scroll-bar",a7="with-scroll-bars-hidden",s7="--removed-body-scroll-bar-size";function Ny(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function o7(e,t){var r=j.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var l7=typeof window<"u"?j.useLayoutEffect:j.useEffect,yN=new WeakMap;function c7(e,t){var r=o7(null,function(n){return e.forEach(function(i){return Ny(i,n)})});return l7(function(){var n=yN.get(r);if(n){var i=new Set(n),s=new Set(e),l=r.current;i.forEach(function(u){s.has(u)||Ny(u,null)}),s.forEach(function(u){i.has(u)||Ny(u,l)})}yN.set(r,e)},[e]),r}function u7(e){return e}function d7(e,t){t===void 0&&(t=u7);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var l=t(s,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(s){for(n=!0;r.length;){var l=r;r=[],l.forEach(s)}r={push:function(u){return s(u)},filter:function(){return r}}},assignMedium:function(s){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(s),l=r}var d=function(){var p=l;l=[],p.forEach(s)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),r}}}};return i}function f7(e){e===void 0&&(e={});var t=d7(null);return t.options=$i({async:!0,ssr:!1},e),t}var tD=function(e){var t=e.sideCar,r=eD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,$i({},r))};tD.isSideCarExport=!0;function p7(e,t){return e.useMedium(t),tD}var rD=f7(),Cy=function(){},Th=j.forwardRef(function(e,t){var r=j.useRef(null),n=j.useState({onScrollCapture:Cy,onWheelCapture:Cy,onTouchMoveCapture:Cy}),i=n[0],s=n[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,p=e.enabled,h=e.shards,g=e.sideCar,v=e.noRelative,w=e.noIsolation,b=e.inert,x=e.allowPinchZoom,S=e.as,C=S===void 0?"div":S,k=e.gapMode,E=eD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=g,A=c7([r,t]),P=$i($i({},E),i);return j.createElement(j.Fragment,null,p&&j.createElement(_,{sideCar:rD,removeScrollBar:f,shards:h,noRelative:v,noIsolation:w,inert:b,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:k}),l?j.cloneElement(j.Children.only(u),$i($i({},P),{ref:A})):j.createElement(C,$i({},P,{className:d,ref:A}),u))});Th.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Th.classNames={fullWidth:pp,zeroRight:fp};var h7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function m7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=h7();return t&&e.setAttribute("nonce",t),e}function g7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function y7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var v7=function(){var e=0,t=null;return{add:function(r){e==0&&(t=m7())&&(g7(t,r),y7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},x7=function(){var e=v7();return function(t,r){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},nD=function(){var e=x7(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},b7={left:0,top:0,right:0,gap:0},Py=function(e){return parseInt(e||"",10)||0},w7=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Py(r),Py(n),Py(i)]},j7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return b7;var t=w7(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},_7=nD(),ul="data-scroll-locked",S7=function(e,t,r,n){var i=e.left,s=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(a7,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(ul,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fp,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(pp,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(fp," .").concat(fp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(pp," .").concat(pp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ul,`] {
    `).concat(s7,": ").concat(u,`px;
  }
`)},vN=function(){var e=parseInt(document.body.getAttribute(ul)||"0",10);return isFinite(e)?e:0},k7=function(){j.useEffect(function(){return document.body.setAttribute(ul,(vN()+1).toString()),function(){var e=vN()-1;e<=0?document.body.removeAttribute(ul):document.body.setAttribute(ul,e.toString())}},[])},N7=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;k7();var s=j.useMemo(function(){return j7(i)},[i]);return j.createElement(_7,{styles:S7(s,!t,i,r?"":"!important")})},ew=!1;if(typeof window<"u")try{var Hf=Object.defineProperty({},"passive",{get:function(){return ew=!0,!0}});window.addEventListener("test",Hf,Hf),window.removeEventListener("test",Hf,Hf)}catch{ew=!1}var Yo=ew?{passive:!1}:!1,C7=function(e){return e.tagName==="TEXTAREA"},iD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!C7(e)&&r[t]==="visible")},P7=function(e){return iD(e,"overflowY")},E7=function(e){return iD(e,"overflowX")},xN=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=aD(e,n);if(i){var s=sD(e,n),l=s[1],u=s[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},A7=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},O7=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},aD=function(e,t){return e==="v"?P7(t):E7(t)},sD=function(e,t){return e==="v"?A7(t):O7(t)},T7=function(e,t){return e==="h"&&t==="rtl"?-1:1},R7=function(e,t,r,n,i){var s=T7(e,window.getComputedStyle(t).direction),l=s*n,u=r.target,d=t.contains(u),f=!1,p=l>0,h=0,g=0;do{if(!u)break;var v=sD(e,u),w=v[0],b=v[1],x=v[2],S=b-x-s*w;(w||S)&&aD(e,u)&&(h+=S,g+=w);var C=u.parentNode;u=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(p&&Math.abs(h)<1||!p&&Math.abs(g)<1)&&(f=!0),f},Vf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bN=function(e){return[e.deltaX,e.deltaY]},wN=function(e){return e&&"current"in e?e.current:e},M7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},D7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},I7=0,Xo=[];function $7(e){var t=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),i=j.useState(I7++)[0],s=j.useState(nD)[0],l=j.useRef(e);j.useEffect(function(){l.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=i7([e.lockRef.current],(e.shards||[]).map(wN),!0).filter(Boolean);return b.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=j.useCallback(function(b,x){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var S=Vf(b),C=r.current,k="deltaX"in b?b.deltaX:C[0]-S[0],E="deltaY"in b?b.deltaY:C[1]-S[1],_,A=b.target,P=Math.abs(k)>Math.abs(E)?"h":"v";if("touches"in b&&P==="h"&&A.type==="range")return!1;var T=window.getSelection(),M=T&&T.anchorNode,R=M?M===A||M.contains(A):!1;if(R)return!1;var D=xN(P,A);if(!D)return!0;if(D?_=P:(_=P==="v"?"h":"v",D=xN(P,A)),!D)return!1;if(!n.current&&"changedTouches"in b&&(k||E)&&(n.current=_),!_)return!0;var q=n.current||_;return R7(q,x,b,q==="h"?k:E)},[]),d=j.useCallback(function(b){var x=b;if(!(!Xo.length||Xo[Xo.length-1]!==s)){var S="deltaY"in x?bN(x):Vf(x),C=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&M7(_.delta,S)})[0];if(C&&C.should){x.cancelable&&x.preventDefault();return}if(!C){var k=(l.current.shards||[]).map(wN).filter(Boolean).filter(function(_){return _.contains(x.target)}),E=k.length>0?u(x,k[0]):!l.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),f=j.useCallback(function(b,x,S,C){var k={name:b,delta:x,target:S,should:C,shadowParent:L7(S)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(E){return E!==k})},1)},[]),p=j.useCallback(function(b){r.current=Vf(b),n.current=void 0},[]),h=j.useCallback(function(b){f(b.type,bN(b),b.target,u(b,e.lockRef.current))},[]),g=j.useCallback(function(b){f(b.type,Vf(b),b.target,u(b,e.lockRef.current))},[]);j.useEffect(function(){return Xo.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Yo),document.addEventListener("touchmove",d,Yo),document.addEventListener("touchstart",p,Yo),function(){Xo=Xo.filter(function(b){return b!==s}),document.removeEventListener("wheel",d,Yo),document.removeEventListener("touchmove",d,Yo),document.removeEventListener("touchstart",p,Yo)}},[]);var v=e.removeScrollBar,w=e.inert;return j.createElement(j.Fragment,null,w?j.createElement(s,{styles:D7(i)}):null,v?j.createElement(N7,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function L7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const F7=p7(rD,$7);var oj=j.forwardRef(function(e,t){return j.createElement(Th,$i({},e,{ref:t,sideCar:F7}))});oj.classNames=Th.classNames;var B7=[" ","Enter","ArrowUp","ArrowDown"],z7=[" ","Enter"],pd="Select",[Rh,Mh,U7]=SM(pd),[ec]=_a(pd,[U7,UM]),Dh=UM(),[q7,hs]=ec(pd),[W7,H7]=ec(pd),oD=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:l,defaultValue:u,onValueChange:d,dir:f,name:p,autoComplete:h,disabled:g,required:v,form:w}=e,b=Dh(t),[x,S]=j.useState(null),[C,k]=j.useState(null),[E,_]=j.useState(!1),A=K1(f),[P=!1,T]=to({prop:n,defaultProp:i,onChange:s}),[M,R]=to({prop:l,defaultProp:u,onChange:d}),D=j.useRef(null),q=x?w||!!x.closest("form"):!0,[F,$]=j.useState(new Set),L=Array.from(F).map(B=>B.props.value).join(";");return a.jsx(Gq,{...b,children:a.jsxs(q7,{required:v,scope:t,trigger:x,onTriggerChange:S,valueNode:C,onValueNodeChange:k,valueNodeHasChildren:E,onValueNodeHasChildrenChange:_,contentId:os(),value:M,onValueChange:R,open:P,onOpenChange:T,dir:A,triggerPointerDownPosRef:D,disabled:g,children:[a.jsx(Rh.Provider,{scope:t,children:a.jsx(W7,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(B=>{$(Z=>new Set(Z).add(B))},[]),onNativeOptionRemove:j.useCallback(B=>{$(Z=>{const z=new Set(Z);return z.delete(B),z})},[]),children:r})}),q?a.jsxs(AD,{"aria-hidden":!0,required:v,tabIndex:-1,name:p,autoComplete:h,value:M,onChange:B=>R(B.target.value),disabled:g,form:w,children:[M===void 0?a.jsx("option",{value:""}):null,Array.from(F)]},L):null]})})};oD.displayName=pd;var lD="SelectTrigger",cD=j.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=Dh(r),l=hs(lD,r),u=l.disabled||n,d=jr(t,l.onTriggerChange),f=Mh(r),p=j.useRef("touch"),[h,g,v]=OD(b=>{const x=f().filter(k=>!k.disabled),S=x.find(k=>k.value===l.value),C=TD(x,b,S);C!==void 0&&l.onValueChange(C.value)}),w=b=>{u||(l.onOpenChange(!0),v()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return a.jsx(Yq,{asChild:!0,...s,children:a.jsx(It.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":ED(l.value)?"":void 0,...i,ref:d,onClick:qt(i.onClick,b=>{b.currentTarget.focus(),p.current!=="mouse"&&w(b)}),onPointerDown:qt(i.onPointerDown,b=>{p.current=b.pointerType;const x=b.target;x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:qt(i.onKeyDown,b=>{const x=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(x&&b.key===" ")&&B7.includes(b.key)&&(w(),b.preventDefault())})})})});cD.displayName=lD;var uD="SelectValue",dD=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:l="",...u}=e,d=hs(uD,r),{onValueNodeHasChildrenChange:f}=d,p=s!==void 0,h=jr(t,d.onValueNodeChange);return gn(()=>{f(p)},[f,p]),a.jsx(It.span,{...u,ref:h,style:{pointerEvents:"none"},children:ED(d.value)?a.jsx(a.Fragment,{children:l}):s})});dD.displayName=uD;var V7="SelectIcon",fD=j.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(It.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});fD.displayName=V7;var K7="SelectPortal",pD=e=>a.jsx(aj,{asChild:!0,...e});pD.displayName=K7;var ro="SelectContent",hD=j.forwardRef((e,t)=>{const r=hs(ro,e.__scopeSelect),[n,i]=j.useState();if(gn(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?dd.createPortal(a.jsx(mD,{scope:e.__scopeSelect,children:a.jsx(Rh.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(gD,{...e,ref:t})});hD.displayName=ro;var yi=10,[mD,ms]=ec(ro),G7="SelectContentImpl",gD=j.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:g,collisionPadding:v,sticky:w,hideWhenDetached:b,avoidCollisions:x,...S}=e,C=hs(ro,r),[k,E]=j.useState(null),[_,A]=j.useState(null),P=jr(t,ye=>E(ye)),[T,M]=j.useState(null),[R,D]=j.useState(null),q=Mh(r),[F,$]=j.useState(!1),L=j.useRef(!1);j.useEffect(()=>{if(k)return ZM(k)},[k]),CM();const B=j.useCallback(ye=>{const[Ae,...G]=q().map(W=>W.ref.current),[ue]=G.slice(-1),ee=document.activeElement;for(const W of ye)if(W===ee||(W==null||W.scrollIntoView({block:"nearest"}),W===Ae&&_&&(_.scrollTop=0),W===ue&&_&&(_.scrollTop=_.scrollHeight),W==null||W.focus(),document.activeElement!==ee))return},[q,_]),Z=j.useCallback(()=>B([T,k]),[B,T,k]);j.useEffect(()=>{F&&Z()},[F,Z]);const{onOpenChange:z,triggerPointerDownPosRef:te}=C;j.useEffect(()=>{if(k){let ye={x:0,y:0};const Ae=ue=>{var ee,W;ye={x:Math.abs(Math.round(ue.pageX)-(((ee=te.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((W=te.current)==null?void 0:W.y)??0))}},G=ue=>{ye.x<=10&&ye.y<=10?ue.preventDefault():k.contains(ue.target)||z(!1),document.removeEventListener("pointermove",Ae),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",G,{capture:!0})}}},[k,z,te]),j.useEffect(()=>{const ye=()=>z(!1);return window.addEventListener("blur",ye),window.addEventListener("resize",ye),()=>{window.removeEventListener("blur",ye),window.removeEventListener("resize",ye)}},[z]);const[re,V]=OD(ye=>{const Ae=q().filter(ee=>!ee.disabled),G=Ae.find(ee=>ee.ref.current===document.activeElement),ue=TD(Ae,ye,G);ue&&setTimeout(()=>ue.ref.current.focus())}),X=j.useCallback((ye,Ae,G)=>{const ue=!L.current&&!G;(C.value!==void 0&&C.value===Ae||ue)&&(M(ye),ue&&(L.current=!0))},[C.value]),le=j.useCallback(()=>k==null?void 0:k.focus(),[k]),ce=j.useCallback((ye,Ae,G)=>{const ue=!L.current&&!G;(C.value!==void 0&&C.value===Ae||ue)&&D(ye)},[C.value]),Se=n==="popper"?tw:yD,xe=Se===tw?{side:u,sideOffset:d,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:g,collisionPadding:v,sticky:w,hideWhenDetached:b,avoidCollisions:x}:{};return a.jsx(mD,{scope:r,content:k,viewport:_,onViewportChange:A,itemRefCallback:X,selectedItem:T,onItemLeave:le,itemTextRefCallback:ce,focusSelectedItem:Z,selectedItemText:R,position:n,isPositioned:F,searchRef:re,children:a.jsx(oj,{as:ds,allowPinchZoom:!0,children:a.jsx(Y1,{asChild:!0,trapped:C.open,onMountAutoFocus:ye=>{ye.preventDefault()},onUnmountAutoFocus:qt(i,ye=>{var Ae;(Ae=C.trigger)==null||Ae.focus({preventScroll:!0}),ye.preventDefault()}),children:a.jsx(G1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:ye=>ye.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:a.jsx(Se,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ye=>ye.preventDefault(),...S,...xe,onPlaced:()=>$(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:qt(S.onKeyDown,ye=>{const Ae=ye.ctrlKey||ye.altKey||ye.metaKey;if(ye.key==="Tab"&&ye.preventDefault(),!Ae&&ye.key.length===1&&V(ye.key),["ArrowUp","ArrowDown","Home","End"].includes(ye.key)){let ue=q().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(ye.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(ye.key)){const ee=ye.target,W=ue.indexOf(ee);ue=ue.slice(W+1)}setTimeout(()=>B(ue)),ye.preventDefault()}})})})})})})});gD.displayName=G7;var Y7="SelectItemAlignedPosition",yD=j.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=hs(ro,r),l=ms(ro,r),[u,d]=j.useState(null),[f,p]=j.useState(null),h=jr(t,P=>p(P)),g=Mh(r),v=j.useRef(!1),w=j.useRef(!0),{viewport:b,selectedItem:x,selectedItemText:S,focusSelectedItem:C}=l,k=j.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&f&&b&&x&&S){const P=s.trigger.getBoundingClientRect(),T=f.getBoundingClientRect(),M=s.valueNode.getBoundingClientRect(),R=S.getBoundingClientRect();if(s.dir!=="rtl"){const ee=R.left-T.left,W=M.left-ee,Y=P.left-W,se=P.width+Y,me=Math.max(se,T.width),we=window.innerWidth-yi,ve=Q2(W,[yi,Math.max(yi,we-me)]);u.style.minWidth=se+"px",u.style.left=ve+"px"}else{const ee=T.right-R.right,W=window.innerWidth-M.right-ee,Y=window.innerWidth-P.right-W,se=P.width+Y,me=Math.max(se,T.width),we=window.innerWidth-yi,ve=Q2(W,[yi,Math.max(yi,we-me)]);u.style.minWidth=se+"px",u.style.right=ve+"px"}const D=g(),q=window.innerHeight-yi*2,F=b.scrollHeight,$=window.getComputedStyle(f),L=parseInt($.borderTopWidth,10),B=parseInt($.paddingTop,10),Z=parseInt($.borderBottomWidth,10),z=parseInt($.paddingBottom,10),te=L+B+F+z+Z,re=Math.min(x.offsetHeight*5,te),V=window.getComputedStyle(b),X=parseInt(V.paddingTop,10),le=parseInt(V.paddingBottom,10),ce=P.top+P.height/2-yi,Se=q-ce,xe=x.offsetHeight/2,ye=x.offsetTop+xe,Ae=L+B+ye,G=te-Ae;if(Ae<=ce){const ee=D.length>0&&x===D[D.length-1].ref.current;u.style.bottom="0px";const W=f.clientHeight-b.offsetTop-b.offsetHeight,Y=Math.max(Se,xe+(ee?le:0)+W+Z),se=Ae+Y;u.style.height=se+"px"}else{const ee=D.length>0&&x===D[0].ref.current;u.style.top="0px";const Y=Math.max(ce,L+b.offsetTop+(ee?X:0)+xe)+G;u.style.height=Y+"px",b.scrollTop=Ae-ce+b.offsetTop}u.style.margin=`${yi}px 0`,u.style.minHeight=re+"px",u.style.maxHeight=q+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[g,s.trigger,s.valueNode,u,f,b,x,S,s.dir,n]);gn(()=>k(),[k]);const[E,_]=j.useState();gn(()=>{f&&_(window.getComputedStyle(f).zIndex)},[f]);const A=j.useCallback(P=>{P&&w.current===!0&&(k(),C==null||C(),w.current=!1)},[k,C]);return a.jsx(J7,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:v,onScrollButtonChange:A,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:a.jsx(It.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});yD.displayName=Y7;var X7="SelectPopperPosition",tw=j.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=yi,...s}=e,l=Dh(r);return a.jsx(Xq,{...l,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tw.displayName=X7;var[J7,lj]=ec(ro,{}),rw="SelectViewport",vD=j.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=ms(rw,r),l=lj(rw,r),u=jr(t,s.onViewportChange),d=j.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Rh.Slot,{scope:r,children:a.jsx(It.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:qt(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=l;if(g!=null&&g.current&&h){const v=Math.abs(d.current-p.scrollTop);if(v>0){const w=window.innerHeight-yi*2,b=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),S=Math.max(b,x);if(S<w){const C=S+v,k=Math.min(w,C),E=C-k;h.style.height=k+"px",h.style.bottom==="0px"&&(p.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});vD.displayName=rw;var xD="SelectGroup",[Q7,Z7]=ec(xD),e9=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=os();return a.jsx(Q7,{scope:r,id:i,children:a.jsx(It.div,{role:"group","aria-labelledby":i,...n,ref:t})})});e9.displayName=xD;var bD="SelectLabel",t9=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Z7(bD,r);return a.jsx(It.div,{id:i.id,...n,ref:t})});t9.displayName=bD;var jp="SelectItem",[r9,wD]=ec(jp),jD=j.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...l}=e,u=hs(jp,r),d=ms(jp,r),f=u.value===n,[p,h]=j.useState(s??""),[g,v]=j.useState(!1),w=jr(t,C=>{var k;return(k=d.itemRefCallback)==null?void 0:k.call(d,C,n,i)}),b=os(),x=j.useRef("touch"),S=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(r9,{scope:r,value:n,disabled:i,textId:b,isSelected:f,onItemTextChange:j.useCallback(C=>{h(k=>k||((C==null?void 0:C.textContent)??"").trim())},[]),children:a.jsx(Rh.ItemSlot,{scope:r,value:n,disabled:i,textValue:p,children:a.jsx(It.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:w,onFocus:qt(l.onFocus,()=>v(!0)),onBlur:qt(l.onBlur,()=>v(!1)),onClick:qt(l.onClick,()=>{x.current!=="mouse"&&S()}),onPointerUp:qt(l.onPointerUp,()=>{x.current==="mouse"&&S()}),onPointerDown:qt(l.onPointerDown,C=>{x.current=C.pointerType}),onPointerMove:qt(l.onPointerMove,C=>{var k;x.current=C.pointerType,i?(k=d.onItemLeave)==null||k.call(d):x.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qt(l.onPointerLeave,C=>{var k;C.currentTarget===document.activeElement&&((k=d.onItemLeave)==null||k.call(d))}),onKeyDown:qt(l.onKeyDown,C=>{var E;((E=d.searchRef)==null?void 0:E.current)!==""&&C.key===" "||(z7.includes(C.key)&&S(),C.key===" "&&C.preventDefault())})})})})});jD.displayName=jp;var iu="SelectItemText",_D=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,l=hs(iu,r),u=ms(iu,r),d=wD(iu,r),f=H7(iu,r),[p,h]=j.useState(null),g=jr(t,S=>h(S),d.onItemTextChange,S=>{var C;return(C=u.itemTextRefCallback)==null?void 0:C.call(u,S,d.value,d.disabled)}),v=p==null?void 0:p.textContent,w=j.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:b,onNativeOptionRemove:x}=f;return gn(()=>(b(w),()=>x(w)),[b,x,w]),a.jsxs(a.Fragment,{children:[a.jsx(It.span,{id:d.textId,...s,ref:g}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?dd.createPortal(s.children,l.valueNode):null]})});_D.displayName=iu;var SD="SelectItemIndicator",kD=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return wD(SD,r).isSelected?a.jsx(It.span,{"aria-hidden":!0,...n,ref:t}):null});kD.displayName=SD;var nw="SelectScrollUpButton",ND=j.forwardRef((e,t)=>{const r=ms(nw,e.__scopeSelect),n=lj(nw,e.__scopeSelect),[i,s]=j.useState(!1),l=jr(t,n.onScrollButtonChange);return gn(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;s(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(PD,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});ND.displayName=nw;var iw="SelectScrollDownButton",CD=j.forwardRef((e,t)=>{const r=ms(iw,e.__scopeSelect),n=lj(iw,e.__scopeSelect),[i,s]=j.useState(!1),l=jr(t,n.onScrollButtonChange);return gn(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<f;s(p)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(PD,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});CD.displayName=iw;var PD=j.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=ms("SelectScrollButton",r),l=j.useRef(null),u=Mh(r),d=j.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return j.useEffect(()=>()=>d(),[d]),gn(()=>{var p;const f=u().find(h=>h.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),a.jsx(It.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:qt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:qt(i.onPointerMove,()=>{var f;(f=s.onItemLeave)==null||f.call(s),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:qt(i.onPointerLeave,()=>{d()})})}),n9="SelectSeparator",i9=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(It.div,{"aria-hidden":!0,...n,ref:t})});i9.displayName=n9;var aw="SelectArrow",a9=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Dh(r),s=hs(aw,r),l=ms(aw,r);return s.open&&l.position==="popper"?a.jsx(Jq,{...i,...n,ref:t}):null});a9.displayName=aw;function ED(e){return e===""||e===void 0}var AD=j.forwardRef((e,t)=>{const{value:r,...n}=e,i=j.useRef(null),s=jr(t,i),l=sj(r);return j.useEffect(()=>{const u=i.current,d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==r&&p){const h=new Event("change",{bubbles:!0});p.call(u,r),u.dispatchEvent(h)}},[l,r]),a.jsx(JM,{asChild:!0,children:a.jsx("select",{...n,ref:s,defaultValue:r})})});AD.displayName="BubbleSelect";function OD(e){const t=Vi(e),r=j.useRef(""),n=j.useRef(0),i=j.useCallback(l=>{const u=r.current+l;t(u),(function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),s=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function TD(e,t,r){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let l=s9(e,Math.max(s,0));i.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function s9(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var o9=oD,l9=cD,c9=dD,u9=fD,d9=pD,f9=hD,p9=vD,h9=jD,m9=_D,g9=kD,y9=ND,v9=CD;function Ft({...e}){return a.jsx(o9,{"data-slot":"select",...e})}function Bt({...e}){return a.jsx(c9,{"data-slot":"select-value",...e})}function zt({className:e,size:t="default",children:r,...n}){return a.jsxs(l9,{"data-slot":"select-trigger","data-size":t,className:Yt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,a.jsx(u9,{asChild:!0,children:a.jsx(Nh,{className:"size-4 opacity-50"})})]})}function Ut({className:e,children:t,position:r="popper",...n}){return a.jsx(d9,{children:a.jsxs(f9,{"data-slot":"select-content",className:Yt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(x9,{}),a.jsx(p9,{className:Yt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(b9,{})]})})}function Ie({className:e,children:t,...r}){return a.jsxs(h9,{"data-slot":"select-item",className:Yt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(g9,{children:a.jsx(eM,{className:"size-4"})})}),a.jsx(m9,{children:t})]})}function x9({className:e,...t}){return a.jsx(y9,{"data-slot":"select-scroll-up-button",className:Yt("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(aB,{className:"size-4"})})}function b9({className:e,...t}){return a.jsx(v9,{"data-slot":"select-scroll-down-button",className:Yt("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Nh,{className:"size-4"})})}function w9(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const j9=e=>{switch(e){case"success":return k9;case"info":return C9;case"warning":return N9;case"error":return P9;default:return null}},_9=Array(12).fill(0),S9=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},_9.map((r,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),k9=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),N9=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),C9=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),P9=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),E9=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),A9=()=>{const[e,t]=H.useState(document.hidden);return H.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let sw=1;class O9{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:sw++,l=this.toasts.find(d=>d.id===s),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),l?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...t,id:s,title:n}),{...d,...t,id:s,dismissible:u,title:n}):d):this.addToast({title:n,...i,dismissible:u,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,l;const u=i.then(async f=>{if(l=["resolve",f],H.isValidElement(f))s=!1,this.create({id:n,type:"default",message:f});else if(R9(f)&&!f.ok){s=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,w=typeof h=="object"&&!H.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,...w})}else if(f instanceof Error){s=!1;const h=typeof r.error=="function"?await r.error(f):r.error,g=typeof r.description=="function"?await r.description(f):r.description,w=typeof h=="object"&&!H.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,...w})}else if(r.success!==void 0){s=!1;const h=typeof r.success=="function"?await r.success(f):r.success,g=typeof r.description=="function"?await r.description(f):r.description,w=typeof h=="object"&&!H.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:g,...w})}}).catch(async f=>{if(l=["reject",f],r.error!==void 0){s=!1;const p=typeof r.error=="function"?await r.error(f):r.error,h=typeof r.description=="function"?await r.description(f):r.description,v=typeof p=="object"&&!H.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:h,...v})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,p)=>u.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||sw++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const kn=new O9,T9=(e,t)=>{const r=(t==null?void 0:t.id)||sw++;return kn.addToast({title:e,...t,id:r}),r},R9=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",M9=T9,D9=()=>kn.toasts,I9=()=>kn.getActiveToasts(),ie=Object.assign(M9,{success:kn.success,info:kn.info,warning:kn.warning,error:kn.error,custom:kn.custom,message:kn.message,promise:kn.promise,dismiss:kn.dismiss,loading:kn.loading},{getHistory:D9,getToasts:I9});w9("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Kf(e){return e.label!==void 0}const $9=3,L9="24px",F9="16px",jN=4e3,B9=356,z9=14,U9=45,q9=200;function Di(...e){return e.filter(Boolean).join(" ")}function W9(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const H9=e=>{var t,r,n,i,s,l,u,d,f;const{invert:p,toast:h,unstyled:g,interacting:v,setHeights:w,visibleToasts:b,heights:x,index:S,toasts:C,expanded:k,removeToast:E,defaultRichColors:_,closeButton:A,style:P,cancelButtonStyle:T,actionButtonStyle:M,className:R="",descriptionClassName:D="",duration:q,position:F,gap:$,expandByDefault:L,classNames:B,icons:Z,closeButtonAriaLabel:z="Close toast"}=e,[te,re]=H.useState(null),[V,X]=H.useState(null),[le,ce]=H.useState(!1),[Se,xe]=H.useState(!1),[ye,Ae]=H.useState(!1),[G,ue]=H.useState(!1),[ee,W]=H.useState(!1),[Y,se]=H.useState(0),[me,we]=H.useState(0),ve=H.useRef(h.duration||q||jN),K=H.useRef(null),je=H.useRef(null),Q=S===0,ke=S+1<=b,Oe=h.type,$e=h.dismissible!==!1,Fe=h.className||"",ct=h.descriptionClassName||"",ut=H.useMemo(()=>x.findIndex(Te=>Te.toastId===h.id)||0,[x,h.id]),_t=H.useMemo(()=>{var Te;return(Te=h.closeButton)!=null?Te:A},[h.closeButton,A]),mt=H.useMemo(()=>h.duration||q||jN,[h.duration,q]),Ge=H.useRef(0),it=H.useRef(0),wt=H.useRef(0),Pt=H.useRef(null),[dt,sr]=F.split("-"),Kt=H.useMemo(()=>x.reduce((Te,He,Xe)=>Xe>=ut?Te:Te+He.height,0),[x,ut]),Wt=A9(),Tt=h.invert||p,dr=Oe==="loading";it.current=H.useMemo(()=>ut*$+Kt,[ut,Kt]),H.useEffect(()=>{ve.current=mt},[mt]),H.useEffect(()=>{ce(!0)},[]),H.useEffect(()=>{const Te=je.current;if(Te){const He=Te.getBoundingClientRect().height;return we(He),w(Xe=>[{toastId:h.id,height:He,position:h.position},...Xe]),()=>w(Xe=>Xe.filter(Et=>Et.toastId!==h.id))}},[w,h.id]),H.useLayoutEffect(()=>{if(!le)return;const Te=je.current,He=Te.style.height;Te.style.height="auto";const Xe=Te.getBoundingClientRect().height;Te.style.height=He,we(Xe),w(Et=>Et.find(Ct=>Ct.toastId===h.id)?Et.map(Ct=>Ct.toastId===h.id?{...Ct,height:Xe}:Ct):[{toastId:h.id,height:Xe,position:h.position},...Et])},[le,h.title,h.description,w,h.id]);const he=H.useCallback(()=>{xe(!0),se(it.current),w(Te=>Te.filter(He=>He.toastId!==h.id)),setTimeout(()=>{E(h)},q9)},[h,E,w,it]);H.useEffect(()=>{if(h.promise&&Oe==="loading"||h.duration===1/0||h.type==="loading")return;let Te;return k||v||Wt?(()=>{if(wt.current<Ge.current){const Et=new Date().getTime()-Ge.current;ve.current=ve.current-Et}wt.current=new Date().getTime()})():(()=>{ve.current!==1/0&&(Ge.current=new Date().getTime(),Te=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),he()},ve.current))})(),()=>clearTimeout(Te)},[k,v,h,Oe,Wt,he]),H.useEffect(()=>{h.delete&&he()},[he,h.delete]);function Be(){var Te;if(Z!=null&&Z.loading){var He;return H.createElement("div",{className:Di(B==null?void 0:B.loader,h==null||(He=h.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":Oe==="loading"},Z.loading)}return H.createElement(S9,{className:Di(B==null?void 0:B.loader,h==null||(Te=h.classNames)==null?void 0:Te.loader),visible:Oe==="loading"})}const Ye=h.icon||(Z==null?void 0:Z[Oe])||j9(Oe);var de,qe;return H.createElement("li",{tabIndex:0,ref:je,className:Di(R,Fe,B==null?void 0:B.toast,h==null||(t=h.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[Oe],h==null||(r=h.classNames)==null?void 0:r[Oe]),"data-sonner-toast":"","data-rich-colors":(de=h.richColors)!=null?de:_,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":le,"data-promise":!!h.promise,"data-swiped":ee,"data-removed":Se,"data-visible":ke,"data-y-position":dt,"data-x-position":sr,"data-index":S,"data-front":Q,"data-swiping":ye,"data-dismissible":$e,"data-type":Oe,"data-invert":Tt,"data-swipe-out":G,"data-swipe-direction":V,"data-expanded":!!(k||L&&le),style:{"--index":S,"--toasts-before":S,"--z-index":C.length-S,"--offset":`${Se?Y:it.current}px`,"--initial-height":L?"auto":`${me}px`,...P,...h.style},onDragEnd:()=>{Ae(!1),re(null),Pt.current=null},onPointerDown:Te=>{dr||!$e||(K.current=new Date,se(it.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(Ae(!0),Pt.current={x:Te.clientX,y:Te.clientY}))},onPointerUp:()=>{var Te,He,Xe;if(G||!$e)return;Pt.current=null;const Et=Number(((Te=je.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ht=Number(((He=je.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ct=new Date().getTime()-((Xe=K.current)==null?void 0:Xe.getTime()),Ce=te==="x"?Et:Ht,Je=Math.abs(Ce)/Ct;if(Math.abs(Ce)>=U9||Je>.11){se(it.current),h.onDismiss==null||h.onDismiss.call(h,h),X(te==="x"?Et>0?"right":"left":Ht>0?"down":"up"),he(),ue(!0);return}else{var et,gt;(et=je.current)==null||et.style.setProperty("--swipe-amount-x","0px"),(gt=je.current)==null||gt.style.setProperty("--swipe-amount-y","0px")}W(!1),Ae(!1),re(null)},onPointerMove:Te=>{var He,Xe,Et;if(!Pt.current||!$e||((He=window.getSelection())==null?void 0:He.toString().length)>0)return;const Ct=Te.clientY-Pt.current.y,Ce=Te.clientX-Pt.current.x;var Je;const et=(Je=e.swipeDirections)!=null?Je:W9(F);!te&&(Math.abs(Ce)>1||Math.abs(Ct)>1)&&re(Math.abs(Ce)>Math.abs(Ct)?"x":"y");let gt={x:0,y:0};const Xt=ne=>1/(1.5+Math.abs(ne)/20);if(te==="y"){if(et.includes("top")||et.includes("bottom"))if(et.includes("top")&&Ct<0||et.includes("bottom")&&Ct>0)gt.y=Ct;else{const ne=Ct*Xt(Ct);gt.y=Math.abs(ne)<Math.abs(Ct)?ne:Ct}}else if(te==="x"&&(et.includes("left")||et.includes("right")))if(et.includes("left")&&Ce<0||et.includes("right")&&Ce>0)gt.x=Ce;else{const ne=Ce*Xt(Ce);gt.x=Math.abs(ne)<Math.abs(Ce)?ne:Ce}(Math.abs(gt.x)>0||Math.abs(gt.y)>0)&&W(!0),(Xe=je.current)==null||Xe.style.setProperty("--swipe-amount-x",`${gt.x}px`),(Et=je.current)==null||Et.style.setProperty("--swipe-amount-y",`${gt.y}px`)}},_t&&!h.jsx&&Oe!=="loading"?H.createElement("button",{"aria-label":z,"data-disabled":dr,"data-close-button":!0,onClick:dr||!$e?()=>{}:()=>{he(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Di(B==null?void 0:B.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(qe=Z==null?void 0:Z.close)!=null?qe:E9):null,(Oe||h.icon||h.promise)&&h.icon!==null&&((Z==null?void 0:Z[Oe])!==null||h.icon)?H.createElement("div",{"data-icon":"",className:Di(B==null?void 0:B.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Be():null,h.type!=="loading"?Ye:null):null,H.createElement("div",{"data-content":"",className:Di(B==null?void 0:B.content,h==null||(s=h.classNames)==null?void 0:s.content)},H.createElement("div",{"data-title":"",className:Di(B==null?void 0:B.title,h==null||(l=h.classNames)==null?void 0:l.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?H.createElement("div",{"data-description":"",className:Di(D,ct,B==null?void 0:B.description,h==null||(u=h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),H.isValidElement(h.cancel)?h.cancel:h.cancel&&Kf(h.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:Te=>{Kf(h.cancel)&&$e&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Te),he())},className:Di(B==null?void 0:B.cancelButton,h==null||(d=h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,H.isValidElement(h.action)?h.action:h.action&&Kf(h.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:Te=>{Kf(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Te),!Te.defaultPrevented&&he())},className:Di(B==null?void 0:B.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function _N(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function V9(e,t){const r={};return[e,t].forEach((n,i)=>{const s=i===1,l=s?"--mobile-offset":"--offset",u=s?F9:L9;function d(f){["top","right","bottom","left"].forEach(p=>{r[`${l}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${l}-${f}`]=u:r[`${l}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):d(u)}),r}const K9=H.forwardRef(function(t,r){const{invert:n,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:f,mobileOffset:p,theme:h="light",richColors:g,duration:v,style:w,visibleToasts:b=$9,toastOptions:x,dir:S=_N(),gap:C=z9,icons:k,containerAriaLabel:E="Notifications"}=t,[_,A]=H.useState([]),P=H.useMemo(()=>Array.from(new Set([i].concat(_.filter(V=>V.position).map(V=>V.position)))),[_,i]),[T,M]=H.useState([]),[R,D]=H.useState(!1),[q,F]=H.useState(!1),[$,L]=H.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=H.useRef(null),Z=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=H.useRef(null),te=H.useRef(!1),re=H.useCallback(V=>{A(X=>{var le;return(le=X.find(ce=>ce.id===V.id))!=null&&le.delete||kn.dismiss(V.id),X.filter(({id:ce})=>ce!==V.id)})},[]);return H.useEffect(()=>kn.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{A(X=>X.map(le=>le.id===V.id?{...le,delete:!0}:le))});return}setTimeout(()=>{_M.flushSync(()=>{A(X=>{const le=X.findIndex(ce=>ce.id===V.id);return le!==-1?[...X.slice(0,le),{...X[le],...V},...X.slice(le+1)]:[V,...X]})})})}),[_]),H.useEffect(()=>{if(h!=="system"){L(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:X})=>{L(X?"dark":"light")})}catch{V.addListener(({matches:le})=>{try{L(le?"dark":"light")}catch(ce){console.error(ce)}})}},[h]),H.useEffect(()=>{_.length<=1&&D(!1)},[_]),H.useEffect(()=>{const V=X=>{var le;if(s.every(xe=>X[xe]||X.code===xe)){var Se;D(!0),(Se=B.current)==null||Se.focus()}X.code==="Escape"&&(document.activeElement===B.current||(le=B.current)!=null&&le.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),H.useEffect(()=>{if(B.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,te.current=!1)}},[B.current]),H.createElement("section",{ref:r,"aria-label":`${E} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((V,X)=>{var le;const[ce,Se]=V.split("-");return _.length?H.createElement("ol",{key:V,dir:S==="auto"?_N():S,tabIndex:-1,ref:B,className:d,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":ce,"data-lifted":R&&_.length>1&&!l,"data-x-position":Se,style:{"--front-toast-height":`${((le=T[0])==null?void 0:le.height)||0}px`,"--width":`${B9}px`,"--gap":`${C}px`,...w,...V9(f,p)},onBlur:xe=>{te.current&&!xe.currentTarget.contains(xe.relatedTarget)&&(te.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||te.current||(te.current=!0,z.current=xe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{q||D(!1)},onDragEnd:()=>D(!1),onPointerDown:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},_.filter(xe=>!xe.position&&X===0||xe.position===V).map((xe,ye)=>{var Ae,G;return H.createElement(H9,{key:xe.id,icons:k,index:ye,toast:xe,defaultRichColors:g,duration:(Ae=x==null?void 0:x.duration)!=null?Ae:v,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:b,closeButton:(G=x==null?void 0:x.closeButton)!=null?G:u,interacting:q,position:V,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:re,toasts:_.filter(ue=>ue.position==xe.position),heights:T.filter(ue=>ue.position==xe.position),setHeights:M,expandByDefault:l,gap:C,expanded:R,swipeDirections:t.swipeDirections})})):null}))});function G9({isOpen:e,onClose:t,onPaymentRecorded:r,units:n}){var P,T,M;const[i,s]=j.useState("search"),[l,u]=j.useState(""),[d,f]=j.useState(null),[p,h]=j.useState(""),[g,v]=j.useState("Cash"),[w,b]=j.useState(""),[x,S]=j.useState(ss()),C=n.filter(R=>R.paymentTerms).filter(R=>{var D;return R.blockLot.toLowerCase().includes(l.toLowerCase())||((D=R.buyer)==null?void 0:D.name.toLowerCase().includes(l.toLowerCase()))}).slice(0,5),k=R=>{var D;f(R),h(((D=R.paymentTerms)==null?void 0:D.monthlyAmount.toString())||""),s("entry")},E=()=>{!d||!p||s("confirm")},_=async()=>{if(!(!d||!p))try{const R={id:`PAY-${Date.now()}`,unitId:d.id,amount:parseFloat(p),paymentDate:x,paymentMethod:g,referenceNumber:w||"N/A",notes:"",processedAt:new Date().toISOString()};await r(R),s("success"),setTimeout(()=>{A()},2e3)}catch(R){ie.error("Failed to record payment",{description:R instanceof Error?R.message:"Please try again."}),s("entry")}},A=()=>{s("search"),u(""),f(null),h(""),v("Cash"),b(""),S(ss()),t()};return e?a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"24px"},children:a.jsxs("div",{style:{background:"var(--neuron-bg-elevated)",borderRadius:"14px",width:"100%",maxWidth:"560px",maxHeight:"90vh",overflow:"hidden",boxShadow:"var(--elevation-2)",display:"flex",flexDirection:"column"},children:[a.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid var(--neuron-ui-border)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{padding:"10px",background:"var(--neuron-brand-green-100)",borderRadius:"8px"},children:a.jsx(Yr,{size:20,style:{color:"var(--neuron-brand-green)"}})}),a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:"var(--neuron-ink-primary)",lineHeight:"27px",letterSpacing:"-0.005em"},children:"Log Payment"}),a.jsxs("p",{style:{fontSize:"13px",color:"var(--neuron-ink-muted)",lineHeight:"18px",marginTop:"2px"},children:[i==="search"&&"Search for unit",i==="entry"&&"Enter payment details",i==="confirm"&&"Review and confirm",i==="success"&&"Payment logged successfully"]})]})]}),a.jsx("button",{onClick:A,style:{padding:"8px",background:"transparent",border:"none",cursor:"pointer",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 120ms ease-out"},onMouseOver:R=>R.currentTarget.style.background="var(--neuron-state-hover)",onMouseOut:R=>R.currentTarget.style.background="transparent",children:a.jsx(Xl,{size:20,style:{color:"var(--neuron-ink-muted)"}})})]}),a.jsx("div",{style:{padding:"16px 24px",background:"var(--neuron-bg-page)",borderBottom:"1px solid var(--neuron-ui-border)"},children:a.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:["search","entry","confirm","success"].map((R,D)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1},children:[a.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:i===R||["entry","confirm","success"].includes(i)&&D<["search","entry","confirm","success"].indexOf(i)+1?"var(--neuron-brand-green)":"var(--neuron-ui-border)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:i===R||["entry","confirm","success"].includes(i)&&D<["search","entry","confirm","success"].indexOf(i)+1?"white":"var(--neuron-ink-muted)",transition:"all 200ms ease-out"},children:D+1}),D<3&&a.jsx("div",{style:{flex:1,height:"2px",background:["entry","confirm","success"].includes(i)&&D<["search","entry","confirm","success"].indexOf(i)?"var(--neuron-brand-green)":"var(--neuron-ui-border)",marginLeft:"8px",transition:"all 200ms ease-out"}})]},R))})}),a.jsxs("div",{style:{padding:"24px",flex:1,overflowY:"auto"},children:[i==="search"&&a.jsxs("div",{children:[a.jsxs("div",{style:{position:"relative",marginBottom:"16px"},children:[a.jsx(si,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--neuron-ink-muted)",pointerEvents:"none"}}),a.jsx(Ke,{placeholder:"Search by unit number or buyer name...",value:l,onChange:R=>u(R.target.value),autoFocus:!0,style:{paddingLeft:"40px",border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px",fontSize:"15px"}})]}),l.length>0&&a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:C.length===0?a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",textAlign:"center",padding:"32px 16px",lineHeight:"21px"},children:"No units found"}):C.map(R=>{var D,q;return a.jsx("div",{onClick:()=>k(R),style:{padding:"16px",background:"var(--neuron-bg-page)",border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",cursor:"pointer",transition:"all 120ms ease-out"},onMouseOver:F=>{F.currentTarget.style.borderColor="var(--neuron-brand-green)",F.currentTarget.style.background="var(--neuron-state-selected)"},onMouseOut:F=>{F.currentTarget.style.borderColor="var(--neuron-ui-border)",F.currentTarget.style.background="var(--neuron-bg-page)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontWeight:600,color:"var(--neuron-ink-primary)",fontSize:"15px",lineHeight:"22.5px",marginBottom:"4px"},children:R.blockLot}),a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-secondary)",lineHeight:"21px"},children:(D=R.buyer)==null?void 0:D.name}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-muted)",lineHeight:"18px",marginTop:"4px"},children:R.project})]}),a.jsxs("div",{style:{textAlign:"right"},children:[a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",lineHeight:"18px",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.02em",marginBottom:"4px"},children:"Monthly Due"}),a.jsxs("p",{style:{fontWeight:600,color:"var(--neuron-brand-green)",fontSize:"15px",lineHeight:"22.5px",fontVariantNumeric:"tabular-nums"},children:["",(q=R.paymentTerms)==null?void 0:q.monthlyAmount.toLocaleString("en-PH")]})]})]})},R.id)})}),l.length===0&&a.jsxs("div",{style:{padding:"48px 24px",textAlign:"center"},children:[a.jsx(si,{size:48,style:{color:"var(--neuron-ink-muted)",opacity:.3,marginBottom:"16px"}}),a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:"Start typing to search for a unit"})]})]}),i==="entry"&&d&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsxs("div",{style:{padding:"16px",background:"var(--neuron-brand-green-100)",border:"1px solid var(--neuron-brand-green)",borderRadius:"8px"},children:[a.jsx("p",{style:{fontSize:"12px",fontWeight:600,color:"var(--neuron-brand-green)",textTransform:"uppercase",letterSpacing:"0.02em",lineHeight:"18px",marginBottom:"6px"},children:"Selected Unit"}),a.jsxs("p",{style:{fontWeight:600,color:"var(--neuron-ink-primary)",fontSize:"16px",lineHeight:"24px",marginBottom:"2px"},children:[d.blockLot,"  ",(P=d.buyer)==null?void 0:P.name]}),a.jsxs("p",{style:{fontSize:"13px",color:"var(--neuron-ink-muted)",lineHeight:"18px"},children:["Monthly Due: ",(T=d.paymentTerms)==null?void 0:T.monthlyAmount.toLocaleString("en-PH")]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:"Amount Received *"}),a.jsx(Ke,{type:"number",value:p,onChange:R=>h(R.target.value),placeholder:"0.00",style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px",fontSize:"15px",fontVariantNumeric:"tabular-nums"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:"Payment Date *"}),a.jsx(Ke,{type:"date",value:x,onChange:R=>S(R.target.value),style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px",fontSize:"15px"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:"Payment Method *"}),a.jsxs(Ft,{value:g,onValueChange:v,children:[a.jsx(zt,{style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px"},children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"Cash",children:"Cash"}),a.jsx(Ie,{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx(Ie,{value:"Check",children:"Check"}),a.jsx(Ie,{value:"GCash",children:"GCash"}),a.jsx(Ie,{value:"PayMaya",children:"PayMaya"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:["Reference Number ",a.jsx("span",{style:{color:"var(--neuron-ink-muted)"},children:"(Optional)"})]}),a.jsx(Ke,{value:w,onChange:R=>b(R.target.value),placeholder:"Transaction ID, Check #, etc.",style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px",fontSize:"15px"}})]})]}),i==="confirm"&&d&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsxs("div",{style:{padding:"20px",background:"var(--neuron-bg-page)",border:"1px solid var(--neuron-ui-border)",borderRadius:"8px"},children:[a.jsx("p",{style:{fontSize:"12px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.02em",lineHeight:"18px",marginBottom:"16px"},children:"Review Payment Details"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:"Unit"}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"21px"},children:d.blockLot})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:"Buyer"}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"21px"},children:(M=d.buyer)==null?void 0:M.name})]}),a.jsx("div",{style:{height:"1px",background:"var(--neuron-ui-divider)",margin:"4px 0"}}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:"Amount"}),a.jsxs("span",{style:{fontSize:"18px",fontWeight:600,color:"var(--neuron-brand-green)",lineHeight:"27px",letterSpacing:"-0.005em",fontVariantNumeric:"tabular-nums"},children:["",parseFloat(p).toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:"Date"}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"21px"},children:new Date(x).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:"Method"}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"21px"},children:g})]}),w&&a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:"Reference"}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"21px",fontVariantNumeric:"tabular-nums"},children:w})]})]})]}),a.jsx("div",{style:{padding:"16px",background:"#E8F2EE",border:"1px solid var(--neuron-brand-green)",borderRadius:"8px"},children:a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-secondary)",lineHeight:"18px"},children:"This payment will be recorded and the unit's payment timeline will be automatically updated."})})]}),i==="success"&&a.jsxs("div",{style:{padding:"48px 24px",textAlign:"center"},children:[a.jsx("div",{style:{width:"64px",height:"64px",background:"#E8F2EE",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px"},children:a.jsx(Ks,{size:32,style:{color:"var(--neuron-semantic-success)"}})}),a.jsx("h3",{style:{fontSize:"20px",fontWeight:600,color:"var(--neuron-ink-primary)",lineHeight:"30px",letterSpacing:"-0.005em",marginBottom:"8px"},children:"Payment Logged Successfully"}),a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:"Dashboard will update automatically"})]})]}),i!=="success"&&a.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid var(--neuron-ui-border)",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[i==="entry"&&a.jsx(Pe,{variant:"outline",onClick:()=>s("search"),style:{background:"transparent",color:"var(--neuron-ink-muted)",border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"40px",padding:"0 20px"},children:"Back"}),i==="confirm"&&a.jsx(Pe,{variant:"outline",onClick:()=>s("entry"),style:{background:"transparent",color:"var(--neuron-ink-muted)",border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"40px",padding:"0 20px"},children:"Back"}),i==="entry"&&a.jsx(Pe,{onClick:E,disabled:!p||parseFloat(p)<=0,style:{background:!p||parseFloat(p)<=0?"var(--neuron-ink-muted)":"var(--neuron-brand-green)",color:"white",border:"none",borderRadius:"8px",height:"40px",padding:"0 20px",cursor:!p||parseFloat(p)<=0?"not-allowed":"pointer",opacity:!p||parseFloat(p)<=0?.5:1},children:"Continue"}),i==="confirm"&&a.jsx(Pe,{onClick:_,style:{background:"var(--neuron-brand-green)",color:"white",border:"none",borderRadius:"8px",height:"40px",padding:"0 20px"},children:"Confirm Payment"})]})]})}):null}function yn(e,t){console.error("Client error (Sentry disabled)",e,t??{})}function RD(e,t=!0){const[r,n]=j.useState([]),[i,s]=j.useState(!0),[l,u]=j.useState(null),d=async()=>{if(!e){n([]),s(!1);return}try{s(!0);const{data:f,error:p}=await pe.from("customers").select("id, full_name, phone, email").eq("organization_id",e).order("full_name",{ascending:!0});if(p)throw p;n(f??[])}catch(f){yn(f,{source:"useCustomers.fetchCustomers",organizationId:e}),u(f)}finally{s(!1)}};return j.useEffect(()=>{if(!t){s(!1);return}d();const f=pe.channel("customers_changes").on("postgres_changes",{event:"*",schema:"public",table:"customers"},d).subscribe();return()=>{f.unsubscribe()}},[t,e]),{customers:r,loading:i,error:l,refetch:d}}function cj({isOpen:e,onClose:t,organizationId:r,customerLabel:n,initialValues:i,onSaved:s}){const[l,u]=j.useState(""),[d,f]=j.useState(""),[p,h]=j.useState(""),[g,v]=j.useState(!1);if(j.useEffect(()=>{e&&(u((i==null?void 0:i.full_name)??""),f((i==null?void 0:i.phone)??""),h((i==null?void 0:i.email)??""))},[e,i]),!e)return null;const w=!!(i!=null&&i.id),b=!l.trim()||g,x=async()=>{if(!r){ie.error("Organization not found. Please sign in again.");return}if(!l.trim()){ie.error(`${n} name is required.`);return}v(!0);try{if(w&&(i!=null&&i.id)){const{data:S,error:C}=await pe.from("customers").update({full_name:l.trim(),phone:d.trim()||null,email:p.trim()||null}).eq("id",i.id).select("id, full_name, phone, email").single();if(C)throw C;ie.success(`${n} updated.`),s==null||s({id:(S==null?void 0:S.id)??i.id,full_name:(S==null?void 0:S.full_name)??l.trim(),phone:(S==null?void 0:S.phone)??(d.trim()||null),email:(S==null?void 0:S.email)??(p.trim()||null)})}else{const{data:S,error:C}=await pe.from("customers").insert({organization_id:r,full_name:l.trim(),phone:d.trim()||null,email:p.trim()||null}).select("id, full_name, phone, email").single();if(C)throw C;ie.success(`${n} created.`),s==null||s({id:S==null?void 0:S.id,full_name:(S==null?void 0:S.full_name)??l.trim(),phone:(S==null?void 0:S.phone)??(d.trim()||null),email:(S==null?void 0:S.email)??(p.trim()||null)})}t()}catch(S){ie.error(`Failed to save ${n.toLowerCase()}`,{description:S instanceof Error?S.message:"Please try again."})}finally{v(!1)}};return a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"24px"},children:a.jsxs("div",{style:{background:"var(--neuron-bg-elevated)",borderRadius:"14px",width:"100%",maxWidth:"480px",boxShadow:"var(--elevation-2)"},children:[a.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid var(--neuron-ui-border)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{padding:"10px",background:"var(--neuron-brand-green-100)",borderRadius:"8px"},children:a.jsx(xl,{size:18,style:{color:"var(--neuron-brand-green)"}})}),a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"16px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:w?`Edit ${n}`:`Add ${n}`}),a.jsxs("p",{style:{fontSize:"13px",color:"var(--neuron-ink-muted)"},children:["Update contact details for this ",n.toLowerCase()]})]})]}),a.jsx("button",{onClick:t,style:{padding:"6px",background:"transparent",border:"none",cursor:"pointer",borderRadius:"6px"},children:a.jsx(Xl,{size:18,style:{color:"var(--neuron-ink-muted)"}})})]}),a.jsxs("div",{style:{padding:"24px",display:"flex",flexDirection:"column",gap:"16px"},children:[a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,marginBottom:"6px"},children:[n," Name *"]}),a.jsx(Ke,{value:l,onChange:S=>u(S.target.value),placeholder:`Enter ${n.toLowerCase()} name`})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,marginBottom:"6px"},children:"Phone"}),a.jsx(Ke,{value:d,onChange:S=>f(S.target.value),placeholder:"Optional phone number"})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,marginBottom:"6px"},children:"Email"}),a.jsx(Ke,{value:p,onChange:S=>h(S.target.value),placeholder:"Optional email address"})]})]}),a.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid var(--neuron-ui-border)",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[a.jsx(Pe,{variant:"outline",onClick:t,disabled:g,children:"Cancel"}),a.jsx(Pe,{onClick:x,disabled:b,style:{background:"var(--neuron-brand-green)",color:"#fff"},children:g?"Saving...":w?"Save Changes":`Add ${n}`})]})]})})}function MD({isOpen:e,onClose:t,onUnitAdded:r,selectedProject:n,projects:i,organizationId:s,unitLabel:l,customerLabel:u="Customer",subscriptionPlan:d,unitCount:f}){const[p,h]=j.useState("entry"),[g,v]=j.useState(n),[w,b]=j.useState(""),[x,S]=j.useState(""),[C,k]=j.useState(""),[E,_]=j.useState(null),[A,P]=j.useState(""),[T,M]=j.useState(""),[R,D]=j.useState(""),[q,F]=j.useState(""),[$,L]=j.useState(new Date().toISOString().split("T")[0]),[B,Z]=j.useState([]),[z,te]=j.useState({}),[re,V]=j.useState("available"),[X,le]=j.useState([]),[ce,Se]=j.useState("available"),[xe,ye]=j.useState(null),[Ae,G]=j.useState(!1),[ue,ee]=j.useState(!1),[W,Y]=j.useState(!1),{customers:se}=RD(s,!!s),me=x==="occupied",we=(de,qe,Te)=>{if(!qe.length)return de?Te:"available";const He=qe.find(Et=>Et.status_key==="available"),Xe=qe.find(Et=>Et.status_key==="in_payment_cycle");return de?(Xe==null?void 0:Xe.status_key)??Te:(He==null?void 0:He.status_key)??Te},ve=j.useMemo(()=>{const de=new Map;return B.forEach(qe=>{de.set(qe.field_key,qe)}),de},[B]),K=ve.get("total_amount")??ve.get("selling_price")??null,je=ve.get("downpayment")??null,Q=ve.get("monthly_amount")??null,ke=ve.get("total_months")??null,Oe=ve.get("payment_start_date")??null,$e=j.useMemo(()=>new Set([K==null?void 0:K.id,je==null?void 0:je.id,Q==null?void 0:Q.id,ke==null?void 0:ke.id,Oe==null?void 0:Oe.id].filter(Boolean)),[K,je,Q,ke,Oe]),Fe=j.useMemo(()=>B.filter(de=>!$e.has(de.id)),[B,$e]);j.useEffect(()=>{var qe;if(!e||!s)return;v(n==="All Projects"?((qe=i[0])==null?void 0:qe.name)??"All Projects":n),(async()=>{const{data:Te,error:He}=await pe.from("entity_fields").select("id,field_key,label,data_type,is_required,options").eq("organization_id",s).eq("entity_type","unit").eq("is_active",!0).order("order_index",{ascending:!0});He?(ie.error("Failed to load custom fields",{description:He.message}),Z([])):Z(Te??[]);const{data:Xe,error:Et}=await pe.from("entity_statuses").select("status_key,label,order_index,is_active").eq("organization_id",s).eq("entity_type","unit").order("order_index",{ascending:!0});if(Et){ie.error("Failed to load statuses",{description:Et.message}),V("available");return}const Ht=Xe??[];le(Ht);const Ct=Ht.find(Je=>Je.is_active!==!1),Ce=(Ct==null?void 0:Ct.status_key)??"available";Se(Ce),V(we(me,Ht,Ce))})()},[e,s,i,n,me]),j.useEffect(()=>{X.length&&V(we(me,X,ce))},[me,X,ce]);const ct=j.useMemo(()=>Fe.filter(de=>de.is_required),[Fe]),ut=j.useMemo(()=>{const de=C.trim().toLowerCase();return de?se.filter(qe=>{const Te=qe.full_name.toLowerCase(),He=qe.phone??"",Xe=qe.email??"";return Te.includes(de)||He.includes(de)||Xe.toLowerCase().includes(de)}):[]},[C,se]),_t=de=>{S(de),de==="available"&&(k(""),_(null),D(""),F(""),P(""),M(""),ee(!1))},mt=async()=>{if(!w.trim())return;if(!s){ie.error("Organization not found. Please sign in again.");return}if(g==="All Projects"){ie.error("Select a project before adding a unit.");return}const de=d.limits.units;if(de!==null&&f>=de){ie.error(`${l} limit reached.`,{description:`Your ${d.label} plan allows ${de} ${l.toLowerCase()}s.`});return}const qe=ct.find(He=>{var Xe;return!((Xe=z[He.id])!=null&&Xe.trim())});if(qe){ie.error(`Please fill in ${qe.label}.`);return}const Te=i.find(He=>He.name===g);if(!Te){ie.error("Selected project not found.");return}G(!0);try{let He=null;if(E)He=E;else if(C.trim()){const{data:ze,error:ht}=await pe.from("customers").select("id").eq("organization_id",s).ilike("full_name",C.trim()).limit(1);if(ht)throw ht;if(ze&&ze.length>0)He=ze[0].id;else{const{data:U,error:_e}=await pe.from("customers").insert({organization_id:s,full_name:C.trim(),phone:null}).select("id").single();if(_e)throw _e;He=(U==null?void 0:U.id)??null}}const Xe=parseFloat(A),Et=parseFloat(T),Ht=parseFloat(R),Ct=parseInt(q,10),Ce=Number.isNaN(Xe)?null:Xe,Je=Number.isNaN(Et)?null:Et,et=Ce!==null?Math.max(Ce-(Je??0),0):null,gt=Number.isNaN(Ht)?et!==null&&!Number.isNaN(Ct)&&Ct>0?Number((et/Ct).toFixed(2)):NaN:Ht,Xt=me&&Number.isFinite(gt)&&!Number.isNaN(Ct)&&Ct>0,{data:ne,error:tt}=await pe.from("units").insert({organization_id:s,project_id:Te.id,customer_id:me?He:null,block_lot:w.trim(),unit_type:null,phase:null,selling_price:Ce,total_amount:Ce,downpayment:Je,balance:et,monthly_amount:Number.isFinite(gt)?gt:null,total_months:Number.isNaN(Ct)?null:Ct,months_paid:0,payment_start_date:Xt?$:null,next_due_date:Xt?$:null,status:re||"available",notes:[`${l} added via Add ${l} flow`]}).select("id").single();if(tt)throw tt;if(ne&&Xt){const ze=new Date($),ht=Array.from({length:Ct},(_e,yt)=>{const St=new Date(ze);St.setMonth(St.getMonth()+yt);const Me=St.toISOString().split("T")[0],tr=St.toLocaleString("en-US",{month:"short",year:"numeric"});return{organization_id:s,unit_id:ne.id,month_number:yt+1,month_name:tr,due_date:Me,amount:gt,status:"unpaid"}}),{error:U}=await pe.from("payment_schedules").insert(ht);if(U)throw U}if(ne&&B.length>0){const ze=[];K&&ze.push({field:K,raw:A}),je&&ze.push({field:je,raw:T}),Q&&ze.push({field:Q,raw:R}),ke&&ze.push({field:ke,raw:q}),Oe&&ze.push({field:Oe,raw:$});const ht=[...Fe.map(U=>{const _e=z[U.id];if(_e===void 0||_e==="")return null;let yt=_e;if(U.data_type==="number"){const St=Number(_e);yt=Number.isNaN(St)?_e:St}return{organization_id:s,entity_type:"unit",entity_id:ne.id,field_id:U.id,value:yt}}),...ze.map(({field:U,raw:_e})=>{if(_e===void 0||_e==="")return null;let yt=_e;if(U.data_type==="number"){const St=Number(_e);yt=Number.isNaN(St)?_e:St}return{organization_id:s,entity_type:"unit",entity_id:ne.id,field_id:U.id,value:yt}})].filter(Boolean);if(ht.length>0){const{error:U}=await pe.from("entity_values").insert(ht);if(U)throw U}}ye({unitCode:w.trim(),customerName:me?C.trim():"Unassigned",recurringAmount:Number.isFinite(gt)?gt:null}),h("success"),ie.success(`${l} created successfully.`)}catch(He){ie.error(`Failed to add ${l.toLowerCase()}`,{description:He instanceof Error?He.message:"Please try again."})}finally{G(!1)}},Ge=()=>{it()},it=()=>{p==="success"&&r(),h("entry"),b(""),S(""),k(""),_(null),P(""),M(""),D(""),F(""),L(new Date().toISOString().split("T")[0]),te({}),ye(null),G(!1),t()};if(!e)return null;const wt=(()=>{if(!s)return"Organization missing. Please sign in again.";if(!i.length)return"No projects found. Create a project first.";if(g==="All Projects")return"Select a project to continue.";if(!x)return"Select occupancy to continue.";if(!w.trim())return`${l} ID is required.`;if(me){if(K!=null&&K.is_required&&!A.trim())return`${K.label} is required.`;if(Q!=null&&Q.is_required&&!R.trim())return`${Q.label} is required.`;if(ke!=null&&ke.is_required&&!q.trim())return`${ke.label} is required.`;if(R.trim()&&!q.trim())return"Total periods are required for a schedule.";if(q.trim()&&!R.trim()&&!A.trim())return"Total contract value is required to auto-calculate a schedule."}const de=ct.find(qe=>{var Te;return!((Te=z[qe.id])!=null&&Te.trim())});return de?`${de.label} is required.`:null})(),dt=!!wt||Ae,sr=(K==null?void 0:K.label)??"Total Contract Value",Kt=(je==null?void 0:je.label)??"Downpayment",Wt=(Q==null?void 0:Q.label)??"Recurring Amount",Tt=(ke==null?void 0:ke.label)??"Total Periods (months)",dr=(Oe==null?void 0:Oe.label)??"First Due Date (optional)",he=me&&(!!K||!R.trim()&&q.trim().length>0),Be=me&&!!je,Ye=me&&!!R.trim()&&!!q.trim();return a.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"24px"},children:[a.jsxs("div",{style:{background:"var(--neuron-bg-elevated)",borderRadius:"14px",width:"100%",maxWidth:"520px",maxHeight:"90vh",overflow:"hidden",boxShadow:"var(--elevation-2)",display:"flex",flexDirection:"column"},children:[a.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid var(--neuron-ui-border)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{padding:"10px",background:"var(--neuron-brand-green-100)",borderRadius:"8px"},children:a.jsx(tM,{size:20,style:{color:"var(--neuron-brand-green)"}})}),a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:"var(--neuron-ink-primary)",lineHeight:"27px",letterSpacing:"-0.005em"},children:p==="entry"?`Add ${l}`:`${l} Added Successfully`}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-muted)",lineHeight:"18px",marginTop:"2px"},children:p==="entry"?`Adding ${l.toLowerCase()} to ${n==="All Projects"?"select a project":n}`:"Ready to track payments"})]})]}),a.jsx("button",{onClick:it,style:{padding:"8px",background:"transparent",border:"none",cursor:"pointer",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 120ms ease-out"},onMouseOver:de=>de.currentTarget.style.background="var(--neuron-state-hover)",onMouseOut:de=>de.currentTarget.style.background="transparent",children:a.jsx(Xl,{size:20,style:{color:"var(--neuron-ink-muted)"}})})]}),a.jsxs("div",{style:{padding:"24px",flex:1,overflowY:"auto"},children:[p==="entry"&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsx("div",{style:{padding:"14px 16px",background:"var(--neuron-bg-page)",border:"1px solid var(--neuron-ui-border)",borderRadius:"8px"},children:a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-secondary)",lineHeight:"18px"},children:"Capture the basics now. You can add more details later."})}),n==="All Projects"&&a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:"Project *"}),a.jsxs(Ft,{value:g,onValueChange:v,children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:"Select a project"})}),a.jsx(Ut,{children:i.map(de=>a.jsx(Ie,{value:de.name,children:de.name},de.id))})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:[l," ID *"]}),a.jsx(Ke,{value:w,onChange:de=>b(de.target.value),placeholder:`Enter ${l.toLowerCase()} ID`,autoFocus:!0,style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px",fontSize:"15px"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:"Occupancy *"}),a.jsxs(Ft,{value:x,onValueChange:de=>_t(de),children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:"Select occupancy"})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"available",children:"Available (unassigned)"}),a.jsx(Ie,{value:"occupied",children:"Occupied / Assigned"})]})]})]}),me&&a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[a.jsxs("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:["Primary ",u]}),a.jsxs(Pe,{type:"button",variant:"outline",onClick:()=>Y(!0),style:{height:"32px"},children:["+ Add new ",u.toLowerCase()]})]}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx(Ke,{value:C,onChange:de=>{k(de.target.value),_(null),ee(!0)},onFocus:()=>ee(!0),onBlur:()=>{setTimeout(()=>ee(!1),150)},placeholder:`Search ${u.toLowerCase()} name, phone, or email`,style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px",fontSize:"15px"}}),ue&&ut.length>0&&a.jsx("div",{style:{position:"absolute",top:"48px",left:0,right:0,background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",boxShadow:"var(--elevation-1)",zIndex:10,maxHeight:"200px",overflowY:"auto"},children:ut.map(de=>a.jsxs("button",{type:"button",onClick:()=>{k(de.full_name),_(de.id),ee(!1)},style:{width:"100%",textAlign:"left",padding:"10px 12px",border:"none",background:"transparent",cursor:"pointer",fontSize:"14px"},onMouseEnter:qe=>{qe.currentTarget.style.background="var(--neuron-state-hover)"},onMouseLeave:qe=>{qe.currentTarget.style.background="transparent"},children:[a.jsx("div",{style:{fontWeight:600,color:"var(--neuron-ink-primary)"},children:de.full_name}),a.jsx("div",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)"},children:de.phone??de.email??"No contact info"})]},de.id))})]})]}),he&&a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:sr}),a.jsx(Ke,{type:"number",value:A,onChange:de=>P(de.target.value),placeholder:"0.00",style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px",fontSize:"15px",fontVariantNumeric:"tabular-nums"}})]}),Be&&a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:Kt}),a.jsx(Ke,{type:"number",value:T,onChange:de=>M(de.target.value),placeholder:"0.00",style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px",fontSize:"15px",fontVariantNumeric:"tabular-nums"}})]}),me&&a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:Wt}),a.jsx(Ke,{type:"number",value:R,onChange:de=>D(de.target.value),placeholder:"0.00",style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px",fontSize:"15px",fontVariantNumeric:"tabular-nums"}})]}),me&&a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:Tt}),a.jsx(Ke,{type:"number",value:q,onChange:de=>F(de.target.value),placeholder:"Total months",style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px",fontSize:"15px",fontVariantNumeric:"tabular-nums"}})]}),Ye&&a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:dr}),a.jsx(Ke,{type:"date",value:$,onChange:de=>L(de.target.value),style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px",fontSize:"15px"}})]}),Fe.length>0&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[a.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:"Custom Details"}),Fe.map(de=>{if(de.data_type==="select"&&Array.isArray(de.options))return a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:de.label}),a.jsxs(Ft,{value:z[de.id]??"",onValueChange:Te=>te(He=>({...He,[de.id]:Te})),children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:`Select ${de.label.toLowerCase()}`})}),a.jsx(Ut,{children:de.options.map(Te=>a.jsx(Ie,{value:Te,children:Te},Te))})]})]},de.id);const qe=de.data_type==="number"?"number":de.data_type==="date"?"date":"text";return a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",marginBottom:"8px",lineHeight:"21px"},children:de.label}),a.jsx(Ke,{value:z[de.id]??"",onChange:Te=>te(He=>({...He,[de.id]:Te.target.value})),placeholder:de.label,type:qe,style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"44px",fontSize:"15px"}})]},de.id)})]})]}),p==="success"&&xe&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[a.jsxs("div",{style:{padding:"48px 24px 32px",textAlign:"center"},children:[a.jsx("div",{style:{width:"64px",height:"64px",background:"#E8F2EE",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px"},children:a.jsx(Ks,{size:32,style:{color:"var(--neuron-semantic-success)"}})}),a.jsxs("h3",{style:{fontSize:"20px",fontWeight:600,color:"var(--neuron-ink-primary)",lineHeight:"30px",letterSpacing:"-0.005em",marginBottom:"8px"},children:[l," added successfully"]}),a.jsxs("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px",marginBottom:"24px"},children:["This ",l.toLowerCase()," will now appear in dashboards and tracking."]}),a.jsx("div",{style:{padding:"16px",background:"var(--neuron-bg-page)",border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",textAlign:"left",marginTop:"24px"},children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:l}),a.jsx("span",{style:{fontSize:"15px",fontWeight:600,color:"var(--neuron-ink-primary)",lineHeight:"22.5px"},children:xe.unitCode})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:u}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"21px"},children:xe.customerName||"--"})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:"Recurring Amount"}),a.jsx("span",{style:{fontSize:"15px",fontWeight:600,color:"var(--neuron-brand-green)",lineHeight:"22.5px",fontVariantNumeric:"tabular-nums"},children:xe.recurringAmount===null?"--":`${xe.recurringAmount.toLocaleString("en-PH")}`})]})]})})]}),a.jsx("div",{style:{padding:"14px 16px",background:"var(--neuron-brand-green-100)",border:"1px solid var(--neuron-brand-green)",borderRadius:"8px"},children:a.jsxs("p",{style:{fontSize:"13px",color:"var(--neuron-ink-secondary)",lineHeight:"18px",textAlign:"center"},children:[a.jsx("strong",{children:"23 clicks"})," to log a payment and update reports"]})})]})]}),a.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid var(--neuron-ui-border)",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[p==="entry"&&a.jsxs(a.Fragment,{children:[a.jsx(Pe,{variant:"outline",onClick:it,style:{background:"transparent",color:"var(--neuron-ink-muted)",border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"40px",padding:"0 20px"},children:"Cancel"}),a.jsx(Pe,{onClick:mt,disabled:dt,style:{background:dt?"var(--neuron-ink-muted)":"var(--neuron-brand-green)",color:"white",border:"none",borderRadius:"8px",height:"40px",padding:"0 20px",cursor:dt?"not-allowed":"pointer",opacity:dt?.5:1},children:Ae?"Saving...":`Add ${l}`})]}),p==="entry"&&wt&&a.jsx("div",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",marginLeft:"auto"},children:wt}),p==="success"&&a.jsxs(a.Fragment,{children:[a.jsx(Pe,{variant:"outline",onClick:it,style:{background:"transparent",color:"var(--neuron-ink-muted)",border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"40px",padding:"0 20px"},children:"Done"}),a.jsx(Pe,{onClick:Ge,style:{background:"var(--neuron-brand-green)",color:"white",border:"none",borderRadius:"8px",height:"40px",padding:"0 20px"},children:"Log first payment"})]})]})]}),a.jsx(cj,{isOpen:W,onClose:()=>Y(!1),organizationId:s,customerLabel:u,initialValues:{full_name:C},onSaved:de=>{k(de.full_name),_(de.id??null)}})]})}const Y9={cash:"Cash",check:"Check",bank_transfer:"Bank Transfer",gcash:"GCash",paymaya:"PayMaya",credit_card:"Credit Card"},X9={completed:"Completed",pending:"Pending",failed:"Failed",refunded:"Refunded"};function Ih(e){const[t,r]=j.useState([]),[n,i]=j.useState(!0),[s,l]=j.useState(null),u=async()=>{try{i(!0);let f=pe.from("payments").select(`
          id,
          unit_id,
          payment_date,
          amount,
          payment_method,
          reference_number,
          status,
          notes,
          unit:units(block_lot, customer:customers(full_name)),
          recorded_by:users(full_name)
        `).order("payment_date",{ascending:!1});e&&(f=f.eq("unit_id",e));const{data:p,error:h}=await f;if(h)throw h;const g=p.map(v=>{var x,S,C,k;const w=v.payment_method?v.payment_method.toLowerCase().replace(/\s+/g,"_"):"",b=v.status?v.status.toLowerCase():"completed";return{id:v.id,date:new Date(v.payment_date),amount:v.amount,method:Y9[w]??"Cash",referenceNumber:v.reference_number||"N/A",processedBy:((x=v.recorded_by)==null?void 0:x.full_name)||"System",status:X9[b]??"Completed",unitId:v.unit_id,unitName:((S=v.unit)==null?void 0:S.block_lot)||"Unknown",customerName:((k=(C=v.unit)==null?void 0:C.customer)==null?void 0:k.full_name)||"Unknown",notes:v.notes||void 0}});r(g)}catch(f){yn(f,{source:"usePayments.fetchPayments",unitId:e}),l(f)}finally{i(!1)}};return j.useEffect(()=>{u();const f=pe.channel("payments_changes").on("postgres_changes",{event:"*",schema:"public",table:"payments"},u).subscribe();return()=>{f.unsubscribe()}},[e]),{payments:j.useMemo(()=>t,[t]),loading:n,error:s,refetch:u}}function J9({onViewUnit:e,onViewCollections:t,selectedProject:r,units:n,onUnitAdded:i,projects:s,organizationId:l,unitLabel:u,customerLabel:d,unitLabelPlural:f,statusOptions:p,onRefreshUnits:h}){const[g,v]=j.useState(!1),[w,b]=j.useState(!1),{payments:x}=Ih(),[S,C]=j.useState({movedToAtRisk:0,recovered:0,collected:0,newlyOverdue:0}),k=j.useMemo(()=>{const K=cd();return K.setHours(0,0,0,0),K},[]),E=j.useMemo(()=>{const K=new Date(k);return K.setDate(K.getDate()-1),K},[k]),_=j.useMemo(()=>x.filter(K=>K.date.toDateString()===k.toDateString()),[x,k]),A=j.useMemo(()=>x.filter(K=>K.date.toDateString()===E.toDateString()),[x,E]),P=_.length,T=_.reduce((K,je)=>K+je.amount,0),M=r==="All Projects"?n:n.filter(K=>K.project===r),R=K=>K.toLowerCase(),D=K=>R(K).includes("critical"),q=K=>R(K).includes("overdue")||R(K).includes("late"),F=K=>R(K).includes("risk"),$=K=>R(K).includes("paid")||R(K).includes("completed"),L=K=>R(K).includes("payment")||R(K).includes("active")||R(K).includes("rented"),B=M.length,Z=M.filter(K=>!R(K.status).includes("available")).length,z=M.filter(K=>L(K.status)).length,te=M.filter(K=>$(K.status)).length,re=M.filter(K=>q(K.status)).length,V=M.filter(K=>F(K.status)).length,X=M.filter(K=>D(K.status)).length,le=M.filter(K=>{var Q;return(Q=K.paymentTerms)!=null&&Q.nextDueDate?new Date(K.paymentTerms.nextDueDate).toDateString()===k.toDateString():!1}).length,ce=M.filter(K=>{var ke;if(!((ke=K.paymentTerms)!=null&&ke.nextDueDate))return!1;const je=new Date(K.paymentTerms.nextDueDate),Q=new Date(k.getTime()+10080*60*1e3);return je>=k&&je<=Q}).length,Se=M.filter(K=>{var je;return((je=K.paymentTerms)==null?void 0:je.daysLate)&&K.paymentTerms.daysLate>=15}).length,xe=M.filter(K=>{if(!K.moveInDate)return!1;const je=new Date(K.moveInDate),Q=new Date(k.getTime()+10080*60*1e3);return je>=k&&je<=Q}).length,ye=async K=>{var $e;const{data:je}=await pe.auth.getUser(),Q=ss(),ke=K.paymentMethod.toLowerCase().replace(/\s+/g,"_"),{error:Oe}=await pe.rpc("record_payment",{p_unit_id:K.unitId,p_amount:K.amount,p_payment_date:K.paymentDate,p_payment_method:ke,p_reference_number:K.referenceNumber,p_notes:K.notes,p_recorded_by:(($e=je==null?void 0:je.user)==null?void 0:$e.id)??null,p_as_of_date:Q});if(Oe)throw Oe;h==null||h()};j.useEffect(()=>{if(!l)return;(async()=>{const je=E.toISOString(),Q=k.toISOString(),{data:ke,error:Oe}=await pe.from("units").select("status, updated_at").eq("organization_id",l).gte("updated_at",je).lt("updated_at",Q);if(Oe)return;const $e=(ke??[]).filter(Ge=>F(Ge.status??"")).length,Fe=(ke??[]).filter(Ge=>$(Ge.status??"")||L(Ge.status??"")).length,{data:ct,error:ut}=await pe.from("payment_schedules").select("amount, updated_at").eq("organization_id",l).eq("status","overdue").gte("updated_at",je).lt("updated_at",Q);if(ut)return;const _t=(ct??[]).reduce((Ge,it)=>Ge+(it.amount??0),0),mt=A.reduce((Ge,it)=>Ge+it.amount,0);C({movedToAtRisk:$e,recovered:Fe,collected:mt,newlyOverdue:_t})})()},[l,A,k,E,F,$,L]);const Ae=M.reduce((K,je)=>{var Q;return K+(((Q=je.paymentTerms)==null?void 0:Q.arrears)||0)},0),G=M.filter(K=>F(K.status)||q(K.status)||D(K.status)).reduce((K,je)=>{var Q;return K+(((Q=je.paymentTerms)==null?void 0:Q.monthlyAmount)||0)},0),ue=Ae+G,ee=M.reduce((K,je)=>{var Oe;const ke=(((Oe=je.paymentTerms)==null?void 0:Oe.schedule)??[]).reduce(($e,Fe)=>{const ct=new Date(Fe.dueDate);return Number.isNaN(ct.getTime())?$e:ct.getMonth()===k.getMonth()&&ct.getFullYear()===k.getFullYear()?$e+Fe.amount:$e},0);return K+ke},0),W=x.reduce((K,je)=>je.date.getMonth()===k.getMonth()&&je.date.getFullYear()===k.getFullYear()?K+je.amount:K,0),Y=ee>0?W/ee*100:0,se=p.reduce((K,je)=>(K[je]=M.filter(Q=>Q.status===je).length,K),{}),me=M.filter(K=>D(K.status)||q(K.status)||F(K.status)).sort((K,je)=>{const Q=["critical","overdue","risk"],ke=Q.findIndex($e=>R(K.status).includes($e)),Oe=Q.findIndex($e=>R(je.status).includes($e));return(ke===-1?Q.length:ke)-(Oe===-1?Q.length:Oe)}).slice(0,5),we=K=>D(K)?"bg-red-50 border-red-300":q(K)?"bg-orange-50 border-orange-300":F(K)?"bg-amber-50 border-amber-300":$(K)?"border-green-200":L(K)?"border-blue-200":"border-gray-200",ve=K=>D(K)?"#C94F3D":q(K)||F(K)?"#C88A2B":$(K)?"var(--neuron-semantic-success)":L(K)?"var(--neuron-brand-green)":"var(--neuron-ink-secondary)";return a.jsxs("div",{style:{padding:"24px 32px",maxWidth:"1600px",margin:"0 auto"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"20px"},children:[a.jsx(Ne,{style:{padding:"18px 20px",background:"var(--neuron-bg-elevated)",border:"none",borderRadius:"var(--neuron-radius-l)",boxShadow:"var(--elevation-1)",transition:"box-shadow 200ms ease-out"},onMouseOver:K=>K.currentTarget.style.boxShadow="var(--elevation-2)",onMouseOut:K=>K.currentTarget.style.boxShadow="var(--elevation-1)",children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsxs("p",{style:{fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.04em",lineHeight:"16px",marginBottom:"10px"},children:["Total ",f]}),a.jsx("p",{style:{fontSize:"28px",fontWeight:700,color:"var(--neuron-ink-primary)",lineHeight:"34px",letterSpacing:"-0.02em",fontVariantNumeric:"tabular-nums"},children:B})]}),a.jsx("div",{style:{padding:"10px",background:"#F5F6F7",borderRadius:"var(--neuron-radius-s)"},children:a.jsx(X3,{size:20,style:{color:"var(--neuron-ink-secondary)"}})})]})}),a.jsx(Ne,{style:{padding:"18px 20px",background:"var(--neuron-bg-elevated)",border:"none",borderRadius:"var(--neuron-radius-l)",boxShadow:"var(--elevation-1)",transition:"box-shadow 200ms ease-out"},onMouseOver:K=>K.currentTarget.style.boxShadow="var(--elevation-2)",onMouseOut:K=>K.currentTarget.style.boxShadow="var(--elevation-1)",children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("p",{style:{fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.04em",lineHeight:"16px",marginBottom:"10px"},children:"Occupied"}),a.jsx("p",{style:{fontSize:"28px",fontWeight:700,color:"var(--neuron-brand-green)",lineHeight:"34px",letterSpacing:"-0.02em",fontVariantNumeric:"tabular-nums"},children:Z}),a.jsxs("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",marginTop:"4px",lineHeight:"16px"},children:[(Z/B*100).toFixed(1),"% occupancy"]})]}),a.jsx("div",{style:{padding:"10px",background:"var(--neuron-brand-green-50)",borderRadius:"var(--neuron-radius-s)"},children:a.jsx(Zs,{size:20,style:{color:"var(--neuron-brand-green)"}})})]})}),a.jsx(Ne,{style:{padding:"18px 20px",background:"var(--neuron-bg-elevated)",border:"none",borderRadius:"var(--neuron-radius-l)",boxShadow:"var(--elevation-1)",transition:"box-shadow 200ms ease-out"},onMouseOver:K=>K.currentTarget.style.boxShadow="var(--elevation-2)",onMouseOut:K=>K.currentTarget.style.boxShadow="var(--elevation-1)",children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("p",{style:{fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.04em",lineHeight:"16px",marginBottom:"10px"},children:"In Payment Cycle"}),a.jsx("p",{style:{fontSize:"28px",fontWeight:700,color:"var(--neuron-ink-primary)",lineHeight:"34px",letterSpacing:"-0.02em",fontVariantNumeric:"tabular-nums"},children:z})]}),a.jsx("div",{style:{padding:"10px",background:"#FEF3E0",borderRadius:"var(--neuron-radius-s)"},children:a.jsx(Si,{size:20,style:{color:"#F59E0B"}})})]})}),a.jsx(Ne,{style:{padding:"18px 20px",background:"var(--neuron-bg-elevated)",border:"none",borderRadius:"var(--neuron-radius-l)",boxShadow:"var(--elevation-1)",transition:"box-shadow 200ms ease-out"},onMouseOver:K=>K.currentTarget.style.boxShadow="var(--elevation-2)",onMouseOut:K=>K.currentTarget.style.boxShadow="var(--elevation-1)",children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("p",{style:{fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.04em",lineHeight:"16px",marginBottom:"10px"},children:"Fully Paid"}),a.jsx("p",{style:{fontSize:"28px",fontWeight:700,color:"var(--neuron-semantic-success)",lineHeight:"34px",letterSpacing:"-0.02em",fontVariantNumeric:"tabular-nums"},children:te})]}),a.jsx("div",{style:{padding:"10px",background:"var(--neuron-brand-green-50)",borderRadius:"var(--neuron-radius-s)"},children:a.jsx(zb,{size:20,style:{color:"var(--neuron-semantic-success)"}})})]})})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"20px"},children:[a.jsxs(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"none",borderRadius:"var(--neuron-radius-l)",boxShadow:"var(--elevation-1)",transition:"box-shadow 200ms ease-out"},onMouseOver:K=>K.currentTarget.style.boxShadow="var(--elevation-2)",onMouseOut:K=>K.currentTarget.style.boxShadow="var(--elevation-1)",children:[a.jsx("h2",{style:{fontSize:"15px",fontWeight:700,fontFamily:"Poppins, sans-serif",color:"var(--neuron-ink-primary)",marginBottom:"16px",lineHeight:"22px"},children:"Today's Action Items"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",background:"#FEF3E0",borderRadius:"var(--neuron-radius-s)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(as,{size:16,style:{color:"var(--neuron-semantic-warn)"}})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"20px"},children:"Payments Due Today"})]}),a.jsx("span",{style:{fontSize:"24px",fontWeight:700,color:"var(--neuron-semantic-warn)",lineHeight:"30px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:le})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",background:"var(--neuron-brand-green-50)",borderRadius:"var(--neuron-radius-s)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Pn,{size:16,style:{color:"var(--neuron-brand-green)"}})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"20px"},children:"Payments Due This Week"})]}),a.jsx("span",{style:{fontSize:"24px",fontWeight:700,color:"var(--neuron-ink-secondary)",lineHeight:"30px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:ce})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",background:"#FED7AA",borderRadius:"var(--neuron-radius-s)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(wu,{size:16,style:{color:"#EA580C"}})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"20px"},children:"Needs Follow-up"})]}),a.jsx("span",{style:{fontSize:"24px",fontWeight:700,color:"#EA580C",lineHeight:"30px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:Se})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",background:"var(--neuron-brand-green-50)",borderRadius:"var(--neuron-radius-s)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Pn,{size:16,style:{color:"var(--neuron-brand-green)"}})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"20px"},children:"Move-ins This Week"})]}),a.jsx("span",{style:{fontSize:"24px",fontWeight:700,color:"var(--neuron-ink-secondary)",lineHeight:"30px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:xe})]})]})]}),a.jsxs(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"none",borderRadius:"var(--neuron-radius-l)",boxShadow:"var(--elevation-1)",transition:"box-shadow 200ms ease-out"},onMouseOver:K=>K.currentTarget.style.boxShadow="var(--elevation-2)",onMouseOut:K=>K.currentTarget.style.boxShadow="var(--elevation-1)",children:[a.jsx("h2",{style:{fontSize:"15px",fontWeight:700,fontFamily:"Poppins, sans-serif",color:"var(--neuron-ink-primary)",marginBottom:"16px",lineHeight:"22px"},children:"Today's Payments"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",background:"var(--neuron-brand-green-50)",borderRadius:"var(--neuron-radius-s)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(yl,{size:16,style:{color:"var(--neuron-semantic-success)"}})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"20px"},children:"Payments Logged Today"})]}),a.jsx("span",{style:{fontSize:"24px",fontWeight:700,color:"var(--neuron-semantic-success)",lineHeight:"30px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:P})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",background:"var(--neuron-brand-green-50)",borderRadius:"var(--neuron-radius-s)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Yr,{size:16,style:{color:"var(--neuron-semantic-success)"}})}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"20px"},children:"Total Logged Today"})]}),a.jsxs("span",{style:{fontSize:"24px",fontWeight:700,color:"var(--neuron-semantic-success)",lineHeight:"30px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:["",T.toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),a.jsx(Pe,{onClick:()=>v(!0),style:{width:"100%",marginTop:"12px",background:"var(--neuron-brand-green)",color:"white",border:"none",borderRadius:"var(--neuron-radius-pill)",height:"44px",fontSize:"14px",fontWeight:600,transition:"all 200ms ease-out",cursor:"pointer",boxShadow:"0 2px 4px rgba(22, 160, 133, 0.2)"},onMouseOver:K=>{K.currentTarget.style.background="var(--neuron-brand-green-600)",K.currentTarget.style.transform="translateY(-1px)",K.currentTarget.style.boxShadow="0 4px 8px rgba(22, 160, 133, 0.3)"},onMouseOut:K=>{K.currentTarget.style.background="var(--neuron-brand-green)",K.currentTarget.style.transform="translateY(0)",K.currentTarget.style.boxShadow="0 2px 4px rgba(22, 160, 133, 0.2)"},children:"Log Payment"})]})]})]}),a.jsxs(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"none",borderRadius:"var(--neuron-radius-l)",boxShadow:"var(--elevation-1)",marginBottom:"20px",transition:"box-shadow 200ms ease-out"},onMouseOver:K=>K.currentTarget.style.boxShadow="var(--elevation-2)",onMouseOut:K=>K.currentTarget.style.boxShadow="var(--elevation-1)",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{width:"36px",height:"36px",background:"#F5F6F7",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(zb,{size:20,style:{color:"var(--neuron-ink-secondary)"}})}),a.jsx("h2",{style:{fontSize:"16px",fontWeight:700,fontFamily:"Poppins, sans-serif",color:"var(--neuron-ink-primary)",lineHeight:"24px"},children:"Since Yesterday"})]}),a.jsx("span",{style:{fontSize:"11px",color:"var(--neuron-ink-muted)",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.04em"},children:"Daily Briefing"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},children:[a.jsxs("div",{style:{padding:"14px 16px",background:"white",borderRadius:"var(--neuron-radius-s)",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px"},children:[a.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(iM,{size:16,style:{color:"#D97706"}})}),a.jsxs("span",{style:{fontSize:"20px",fontWeight:700,color:"#D97706",lineHeight:"24px",fontVariantNumeric:"tabular-nums"},children:["+",S.movedToAtRisk]})]}),a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",lineHeight:"16px"},children:"moved to At Risk"})]}),a.jsxs("div",{style:{padding:"14px 16px",background:"white",borderRadius:"var(--neuron-radius-s)",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px"},children:[a.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(oB,{size:16,style:{color:"var(--neuron-semantic-success)"}})}),a.jsxs("span",{style:{fontSize:"20px",fontWeight:700,color:"var(--neuron-semantic-success)",lineHeight:"24px",fontVariantNumeric:"tabular-nums"},children:["",S.recovered]})]}),a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",lineHeight:"16px"},children:"recovered"})]}),a.jsxs("div",{style:{padding:"14px 16px",background:"white",borderRadius:"var(--neuron-radius-s)",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px"},children:[a.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Yr,{size:16,style:{color:"var(--neuron-semantic-success)"}})}),a.jsxs("span",{style:{fontSize:"20px",fontWeight:700,color:"var(--neuron-semantic-success)",lineHeight:"24px",fontVariantNumeric:"tabular-nums"},children:["+",Math.round(S.collected/1e3),"k"]})]}),a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",lineHeight:"16px"},children:"collected"})]}),a.jsxs("div",{style:{padding:"14px 16px",background:"white",borderRadius:"var(--neuron-radius-s)",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px"},children:[a.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(uB,{size:16,style:{color:"#EA580C"}})}),a.jsxs("span",{style:{fontSize:"20px",fontWeight:700,color:"#EA580C",lineHeight:"24px",fontVariantNumeric:"tabular-nums"},children:["+",Math.round(S.newlyOverdue/1e3),"k"]})]}),a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",lineHeight:"16px"},children:"newly overdue"})]})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"20px"},children:[a.jsxs(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"none",borderRadius:"var(--neuron-radius-l)",boxShadow:"var(--elevation-1)",transition:"box-shadow 200ms ease-out"},onMouseOver:K=>K.currentTarget.style.boxShadow="var(--elevation-2)",onMouseOut:K=>K.currentTarget.style.boxShadow="var(--elevation-1)",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[a.jsx(ln,{size:18,style:{color:"var(--neuron-semantic-danger)"}}),a.jsx("h2",{style:{fontSize:"15px",fontWeight:700,fontFamily:"Poppins, sans-serif",color:"var(--neuron-ink-primary)",lineHeight:"22px"},children:"Risk Radar"})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",background:"#FEE2E2",border:"none",borderRadius:"var(--neuron-radius-s)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{width:"8px",height:"8px",background:"#DC2626",borderRadius:"50%"}}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"20px"},children:"Critical"})]}),a.jsx("span",{style:{fontSize:"24px",fontWeight:700,color:"#DC2626",lineHeight:"30px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:X})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",background:"#FED7AA",border:"none",borderRadius:"var(--neuron-radius-s)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{width:"8px",height:"8px",background:"#EA580C",borderRadius:"50%"}}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"20px"},children:"Overdue"})]}),a.jsx("span",{style:{fontSize:"24px",fontWeight:700,color:"#EA580C",lineHeight:"30px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:re})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",background:"#FEF3C7",border:"none",borderRadius:"var(--neuron-radius-s)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{width:"8px",height:"8px",background:"#D97706",borderRadius:"50%"}}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"var(--neuron-ink-primary)",lineHeight:"20px"},children:"At Risk"})]}),a.jsx("span",{style:{fontSize:"24px",fontWeight:700,color:"#D97706",lineHeight:"30px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:V})]})]}),a.jsx(Pe,{onClick:t,style:{width:"100%",marginTop:"16px",background:"var(--neuron-brand-green)",color:"white",border:"none",borderRadius:"var(--neuron-radius-pill)",height:"44px",fontSize:"14px",fontWeight:600,transition:"all 200ms ease-out",cursor:"pointer",boxShadow:"0 2px 4px rgba(22, 160, 133, 0.2)"},onMouseOver:K=>{K.currentTarget.style.background="var(--neuron-brand-green-600)",K.currentTarget.style.transform="translateY(-1px)",K.currentTarget.style.boxShadow="0 4px 8px rgba(22, 160, 133, 0.3)"},onMouseOut:K=>{K.currentTarget.style.background="var(--neuron-brand-green)",K.currentTarget.style.transform="translateY(0)",K.currentTarget.style.boxShadow="0 2px 4px rgba(22, 160, 133, 0.2)"},children:"View All Collections"}),a.jsxs("div",{style:{marginTop:"14px",padding:"12px 16px",background:"#FEF3E0",border:"1px solid #F59E0B",borderRadius:"var(--neuron-radius-s)"},children:[a.jsx("p",{style:{fontSize:"11px",color:"var(--neuron-semantic-warn)",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.04em",marginBottom:"6px",lineHeight:"16px"},children:"Projected Exposure (30 days)"}),a.jsxs("p",{style:{fontSize:"22px",fontWeight:700,color:"#EA580C",lineHeight:"28px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:["",(ue/1e6).toFixed(2),"M"]}),a.jsx("p",{style:{fontSize:"11px",color:"var(--neuron-ink-muted)",marginTop:"4px",lineHeight:"16px"},children:"Conservative projection based on delinquency velocity"})]})]}),a.jsxs(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"none",borderRadius:"var(--neuron-radius-l)",boxShadow:"var(--elevation-1)",transition:"box-shadow 200ms ease-out"},onMouseOver:K=>K.currentTarget.style.boxShadow="var(--elevation-2)",onMouseOut:K=>K.currentTarget.style.boxShadow="var(--elevation-1)",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[a.jsx(Yr,{size:18,style:{color:"var(--neuron-semantic-success)"}}),a.jsx("h2",{style:{fontSize:"15px",fontWeight:700,fontFamily:"Poppins, sans-serif",color:"var(--neuron-ink-primary)",lineHeight:"22px"},children:"Cash Inflow (This Month)"})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",color:"var(--neuron-ink-muted)",marginBottom:"6px",lineHeight:"16px",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.04em"},children:"Expected"}),a.jsxs("p",{style:{fontSize:"24px",fontWeight:700,color:"var(--neuron-ink-primary)",lineHeight:"30px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:["",ee.toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",color:"var(--neuron-ink-muted)",marginBottom:"6px",lineHeight:"16px",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.04em"},children:"Actual (On-time)"}),a.jsxs("p",{style:{fontSize:"24px",fontWeight:700,color:"var(--neuron-semantic-success)",lineHeight:"30px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:["",W.toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),a.jsxs("div",{style:{paddingTop:"10px",borderTop:"1px solid var(--neuron-ui-divider)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[a.jsx("span",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"20px"},children:"Collection Rate"}),a.jsxs("span",{style:{fontSize:"18px",fontWeight:600,color:"var(--neuron-ink-primary)",lineHeight:"24px",letterSpacing:"-0.01em",fontVariantNumeric:"tabular-nums"},children:[Y.toFixed(1),"%"]})]}),a.jsx("div",{style:{width:"100%",background:"#E5E7EB",borderRadius:"var(--neuron-radius-pill)",height:"8px",overflow:"hidden"},children:a.jsx("div",{style:{background:"var(--neuron-semantic-success)",height:"8px",borderRadius:"var(--neuron-radius-pill)",transition:"width 300ms ease-out",width:`${Math.min(Y,100)}%`}})})]})]})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[a.jsxs(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"none",borderRadius:"var(--neuron-radius-l)",boxShadow:"var(--elevation-1)",transition:"box-shadow 200ms ease-out"},onMouseOver:K=>K.currentTarget.style.boxShadow="var(--elevation-2)",onMouseOut:K=>K.currentTarget.style.boxShadow="var(--elevation-1)",children:[a.jsxs("h2",{style:{fontSize:"15px",fontWeight:700,fontFamily:"Poppins, sans-serif",color:"var(--neuron-ink-primary)",marginBottom:"16px",lineHeight:"22px"},children:[u," Status Distribution"]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Object.entries(se).map(([K,je])=>a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:a.jsx(Ze,{variant:"outline",className:`${we(K)} border`,style:{borderRadius:"var(--neuron-radius-pill)",padding:"4px 12px",fontSize:"11px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.04em",color:ve(K)},children:K})}),a.jsx("span",{style:{fontWeight:600,color:"var(--neuron-ink-primary)",fontSize:"16px",lineHeight:"22px",fontVariantNumeric:"tabular-nums"},children:je})]},K))})]}),a.jsxs(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"none",borderRadius:"var(--neuron-radius-l)",boxShadow:"var(--elevation-1)",transition:"box-shadow 200ms ease-out"},onMouseOver:K=>K.currentTarget.style.boxShadow="var(--elevation-2)",onMouseOut:K=>K.currentTarget.style.boxShadow="var(--elevation-1)",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[a.jsxs("h2",{style:{fontSize:"15px",fontWeight:700,fontFamily:"Poppins, sans-serif",color:"var(--neuron-ink-primary)",lineHeight:"22px"},children:[f," Needing Attention"]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"2px"},children:[a.jsxs(Pe,{onClick:()=>b(!0),variant:"ghost",style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",height:"auto",background:"transparent",color:"var(--neuron-brand-green)",border:"1px solid var(--neuron-brand-green)",borderRadius:"var(--neuron-radius-s)",fontSize:"13px",fontWeight:600,cursor:"pointer",transition:"all 120ms ease-out"},onMouseOver:K=>{K.currentTarget.style.background="var(--neuron-brand-green-50)"},onMouseOut:K=>{K.currentTarget.style.background="transparent"},children:[a.jsx(z1,{size:14}),"Add ",u]}),a.jsx("span",{style:{fontSize:"11px",color:"var(--neuron-ink-muted)",lineHeight:"16px"},children:"One-time setup per unit"})]})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:me.length===0?a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",textAlign:"center",padding:"16px 0",lineHeight:"20px"},children:"No urgent units"}):me.map(K=>{var je;return a.jsxs("div",{onClick:()=>e(K),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 14px",background:"var(--neuron-state-hover)",border:"none",borderRadius:"var(--neuron-radius-s)",cursor:"pointer",transition:"all 200ms ease-out"},onMouseOver:Q=>{Q.currentTarget.style.background="var(--neuron-state-selected)",Q.currentTarget.style.boxShadow="var(--elevation-1)"},onMouseOut:Q=>{Q.currentTarget.style.background="var(--neuron-state-hover)",Q.currentTarget.style.boxShadow="none"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[a.jsx("span",{style:{fontWeight:600,color:"var(--neuron-ink-primary)",fontSize:"14px",lineHeight:"20px"},children:K.blockLot}),a.jsx(Ze,{variant:"outline",className:`${we(K.status)} border`,style:{borderRadius:"var(--neuron-radius-pill)",padding:"2px 8px",fontSize:"10px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.04em",color:ve(K.status)},children:K.status})]}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-secondary)",lineHeight:"18px"},children:(je=K.buyer)==null?void 0:je.name}),K.paymentTerms&&a.jsxs("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",marginTop:"3px",lineHeight:"16px"},children:[K.paymentTerms.daysLate," days late  ",K.paymentTerms.arrears.toLocaleString("en-PH")," arrears"]})]}),a.jsx(Pe,{variant:"ghost",size:"sm",style:{padding:"8px"},children:a.jsx(bu,{size:16,style:{color:"var(--neuron-ink-muted)"}})})]},K.id)})})]})]}),a.jsx(G9,{isOpen:g,onClose:()=>v(!1),onPaymentRecorded:ye,units:n}),a.jsx(MD,{isOpen:w,onClose:()=>b(!1),onUnitAdded:i,selectedProject:r,projects:s,organizationId:l,unitLabel:u,customerLabel:d})]})}function Q9(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var tc=e=>{const{present:t,children:r}=e,n=Z9(t),i=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),s=jr(n.ref,eW(i));return typeof r=="function"||n.isPresent?j.cloneElement(i,{ref:s}):null};tc.displayName="Presence";function Z9(e){const[t,r]=j.useState(),n=j.useRef({}),i=j.useRef(e),s=j.useRef("none"),l=e?"mounted":"unmounted",[u,d]=Q9(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const f=Gf(n.current);s.current=u==="mounted"?f:"none"},[u]),gn(()=>{const f=n.current,p=i.current;if(p!==e){const g=s.current,v=Gf(f);e?d("MOUNT"):v==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(p&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),gn(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,h=v=>{const b=Gf(n.current).includes(v.animationName);if(v.target===t&&b&&(d("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},g=v=>{v.target===t&&(s.current=Gf(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:j.useCallback(f=>{f&&(n.current=getComputedStyle(f)),r(f)},[])}}function Gf(e){return(e==null?void 0:e.animationName)||"none"}function eW(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var uj="Checkbox",[tW]=_a(uj),[rW,nW]=tW(uj),DD=j.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:l,disabled:u,value:d="on",onCheckedChange:f,form:p,...h}=e,[g,v]=j.useState(null),w=jr(t,E=>v(E)),b=j.useRef(!1),x=g?p||!!g.closest("form"):!0,[S=!1,C]=to({prop:i,defaultProp:s,onChange:f}),k=j.useRef(S);return j.useEffect(()=>{const E=g==null?void 0:g.form;if(E){const _=()=>C(k.current);return E.addEventListener("reset",_),()=>E.removeEventListener("reset",_)}},[g,C]),a.jsxs(rW,{scope:r,state:S,disabled:u,children:[a.jsx(It.button,{type:"button",role:"checkbox","aria-checked":ls(S)?"mixed":S,"aria-required":l,"data-state":LD(S),"data-disabled":u?"":void 0,disabled:u,value:d,...h,ref:w,onKeyDown:qt(e.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:qt(e.onClick,E=>{C(_=>ls(_)?!0:!_),x&&(b.current=E.isPropagationStopped(),b.current||E.stopPropagation())})}),x&&a.jsx(iW,{control:g,bubbles:!b.current,name:n,value:d,checked:S,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"},defaultChecked:ls(s)?!1:s})]})});DD.displayName=uj;var ID="CheckboxIndicator",$D=j.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,s=nW(ID,r);return a.jsx(tc,{present:n||ls(s.state)||s.state===!0,children:a.jsx(It.span,{"data-state":LD(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});$D.displayName=ID;var iW=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:i,...s}=e,l=j.useRef(null),u=sj(r),d=rj(t);j.useEffect(()=>{const p=l.current,h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==r&&v){const w=new Event("click",{bubbles:n});p.indeterminate=ls(r),v.call(p,ls(r)?!1:r),p.dispatchEvent(w)}},[u,r,n]);const f=j.useRef(ls(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??f.current,...s,tabIndex:-1,ref:l,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ls(e){return e==="indeterminate"}function LD(e){return ls(e)?"indeterminate":e?"checked":"unchecked"}var aW=DD,sW=$D;function _p({className:e,...t}){return a.jsx(aW,{"data-slot":"checkbox",className:Yt("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(sW,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(eM,{className:"size-3.5"})})})}function qi({className:e,...t}){return a.jsx("textarea",{"data-slot":"textarea",className:Yt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var dj="Dialog",[FD]=_a(dj),[oW,Pi]=FD(dj),BD=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,u=j.useRef(null),d=j.useRef(null),[f=!1,p]=to({prop:n,defaultProp:i,onChange:s});return a.jsx(oW,{scope:t,triggerRef:u,contentRef:d,contentId:os(),titleId:os(),descriptionId:os(),open:f,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(h=>!h),[p]),modal:l,children:r})};BD.displayName=dj;var zD="DialogTrigger",lW=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Pi(zD,r),s=jr(t,i.triggerRef);return a.jsx(It.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hj(i.open),...n,ref:s,onClick:qt(e.onClick,i.onOpenToggle)})});lW.displayName=zD;var fj="DialogPortal",[cW,UD]=FD(fj,{forceMount:void 0}),qD=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=Pi(fj,t);return a.jsx(cW,{scope:t,forceMount:r,children:j.Children.map(n,l=>a.jsx(tc,{present:r||s.open,children:a.jsx(aj,{asChild:!0,container:i,children:l})}))})};qD.displayName=fj;var Sp="DialogOverlay",WD=j.forwardRef((e,t)=>{const r=UD(Sp,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Pi(Sp,e.__scopeDialog);return s.modal?a.jsx(tc,{present:n||s.open,children:a.jsx(uW,{...i,ref:t})}):null});WD.displayName=Sp;var uW=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Pi(Sp,r);return a.jsx(oj,{as:ds,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(It.div,{"data-state":hj(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),no="DialogContent",HD=j.forwardRef((e,t)=>{const r=UD(no,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Pi(no,e.__scopeDialog);return a.jsx(tc,{present:n||s.open,children:s.modal?a.jsx(dW,{...i,ref:t}):a.jsx(fW,{...i,ref:t})})});HD.displayName=no;var dW=j.forwardRef((e,t)=>{const r=Pi(no,e.__scopeDialog),n=j.useRef(null),i=jr(t,r.contentRef,n);return j.useEffect(()=>{const s=n.current;if(s)return ZM(s)},[]),a.jsx(VD,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qt(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:qt(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&s.preventDefault()}),onFocusOutside:qt(e.onFocusOutside,s=>s.preventDefault())})}),fW=j.forwardRef((e,t)=>{const r=Pi(no,e.__scopeDialog),n=j.useRef(!1),i=j.useRef(!1);return a.jsx(VD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((f=r.triggerRef.current)==null?void 0:f.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),VD=j.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=e,u=Pi(no,r),d=j.useRef(null),f=jr(t,d);return CM(),a.jsxs(a.Fragment,{children:[a.jsx(Y1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(G1,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":hj(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(pW,{titleId:u.titleId}),a.jsx(mW,{contentRef:d,descriptionId:u.descriptionId})]})]})}),pj="DialogTitle",KD=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Pi(pj,r);return a.jsx(It.h2,{id:i.titleId,...n,ref:t})});KD.displayName=pj;var GD="DialogDescription",YD=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Pi(GD,r);return a.jsx(It.p,{id:i.descriptionId,...n,ref:t})});YD.displayName=GD;var XD="DialogClose",JD=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Pi(XD,r);return a.jsx(It.button,{type:"button",...n,ref:t,onClick:qt(e.onClick,()=>i.onOpenChange(!1))})});JD.displayName=XD;function hj(e){return e?"open":"closed"}var QD="DialogTitleWarning",[uue,ZD]=lU(QD,{contentName:no,titleName:pj,docsSlug:"dialog"}),pW=({titleId:e})=>{const t=ZD(QD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},hW="DialogDescriptionWarning",mW=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZD(hW).contentName}}.`;return j.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},gW=BD,yW=qD,eI=WD,vW=HD,xW=KD,bW=YD,wW=JD;function ei({...e}){return a.jsx(gW,{"data-slot":"dialog",...e})}function jW({...e}){return a.jsx(yW,{"data-slot":"dialog-portal",...e})}const tI=j.forwardRef(({className:e,...t},r)=>a.jsx(eI,{ref:r,"data-slot":"dialog-overlay",className:Yt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));tI.displayName=eI.displayName;function ti({className:e,children:t,...r}){return a.jsxs(jW,{"data-slot":"dialog-portal",children:[a.jsx(tI,{}),a.jsxs(vW,{"data-slot":"dialog-content",className:Yt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,a.jsxs(wW,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Xl,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ri({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:Yt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function rI({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:Yt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ni({className:e,...t}){return a.jsx(xW,{"data-slot":"dialog-title",className:Yt("text-lg leading-none font-semibold",e),...t})}function ii({className:e,...t}){return a.jsx(bW,{"data-slot":"dialog-description",className:Yt("text-muted-foreground text-sm",e),...t})}var _W="Label",nI=j.forwardRef((e,t)=>a.jsx(It.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));nI.displayName=_W;var SW=nI;function We({className:e,...t}){return a.jsx(SW,{"data-slot":"label",className:Yt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function kW({isOpen:e,onClose:t,unit:r,onPaymentRecorded:n}){var q;const[i,s]=j.useState(""),[l,u]=j.useState(ss()),[d,f]=j.useState(""),[p,h]=j.useState(""),[g,v]=j.useState(""),[w,b]=j.useState(!1),[x,S]=j.useState({}),k=(()=>{if(!r.paymentTerms)return 0;const F=r.paymentTerms.schedule;if(F&&F.length>0)return F.reduce((te,re)=>re.status==="Paid"?te:re.status==="Partial"?te+Math.max(re.amount-(re.partialAmount??0),0):te+re.amount,0);const{totalMonths:$,monthsPaid:L,monthlyAmount:B,arrears:Z}=r.paymentTerms;return($-L)*B+Z})(),_=(()=>{var $;const F=($=r.paymentTerms)==null?void 0:$.schedule;if(F&&F.length>0){const L=F.find(B=>B.status!=="Paid");if(!L)return 0;if(L.status==="Partial"){const B=L.partialAmount??0;return Math.max(L.amount-B,0)}return L.amount}return r.paymentTerms?r.paymentTerms.monthlyAmount??0:0})(),A=F=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(F),P=F=>{const $=F.replace(/[,\s]/g,"");return parseFloat($)||0},T=F=>{const L=F.target.value.replace(/[^\d.]/g,""),B=L.split(".");B.length>2||B[1]&&B[1].length>2||(s(L),x.amount&&S(Z=>({...Z,amount:""})))},M=()=>{const F={},$=P(i);if(!i||$<=0?F.amount="Amount is required and must be greater than 0":$>k&&(F.amount=`Amount cannot exceed remaining balance of ${A(k)}`),!l)F.paymentDate="Payment date is required";else{const L=new Date(l),B=cd();B.setHours(0,0,0,0),L>B&&(F.paymentDate="Payment date cannot be in the future")}return d||(F.paymentMethod="Payment method is required"),d&&d!=="Cash"&&!p.trim()&&(F.referenceNumber="Reference number is required for non-cash payments"),S(F),Object.keys(F).length===0},R=async()=>{if(!M())return;b(!0),await new Promise(L=>setTimeout(L,1e3));const F={id:`PAY-${Date.now()}`,unitId:r.id,amount:P(i),paymentDate:l,paymentMethod:d,referenceNumber:p||"N/A",notes:g,processedAt:new Date().toISOString()},$=k-P(i);try{await n(F),ie.success("Payment recorded successfully!",{description:`${A(P(i))} received via ${d}. New balance: ${A($)}`}),D()}catch(L){ie.error("Failed to record payment",{description:L instanceof Error?L.message:"Please try again."}),b(!1)}},D=()=>{s(""),u(ss()),f(""),h(""),v(""),S({}),b(!1),t()};return a.jsx(ei,{open:e,onOpenChange:F=>!F&&D(),children:a.jsxs(ti,{className:"sm:max-w-[560px] max-h-[90vh] overflow-y-auto",children:[a.jsxs(ri,{children:[a.jsx(ni,{children:"Record Payment"}),a.jsxs(ii,{children:["Enter the payment details for ",r.blockLot,"."]})]}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Unit"}),a.jsx("span",{className:"font-semibold",children:r.blockLot})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Customer"}),a.jsx("span",{className:"font-semibold",children:((q=r.buyer)==null?void 0:q.name)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Amount Due"}),a.jsx("span",{className:"font-semibold text-red-600",children:A(_)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Remaining Balance"}),a.jsx("span",{className:"font-medium text-gray-600",children:A(k)})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(We,{htmlFor:"amount",children:["Payment Amount ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(Ke,{id:"amount",type:"text",placeholder:"0.00",value:i,onChange:T,className:`pl-8 ${x.amount?"border-red-500":""}`,disabled:w})]}),x.amount&&a.jsx("p",{className:"text-sm text-red-500",children:x.amount})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(We,{htmlFor:"paymentDate",children:["Payment Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ke,{id:"paymentDate",type:"date",value:l,onChange:F=>{u(F.target.value),x.paymentDate&&S($=>({...$,paymentDate:""}))},max:ss(),className:x.paymentDate?"border-red-500":"",disabled:w}),x.paymentDate&&a.jsx("p",{className:"text-sm text-red-500",children:x.paymentDate})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(We,{htmlFor:"paymentMethod",children:["Payment Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(Ft,{value:d,onValueChange:F=>{f(F),x.paymentMethod&&S($=>({...$,paymentMethod:""})),F==="Cash"&&x.referenceNumber&&S($=>({...$,referenceNumber:""}))},disabled:w,children:[a.jsx(zt,{className:x.paymentMethod?"border-red-500":"",children:a.jsx(Bt,{placeholder:"Select payment method"})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"Cash",children:"Cash"}),a.jsx(Ie,{value:"Check",children:"Check"}),a.jsx(Ie,{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx(Ie,{value:"GCash",children:"GCash"}),a.jsx(Ie,{value:"PayMaya",children:"PayMaya"}),a.jsx(Ie,{value:"Credit Card",children:"Credit Card"})]})]}),x.paymentMethod&&a.jsx("p",{className:"text-sm text-red-500",children:x.paymentMethod})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(We,{htmlFor:"referenceNumber",children:["Reference Number ",d!=="Cash"&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Ke,{id:"referenceNumber",type:"text",placeholder:"Reference number",value:p,onChange:F=>{h(F.target.value),x.referenceNumber&&S($=>({...$,referenceNumber:""}))},className:x.referenceNumber?"border-red-500":"",disabled:w||d==="Cash"}),x.referenceNumber&&a.jsx("p",{className:"text-sm text-red-500",children:x.referenceNumber})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"notes",children:"Notes (Optional)"}),a.jsx(qi,{id:"notes",placeholder:"Add any additional notes...",value:g,onChange:F=>v(F.target.value),rows:3,disabled:w})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Pe,{type:"button",variant:"outline",onClick:D,disabled:w,className:"flex-1",children:"Cancel"}),a.jsx(Pe,{type:"button",onClick:R,disabled:w,className:"flex-1 bg-red-600 hover:bg-red-700",children:w?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"mr-2",children:"Processing..."}),a.jsx("span",{className:"inline-block animate-spin",children:""})]}):"Record Payment"})]})]})]})})}function iI({className:e,...t}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:Yt("w-full caption-bottom text-sm",e),...t})})}function aI({className:e,...t}){return a.jsx("thead",{"data-slot":"table-header",className:Yt("[&_tr]:border-b",e),...t})}function sI({className:e,...t}){return a.jsx("tbody",{"data-slot":"table-body",className:Yt("[&_tr:last-child]:border-0",e),...t})}function fu({className:e,...t}){return a.jsx("tr",{"data-slot":"table-row",className:Yt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function en({className:e,...t}){return a.jsx("th",{"data-slot":"table-head",className:Yt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Vr({className:e,...t}){return a.jsx("td",{"data-slot":"table-cell",className:Yt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function NW({unit:e,onRecordPayment:t}){const[r,n]=j.useState(null);if(!e.paymentTerms)return null;const s=(()=>{var _;const v=[],{totalMonths:w,monthsPaid:b,monthlyAmount:x}=e.paymentTerms,S=cd();S.setHours(0,0,0,0);const C=(_=e.paymentTerms)==null?void 0:_.schedule;if(C&&C.length>0){let P=C.reduce((T,M)=>T+M.amount,0);return C.sort((T,M)=>new Date(T.dueDate).getTime()-new Date(M.dueDate).getTime()).forEach((T,M)=>{const R=new Date(T.dueDate);R.setHours(0,0,0,0);let D="upcoming",q;if(T.status==="Paid")D="paid";else{const B=Math.floor((S.getTime()-R.getTime())/864e5);B>0?(D="overdue",q=B):B===0?D="due-today":D="upcoming"}const F=T.status==="Paid"?T.amount:T.status==="Partial"&&T.partialAmount||0,$=T.paidDate?new Date(T.paidDate):null,L=P-F;P=L,v.push({month:M+1,dueDate:R,amountDue:T.amount,amountPaid:F,paymentDate:$,balanceAfter:L,status:D,daysLate:q})}),v}if(!e.moveInDate)return[];const k=new Date(e.moveInDate);k.setHours(0,0,0,0);let E=w*x;for(let A=1;A<=w;A++){const P=new Date(k);P.setMonth(k.getMonth()+(A-1)),P.setHours(0,0,0,0);let T=0,M=null,R="upcoming",D;if(A<=b)T=x,R="paid",M=new Date(P);else{const F=Math.floor((S.getTime()-P.getTime())/864e5);F>0?(R="overdue",D=F):F===0?R="due-today":R="upcoming"}const q=E-T;E=q,v.push({month:A,dueDate:P,amountDue:x,amountPaid:T,paymentDate:M,balanceAfter:q,status:R,daysLate:D})}return v})(),l=s.reduce((v,w)=>v+w.amountDue,0),u=s.reduce((v,w)=>v+w.amountPaid,0),d=l-u,f=v=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(v),p=v=>v.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),h=v=>{switch(v.status){case"paid":return a.jsxs(Ze,{className:"bg-green-50 text-green-700 border-green-200 hover:bg-green-50",children:[a.jsx(Ks,{className:"w-3 h-3 mr-1"}),v.daysLate?`Paid (${v.daysLate}d late)`:"Paid"]});case"due-today":return a.jsxs(Ze,{className:"bg-yellow-50 text-yellow-700 border-yellow-200 hover:bg-yellow-50",children:[a.jsx(Si,{className:"w-3 h-3 mr-1"}),"Due Today"]});case"overdue":return a.jsxs(Ze,{className:"bg-red-50 text-red-700 border-red-200 hover:bg-red-50",children:[a.jsx(ln,{className:"w-3 h-3 mr-1"}),v.daysLate," days overdue"]});case"upcoming":return a.jsxs(Ze,{variant:"outline",className:"text-gray-600 border-gray-300",children:[a.jsx(Pn,{className:"w-3 h-3 mr-1"}),"Upcoming"]})}},g=(v,w)=>{const b="cursor-pointer transition-colors",x="hover:bg-gray-50",S=r===w?"bg-blue-50":"";let C="";switch(v.status){case"paid":C=v.daysLate?"bg-green-50/30":"bg-green-50/50";break;case"due-today":C="bg-yellow-50/50";break;case"overdue":C="bg-red-50/50";break;default:C=""}return`${b} ${x} ${S||C}`};return a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Yr,{className:"w-5 h-5 text-red-600"}),a.jsx("h2",{className:"font-semibold text-gray-900",children:"Payment Schedule"})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[e.paymentTerms.totalMonths," months  ",f(e.paymentTerms.monthlyAmount),"/month"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Payment Progress"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:[e.paymentTerms.monthsPaid," / ",e.paymentTerms.totalMonths," months"]})]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto max-h-[600px] overflow-y-auto",children:a.jsxs(iI,{children:[a.jsx(aI,{className:"bg-gray-50 sticky top-0 z-10",children:a.jsxs(fu,{children:[a.jsx(en,{className:"w-16 font-semibold text-gray-700",children:"Month"}),a.jsx(en,{className:"font-semibold text-gray-700",children:"Due Date"}),a.jsx(en,{className:"text-right font-semibold text-gray-700",children:"Amount Due"}),a.jsx(en,{className:"text-right font-semibold text-gray-700",children:"Amount Paid"}),a.jsx(en,{className:"font-semibold text-gray-700",children:"Payment Date"}),a.jsx(en,{className:"text-right font-semibold text-gray-700",children:"Balance After"}),a.jsx(en,{className:"font-semibold text-gray-700",children:"Status"}),a.jsx(en,{className:"w-32 font-semibold text-gray-700",children:"Action"})]})}),a.jsx(sI,{children:s.map((v,w)=>a.jsxs(fu,{className:g(v,w),onClick:()=>n(w===r?null:w),children:[a.jsxs(Vr,{className:"font-medium text-gray-900",children:["#",v.month]}),a.jsx(Vr,{className:"text-gray-700",children:p(v.dueDate)}),a.jsx(Vr,{className:"text-right font-medium text-gray-900",children:f(v.amountDue)}),a.jsx(Vr,{className:"text-right font-medium",children:v.amountPaid>0?a.jsx("span",{className:"text-green-600",children:f(v.amountPaid)}):a.jsx("span",{className:"text-gray-400",children:"0.00"})}),a.jsx(Vr,{className:"text-gray-700",children:v.paymentDate?p(v.paymentDate):""}),a.jsx(Vr,{className:"text-right font-medium text-gray-900",children:f(v.balanceAfter)}),a.jsx(Vr,{children:h(v)}),a.jsx(Vr,{children:(v.status==="due-today"||v.status==="overdue"||v.status==="upcoming")&&a.jsx(Pe,{size:"sm",onClick:b=>{b.stopPropagation(),t(v.month)},className:"bg-red-600 hover:bg-red-700 text-white h-8 text-xs",children:"Record"})})]},v.month))})]})})}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 mb-1 font-semibold",children:"Total Due"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:f(l)})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-green-700 mb-1 font-semibold",children:"Total Paid"}),a.jsx("p",{className:"text-lg font-semibold text-green-600",children:f(u)})]}),a.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-red-700 mb-1 font-semibold",children:"Remaining"}),a.jsx("p",{className:"text-lg font-semibold text-red-600",children:f(d)})]})]})})]})}function CW({unitId:e,onViewDetail:t}){const[r,n]=j.useState(""),[i,s]=j.useState("all"),[l,u]=j.useState("all"),[d,f]=j.useState("date"),[p,h]=j.useState("desc"),{payments:g,loading:v,error:w}=Ih(e),b=j.useMemo(()=>{let P=g;if(e&&(P=P.filter(T=>T.unitId===e)),r){const T=r.toLowerCase();P=P.filter(M=>M.referenceNumber.toLowerCase().includes(T)||M.customerName.toLowerCase().includes(T)||M.unitName.toLowerCase().includes(T))}return i!=="all"&&(P=P.filter(T=>T.method===i)),l!=="all"&&(P=P.filter(T=>T.status===l)),P.sort((T,M)=>{let R,D;return d==="date"?(R=T.date,D=M.date):(R=T.amount,D=M.amount),p==="asc"?R>D?1:-1:R<D?1:-1}),P},[g,e,r,i,l,d,p]);if(v)return a.jsx(Ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($r,{className:"w-5 h-5 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Loading payment history..."})]})});if(w)return a.jsx(Ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($r,{className:"w-5 h-5 text-red-400"}),a.jsx("p",{className:"text-sm text-red-600",children:"Failed to load payment history."})]})});const x=b.reduce((P,T)=>P+T.amount,0),S=P=>{d===P?h(p==="asc"?"desc":"asc"):(f(P),h("desc"))},C=()=>{ie.success("Export successful!",{description:`${b.length} payment records exported to Excel`})},k=P=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(P),E=P=>P.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),_=P=>{switch(P){case"Completed":return a.jsx(Ze,{className:"bg-green-50 text-green-700 border-green-200 hover:bg-green-50",children:" Completed"});case"Pending":return a.jsx(Ze,{className:"bg-yellow-50 text-yellow-700 border-yellow-200 hover:bg-yellow-50",children:" Pending"});case"Failed":return a.jsx(Ze,{className:"bg-red-50 text-red-700 border-red-200 hover:bg-red-50",children:" Failed"});case"Refunded":return a.jsx(Ze,{className:"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-50",children:" Refunded"})}},A=P=>d!==P?a.jsx(W3,{className:"w-3.5 h-3.5 ml-1 text-gray-400"}):p==="asc"?a.jsx(V3,{className:"w-3.5 h-3.5 ml-1 text-red-600"}):a.jsx(z3,{className:"w-3.5 h-3.5 ml-1 text-red-600"});return a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx($r,{className:"w-5 h-5 text-red-600"}),a.jsx("h2",{className:"font-semibold text-gray-900",children:"Payment History"})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[b.length," payment",b.length!==1?"s":"","  ",k(x)," total"]})]}),a.jsxs(Pe,{onClick:C,variant:"outline",className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"}),"Export"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"md:col-span-2 relative",children:[a.jsx(si,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Ke,{type:"text",placeholder:"Search by reference, customer, or unit...",value:r,onChange:P=>n(P.target.value),className:"pl-9"})]}),a.jsxs(Ft,{value:i,onValueChange:s,children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:"All Methods"})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"all",children:"All Methods"}),a.jsx(Ie,{value:"Cash",children:"Cash"}),a.jsx(Ie,{value:"Check",children:"Check"}),a.jsx(Ie,{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx(Ie,{value:"GCash",children:"GCash"}),a.jsx(Ie,{value:"PayMaya",children:"PayMaya"}),a.jsx(Ie,{value:"Credit Card",children:"Credit Card"})]})]}),a.jsxs(Ft,{value:l,onValueChange:u,children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:"All Status"})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"all",children:"All Status"}),a.jsx(Ie,{value:"Completed",children:"Completed"}),a.jsx(Ie,{value:"Pending",children:"Pending"}),a.jsx(Ie,{value:"Failed",children:"Failed"}),a.jsx(Ie,{value:"Refunded",children:"Refunded"})]})]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto max-h-[600px] overflow-y-auto",children:a.jsxs(iI,{children:[a.jsx(aI,{className:"bg-gray-50 sticky top-0 z-10",children:a.jsxs(fu,{children:[a.jsx(en,{className:"font-semibold text-gray-700",children:a.jsxs("button",{onClick:()=>S("date"),className:"flex items-center hover:text-gray-900 transition-colors",children:["Date",A("date")]})}),a.jsx(en,{className:"font-semibold text-gray-700",children:a.jsxs("button",{onClick:()=>S("amount"),className:"flex items-center hover:text-gray-900 transition-colors",children:["Amount",A("amount")]})}),a.jsx(en,{className:"font-semibold text-gray-700",children:"Method"}),a.jsx(en,{className:"font-semibold text-gray-700",children:"Reference #"}),!e&&a.jsx(en,{className:"font-semibold text-gray-700",children:"Unit"}),!e&&a.jsx(en,{className:"font-semibold text-gray-700",children:"Customer"}),a.jsx(en,{className:"font-semibold text-gray-700",children:"Processed By"}),a.jsx(en,{className:"font-semibold text-gray-700",children:"Status"}),a.jsx(en,{className:"w-24 font-semibold text-gray-700",children:"Action"})]})}),a.jsx(sI,{children:b.length===0?a.jsx(fu,{children:a.jsx(Vr,{colSpan:e?7:9,className:"text-center py-8 text-gray-500",children:"No payments found"})}):b.map(P=>a.jsxs(fu,{className:"cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>t(P),children:[a.jsx(Vr,{className:"text-gray-700",children:E(P.date)}),a.jsx(Vr,{className:"font-medium text-gray-900",children:k(P.amount)}),a.jsx(Vr,{className:"text-gray-700",children:P.method}),a.jsx(Vr,{className:"font-mono text-sm text-gray-600",children:P.referenceNumber}),!e&&a.jsx(Vr,{className:"text-gray-700",children:P.unitName}),!e&&a.jsx(Vr,{className:"text-gray-700",children:P.customerName}),a.jsx(Vr,{className:"text-gray-700",children:P.processedBy}),a.jsx(Vr,{children:_(P.status)}),a.jsx(Vr,{children:a.jsxs(Pe,{size:"sm",variant:"ghost",onClick:T=>{T.stopPropagation(),t(P)},className:"flex items-center gap-1 text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(bu,{className:"w-3.5 h-3.5"}),"View"]})})]},P.id))})]})})})]})}var PW="Separator",SN="horizontal",EW=["horizontal","vertical"],oI=j.forwardRef((e,t)=>{const{decorative:r,orientation:n=SN,...i}=e,s=AW(n)?n:SN,u=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(It.div,{"data-orientation":s,...u,...i,ref:t})});oI.displayName=PW;function AW(e){return EW.includes(e)}var OW=oI;function ar({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return a.jsx(OW,{"data-slot":"separator-root",decorative:r,orientation:t,className:Yt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function TW({isOpen:e,onClose:t,payment:r,userRole:n="Encoder"}){if(!r)return null;const i=g=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(g),s=g=>g.toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),l=g=>{switch(g){case"Completed":return a.jsx(Ze,{className:"bg-green-50 text-green-700 border-green-200 text-base px-3 py-1",children:" Completed"});case"Pending":return a.jsx(Ze,{className:"bg-yellow-50 text-yellow-700 border-yellow-200 text-base px-3 py-1",children:" Pending"});case"Failed":return a.jsx(Ze,{className:"bg-red-50 text-red-700 border-red-200 text-base px-3 py-1",children:" Failed"});case"Refunded":return a.jsx(Ze,{className:"bg-gray-50 text-gray-700 border-gray-200 text-base px-3 py-1",children:" Refunded"})}},u=()=>{ie.success("Receipt downloaded",{description:`${r.id}_Receipt.pdf`})},d=()=>{ie.info("Edit payment feature",{description:"This feature will be available in the full system"}),t()},f=()=>{ie.warning("Void payment confirmation",{description:"This action would require manager approval"})},p=n==="Manager"||n==="Executive",h=n==="Executive";return a.jsx(ei,{open:e,onOpenChange:g=>!g&&t(),children:a.jsxs(ti,{className:"sm:max-w-[700px]",children:[a.jsxs(ri,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ni,{className:"flex items-center gap-2",children:[a.jsx($r,{className:"w-5 h-5 text-red-600"}),"Payment Details"]}),l(r.status)]}),a.jsx(ii,{children:"View complete transaction details and receipt information."})]}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Transaction ID"}),a.jsx("p",{className:"text-lg font-mono font-semibold text-gray-900 mb-4",children:r.id}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Amount"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:i(r.amount)})]}),a.jsx(ar,{}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 font-semibold mb-1",children:"Payment Date"}),a.jsx("p",{className:"text-sm text-gray-900 font-medium",children:s(r.date)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 font-semibold mb-1",children:"Payment Method"}),a.jsx("p",{className:"text-sm text-gray-900 font-medium",children:r.method})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 font-semibold mb-1",children:"Reference Number"}),a.jsx("p",{className:"text-sm text-gray-900 font-mono font-medium",children:r.referenceNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 font-semibold mb-1",children:"Status"}),a.jsx("div",{className:"mt-1",children:l(r.status)})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 font-semibold mb-1",children:"Unit"}),a.jsx("p",{className:"text-sm text-gray-900 font-medium",children:r.unitName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 font-semibold mb-1",children:"Customer"}),a.jsx("p",{className:"text-sm text-gray-900 font-medium",children:r.customerName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 font-semibold mb-1",children:"Processed By"}),a.jsx("p",{className:"text-sm text-gray-900 font-medium",children:r.processedBy})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 font-semibold mb-1",children:"Processed At"}),a.jsx("p",{className:"text-sm text-gray-900 font-medium",children:s(r.date)})]})]})]}),r.notes&&a.jsxs(a.Fragment,{children:[a.jsx(ar,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 font-semibold mb-2",children:"Notes"}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:a.jsx("p",{className:"text-sm text-gray-700",children:r.notes})})]})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(Pe,{onClick:u,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700",children:[a.jsx(Nn,{className:"w-4 h-4"}),"Download Receipt"]}),p&&r.status==="Completed"&&a.jsxs(Pe,{onClick:d,variant:"outline",className:"flex items-center gap-2",children:[a.jsx(nM,{className:"w-4 h-4"}),"Edit Payment"]}),h&&r.status==="Completed"&&a.jsxs(Pe,{onClick:f,variant:"outline",className:"flex items-center gap-2 text-red-600 border-red-200 hover:bg-red-50 hover:text-red-700",children:[a.jsx(_u,{className:"w-4 h-4"}),"Void Payment"]})]}),!p&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:a.jsx("p",{className:"text-xs text-gray-600",children:" You can view payment details but cannot edit or void payments. Contact your manager if changes are needed."})})]}),a.jsx("div",{className:"flex justify-end pt-4 border-t",children:a.jsx(Pe,{variant:"outline",onClick:t,children:"Close"})})]})})}function RW({isOpen:e,onClose:t,organizationId:r,unitId:n,unitLabel:i,onSaved:s}){const[l,u]=j.useState([]),[d,f]=j.useState({}),[p,h]=j.useState({}),[g,v]=j.useState(!1);j.useEffect(()=>{if(!e||!r||!n)return;(async()=>{const{data:E,error:_}=await pe.from("entity_fields").select("id,field_key,label,data_type,is_required,options,order_index").eq("organization_id",r).eq("entity_type","unit").eq("is_active",!0).order("order_index",{ascending:!0});if(_){ie.error("Failed to load custom fields",{description:_.message}),u([]);return}u(E??[]);const{data:A,error:P}=await pe.from("entity_values").select("field_id,value").eq("organization_id",r).eq("entity_type","unit").eq("entity_id",n);if(P){ie.error("Failed to load unit details",{description:P.message}),f({});return}const T=(A??[]).reduce((M,R)=>(M[R.field_id]=R.value,M),{});f(T)})()},[e,r,n]);const w=j.useMemo(()=>l.filter(k=>k.is_required),[l]),b=k=>k.options?Array.isArray(k.options)?k.options.map(E=>{if(typeof E=="string")return{value:E,label:E};if(typeof E=="object"&&E&&"value"in E){const _=String(E.value),A=String(E.label??_);return{value:_,label:A}}return null}).filter(Boolean):[]:[],x=()=>{const k={};return w.forEach(E=>{const _=d[E.id];E.data_type!=="boolean"&&(_==null||_==="")&&(k[E.id]=`${E.label} is required.`)}),h(k),Object.keys(k).length===0},S=(k,E)=>{if(E===""||E===void 0)return null;if(k.data_type==="number"){const _=Number(E);return Number.isNaN(_)?null:_}return k.data_type==="boolean"?!!E:E},C=async()=>{if(!r){ie.error("Organization not found. Please sign in again.");return}if(x()){v(!0);try{const k=l.map(_=>({organization_id:r,entity_type:"unit",entity_id:n,field_id:_.id,value:S(_,d[_.id])})),{error:E}=await pe.from("entity_values").upsert(k,{onConflict:"entity_id,field_id"});if(E)throw E;ie.success("Unit details updated."),s==null||s(),t()}catch(k){ie.error("Failed to update unit details",{description:k instanceof Error?k.message:"Please try again."})}finally{v(!1)}}};return e?a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"24px"},children:a.jsxs("div",{style:{background:"var(--neuron-bg-elevated)",borderRadius:"14px",width:"100%",maxWidth:"520px",maxHeight:"90vh",overflow:"hidden",boxShadow:"var(--elevation-2)",display:"flex",flexDirection:"column"},children:[a.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid var(--neuron-ui-border)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{padding:"10px",background:"var(--neuron-brand-green-100)",borderRadius:"8px"},children:a.jsx(vl,{size:18,style:{color:"var(--neuron-brand-green)"}})}),a.jsxs("div",{children:[a.jsxs("h2",{style:{fontSize:"16px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:["Edit ",i," Details"]}),a.jsxs("p",{style:{fontSize:"13px",color:"var(--neuron-ink-muted)"},children:["Update template-based fields for this ",i.toLowerCase()]})]})]}),a.jsx("button",{onClick:t,style:{padding:"6px",background:"transparent",border:"none",cursor:"pointer",borderRadius:"6px"},children:a.jsx(Xl,{size:18,style:{color:"var(--neuron-ink-muted)"}})})]}),a.jsxs("div",{style:{padding:"24px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"16px"},children:[l.length===0&&a.jsxs("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:["No custom fields configured for ",i.toLowerCase(),"s yet."]}),l.map(k=>{const E=d[k.id],_=b(k),A=p[k.id];return a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,marginBottom:"6px"},children:[k.label,k.is_required?" *":""]}),k.data_type==="select"&&_.length>0?a.jsxs(Ft,{value:E?String(E):"",onValueChange:P=>{f(T=>({...T,[k.id]:P})),h(T=>({...T,[k.id]:""}))},children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:`Select ${k.label}`})}),a.jsx(Ut,{children:_.map(P=>a.jsx(Ie,{value:P.value,children:P.label},P.value))})]}):k.data_type==="boolean"?a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px"},children:[a.jsx("input",{type:"checkbox",checked:!!E,onChange:P=>{f(T=>({...T,[k.id]:P.target.checked}))}}),k.label]}):a.jsx(Ke,{type:k.data_type==="number"?"number":"text",value:E==null?"":String(E),onChange:P=>{f(T=>({...T,[k.id]:P.target.value})),h(T=>({...T,[k.id]:""}))},placeholder:`Enter ${k.label.toLowerCase()}`}),A&&a.jsx("p",{style:{fontSize:"12px",color:"#DC2626",marginTop:"6px"},children:A})]},k.id)})]}),a.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid var(--neuron-ui-border)",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[a.jsx(Pe,{variant:"outline",onClick:t,disabled:g,children:"Cancel"}),a.jsx(Pe,{onClick:C,disabled:g,style:{background:"var(--neuron-brand-green)",color:"#fff"},children:g?"Saving...":"Save Details"})]})]})}):null}function MW({unit:e,onBack:t,onUpdateUnit:r,organizationId:n,unitLabel:i,customerLabel:s,projectLabel:l}){var Wt,Tt,dr;const[u,d]=j.useState(!1),[f,p]=j.useState(null),[h,g]=j.useState(!1),[v,w]=j.useState([]),[b,x]=j.useState({}),[S,C]=j.useState(!1),[k,E]=j.useState(0),[_,A]=j.useState([]),[P,T]=j.useState(!1),[M,R]=j.useState(null),[D,q]=j.useState(null),[F,$]=j.useState(0),{payments:L}=Ih(e.id),[B,Z]=j.useState([]),[z,te]=j.useState(!1),[re,V]=j.useState(null),[X,le]=j.useState([]),[ce,Se]=j.useState(!1),[xe,ye]=j.useState(null),[Ae,G]=j.useState(""),[ue,ee]=j.useState(""),[W,Y]=j.useState("medium"),[se,me]=j.useState("open"),we=j.useMemo(()=>[{label:"Final inspection completed",is_required:!0,order_index:1},{label:"Homeowners orientation scheduled",is_required:!0,order_index:2},{label:"Keys and access cards released",is_required:!0,order_index:3},{label:"Utility accounts activated",is_required:!0,order_index:4},{label:"Punchlist items closed",is_required:!0,order_index:5},{label:"Move-in documents signed",is_required:!0,order_index:6}],[]),ve=j.useMemo(()=>v.reduce((he,Be)=>(he[Be.field_key]=Be.label,he),{}),[v]);j.useEffect(()=>{if(!n)return;(async()=>{const{data:Be,error:Ye}=await pe.from("entity_fields").select("id,field_key,label,data_type,order_index,is_required").eq("organization_id",n).eq("entity_type","unit").eq("is_active",!0).order("order_index",{ascending:!0});if(Ye){w([]);return}w(Be??[]);const{data:de,error:qe}=await pe.from("entity_values").select("field_id,value").eq("organization_id",n).eq("entity_type","unit").eq("entity_id",e.id);if(qe){x({});return}const Te=(de??[]).reduce((He,Xe)=>(He[Xe.field_id]=Xe.value,He),{});x(Te)})()},[n,e.id,k]),j.useEffect(()=>{if(!n)return;let he=!0;return(async()=>{try{T(!0),R(null);const{data:Ye,error:de}=await pe.from("payment_intents").select("id,amount,status,created_at,metadata,payment_id,approved_by,approved_at").eq("unit_id",e.id).order("created_at",{ascending:!1});if(de)throw de;if(!he)return;A(Ye??[])}catch{if(!he)return;R("Unable to load payment requests.")}finally{he&&T(!1)}})(),()=>{he=!1}},[n,e.id,F]),j.useEffect(()=>{if(!n)return;let he=!0;return(async()=>{try{te(!0),V(null);const{data:Ye,error:de}=await pe.from("move_in_checklist_items").select("id,label,is_required,is_completed,completed_at,completed_by,order_index").eq("organization_id",n).eq("unit_id",e.id).order("order_index",{ascending:!0});if(de)throw de;if(!he)return;if((Ye??[]).length===0){const{error:qe}=await pe.from("move_in_checklist_items").insert(we.map(Xe=>({organization_id:n,unit_id:e.id,label:Xe.label,is_required:Xe.is_required,order_index:Xe.order_index})));if(qe)throw qe;const{data:Te,error:He}=await pe.from("move_in_checklist_items").select("id,label,is_required,is_completed,completed_at,completed_by,order_index").eq("organization_id",n).eq("unit_id",e.id).order("order_index",{ascending:!0});if(He)throw He;if(!he)return;Z(Te??[])}else Z(Ye??[])}catch{if(!he)return;V("Unable to load move-in checklist.")}finally{he&&te(!1)}})(),()=>{he=!1}},[we,n,e.id]),j.useEffect(()=>{if(!n)return;let he=!0;return(async()=>{try{Se(!0),ye(null);const{data:Ye,error:de}=await pe.from("unit_defects").select("id,title,description,status,severity,reported_at,resolved_at").eq("organization_id",n).eq("unit_id",e.id).order("reported_at",{ascending:!1});if(de)throw de;if(!he)return;le(Ye??[])}catch{if(!he)return;ye("Unable to load warranty items.")}finally{he&&Se(!1)}})(),()=>{he=!1}},[n,e.id]);const K=he=>he.toLowerCase().replace(/\s+/g,"_"),je=he=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(he),Q=async he=>{try{q(he);const{error:Be}=await pe.rpc("admin_approve_payment_intent",{p_intent_id:he});if(Be)throw Be;ie.success("Payment approved",{description:"The payment has been logged and applied to the schedule."}),$(Ye=>Ye+1),r==null||r(e)}catch(Be){ie.error("Approval failed",{description:Be instanceof Error?Be.message:"Please try again."})}finally{q(null)}},ke=async he=>{var qe;const{data:Be}=await pe.auth.getUser(),Ye=ss(),{error:de}=await pe.rpc("record_payment",{p_unit_id:e.id,p_amount:he.amount,p_payment_date:he.paymentDate,p_payment_method:K(he.paymentMethod),p_reference_number:he.referenceNumber,p_notes:he.notes,p_recorded_by:((qe=Be==null?void 0:Be.user)==null?void 0:qe.id)??null,p_as_of_date:Ye});if(de)throw de;r==null||r(e)},Oe=he=>{p(he),g(!0)},$e=!!(e.paymentTerms&&e.paymentTerms.totalMonths),Fe=j.useMemo(()=>{const he=[];return L.forEach(Be=>{he.push({id:`payment-${Be.id}`,date:Be.date,title:"Payment recorded",detail:`${je(Be.amount)}  ${Be.method}  ${Be.referenceNumber}`,tone:"success"})}),_.forEach(Be=>{const Ye=Be.metadata??{},de=Ye.payment_method??"manual",qe=Ye.reference_number??"N/A",Te=Be.status??"pending",He=new Date(Be.created_at),Xe=Be.approved_at?new Date(Be.approved_at):null;if(Te==="approved"&&Xe){he.push({id:`intent-approved-${Be.id}`,date:Xe,title:"Payment request approved",detail:`${je(Be.amount)}  ${de}  ${qe}`,tone:"success"});return}if(Te==="voided"){he.push({id:`intent-voided-${Be.id}`,date:Xe??He,title:"Payment request rejected",detail:`${je(Be.amount)}  ${de}  ${qe}`,tone:"warning"});return}if(Te==="superseded"){he.push({id:`intent-superseded-${Be.id}`,date:Xe??He,title:"Payment request superseded",detail:`${je(Be.amount)}  ${de}  ${qe}`,tone:"warning"});return}he.push({id:`intent-${Be.id}`,date:He,title:"Payment request submitted",detail:`${je(Be.amount)}  ${de}  ${qe}`,tone:"info"})}),he.sort((Be,Ye)=>Ye.date.getTime()-Be.date.getTime())},[_,L]),ct=j.useMemo(()=>v.map(he=>{const Be=b[he.id];return{...he,value:Be}}),[v,b]),ut=j.useMemo(()=>_.filter(he=>he.status==="pending"||he.status==="pending_verification"),[_]),_t=he=>he==null||he===""?"":typeof he=="number"?he.toLocaleString("en-PH"):typeof he=="boolean"?he?"Yes":"No":Array.isArray(he)?he.join(", "):typeof he=="object"?JSON.stringify(he):String(he),mt=ve.monthly_amount??"Recurring Amount",Ge=ve.next_due_date??"Next Due",it=B.filter(he=>he.is_completed).length,wt=B.filter(he=>he.is_required).length,Pt=B.filter(he=>he.is_required&&he.is_completed).length,dt=wt>0?Math.round(Pt/wt*100):0,sr=async()=>{var Be;if(!n){ie.error("Organization not found. Please sign in again.");return}const he=Ae.trim();if(!he){ie.error("Add a defect title");return}try{Se(!0);const{data:Ye}=await pe.auth.getUser(),de=((Be=Ye==null?void 0:Ye.user)==null?void 0:Be.id)??null,{error:qe}=await pe.from("unit_defects").insert({organization_id:n,unit_id:e.id,reported_by:de,title:he,description:ue.trim()||null,severity:W,status:se,reported_at:new Date().toISOString()});if(qe)throw qe;G(""),ee(""),Y("medium"),me("open");const{data:Te,error:He}=await pe.from("unit_defects").select("id,title,description,status,severity,reported_at,resolved_at").eq("organization_id",n).eq("unit_id",e.id).order("reported_at",{ascending:!1});if(He)throw He;le(Te??[])}catch(Ye){ie.error("Unable to add warranty item",{description:Ye instanceof Error?Ye.message:"Please try again."})}finally{Se(!1)}},Kt=async(he,Be)=>{if(n)try{const Ye=Be==="resolved"?new Date().toISOString():null,{error:de}=await pe.from("unit_defects").update({status:Be,resolved_at:Ye,updated_at:new Date().toISOString()}).eq("id",he);if(de)throw de;le(qe=>qe.map(Te=>Te.id===he?{...Te,status:Be,resolved_at:Ye}:Te))}catch(Ye){ie.error("Unable to update defect status",{description:Ye instanceof Error?Ye.message:"Please try again."})}};return a.jsxs("div",{style:{padding:"32px 48px",maxWidth:"1200px",margin:"0 auto"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"32px"},children:[a.jsxs("div",{children:[a.jsx(Pe,{variant:"ghost",onClick:t,style:{marginBottom:"8px",marginLeft:"-16px",color:"var(--neuron-brand-green)",transition:"all 120ms ease-out"},children:" Back"}),a.jsxs("h1",{style:{fontSize:"28px",fontWeight:600,color:"var(--neuron-ink-primary)",letterSpacing:"-0.01em",lineHeight:"36px",marginBottom:"6px"},children:[i," ",e.blockLot]}),a.jsxs("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:[l,": ",e.project||""]})]}),a.jsx(Ze,{variant:"outline",style:{background:"var(--neuron-state-hover)",border:"none",color:"var(--neuron-ink-secondary)",borderRadius:"999px",padding:"8px 20px",fontSize:"14px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.02em"},children:e.status})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},children:[a.jsx(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",marginBottom:"8px",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.02em"},children:s}),a.jsx("p",{style:{fontWeight:600,color:"var(--neuron-ink-primary)",fontSize:"16px"},children:((Wt=e.buyer)==null?void 0:Wt.name)||""})]}),a.jsx(Zs,{size:20,style:{color:"var(--neuron-ink-muted)"}})]})}),a.jsx(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",marginBottom:"8px",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.02em"},children:mt}),a.jsx("p",{style:{fontWeight:600,color:"var(--neuron-ink-primary)",fontSize:"16px",fontVariantNumeric:"tabular-nums"},children:(Tt=e.paymentTerms)!=null&&Tt.monthlyAmount?`${e.paymentTerms.monthlyAmount.toLocaleString("en-PH")}`:""})]}),a.jsx(Yr,{size:20,style:{color:"var(--neuron-ink-muted)"}})]})}),a.jsx(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",marginBottom:"8px",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.02em"},children:Ge}),a.jsx("p",{style:{fontWeight:600,color:"var(--neuron-ink-primary)",fontSize:"16px"},children:(dr=e.paymentTerms)!=null&&dr.nextDueDate?new Date(e.paymentTerms.nextDueDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""})]}),a.jsx(Pn,{size:20,style:{color:"var(--neuron-ink-muted)"}})]})})]}),a.jsxs(Ne,{style:{padding:"24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px",marginBottom:"24px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[a.jsx(vl,{size:20,style:{color:"var(--neuron-brand-green)"}}),a.jsxs("h2",{style:{fontSize:"16px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:[i," Details"]})]}),a.jsx("div",{style:{marginBottom:"16px"},children:a.jsx(Pe,{variant:"outline",onClick:()=>C(!0),children:"Edit Details"})}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[ct.length===0&&a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:"No custom fields configured."}),ct.map(he=>a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.02em",marginBottom:"6px"},children:he.label}),a.jsx("p",{style:{fontSize:"15px",fontWeight:500,color:"var(--neuron-ink-primary)"},children:_t(he.value)})]},he.id))]})]}),$e&&a.jsx("div",{style:{marginBottom:"24px"},children:a.jsx(NW,{unit:e,onRecordPayment:()=>{d(!0)}})}),a.jsxs(Ne,{style:{padding:"24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px",marginBottom:"24px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px",marginBottom:"16px"},children:[a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"16px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:"Move-in Readiness Checklist"}),a.jsxs("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)"},children:[it," completed  ",Math.max(wt-Pt,0)," required remaining"]})]}),a.jsxs(Ze,{className:dt>=80?"bg-green-50 text-green-700 border-green-200":"bg-amber-50 text-amber-700 border-amber-200",children:[dt,"% ready"]})]}),z?a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:"Loading checklist..."}):re?a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-state-error)"},children:re}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:B.map(he=>a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px",padding:"10px 12px",borderRadius:"10px",border:"1px solid var(--neuron-ui-border)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx(_p,{checked:he.is_completed,onCheckedChange:async Be=>{var Te;const{data:Ye}=await pe.auth.getUser(),de=((Te=Ye==null?void 0:Ye.user)==null?void 0:Te.id)??null,{error:qe}=await pe.from("move_in_checklist_items").update({is_completed:!!Be,completed_at:Be?new Date().toISOString():null,completed_by:Be?de:null,updated_at:new Date().toISOString()}).eq("id",he.id);if(qe){ie.error("Unable to update checklist item",{description:qe.message});return}Z(He=>He.map(Xe=>Xe.id===he.id?{...Xe,is_completed:!!Be,completed_at:Be?new Date().toISOString():null,completed_by:Be?de:null}:Xe))}}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"14px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:he.label}),a.jsxs("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)"},children:[he.is_required?"Required":"Optional",he.completed_at?`  Completed ${new Date(he.completed_at).toLocaleDateString("en-US")}`:""]})]})]}),he.is_required&&a.jsx(Ze,{variant:"outline",className:"border-amber-200 text-amber-700 bg-amber-50",children:"Required"})]},he.id))})]}),a.jsxs(Ne,{style:{padding:"24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px",marginBottom:"24px"},children:[a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px",marginBottom:"16px"},children:a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"16px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:"Warranty & Defect Tracking"}),a.jsxs("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)"},children:[X.length," items  ",X.filter(he=>he.status!=="resolved").length," open"]})]})}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(220px, 1.4fr) repeat(2, minmax(140px, 1fr))",gap:"12px",marginBottom:"16px"},children:[a.jsx(Ke,{placeholder:"Defect title",value:Ae,onChange:he=>G(he.target.value)}),a.jsxs(Ft,{value:W,onValueChange:Y,children:[a.jsx(zt,{children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"low",children:"Low severity"}),a.jsx(Ie,{value:"medium",children:"Medium severity"}),a.jsx(Ie,{value:"high",children:"High severity"})]})]}),a.jsxs(Ft,{value:se,onValueChange:me,children:[a.jsx(zt,{children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"open",children:"Open"}),a.jsx(Ie,{value:"in_progress",children:"In progress"}),a.jsx(Ie,{value:"resolved",children:"Resolved"})]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"20px"},children:[a.jsx(qi,{placeholder:"Add details (location, issue, repair needed)",value:ue,onChange:he=>ee(he.target.value)}),a.jsx(Pe,{onClick:sr,disabled:ce,style:{height:"40px"},children:ce?"Saving...":"Add Defect"})]}),ce?a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:"Loading warranty items..."}):xe?a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-state-error)"},children:xe}):X.length===0?a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:"No warranty items logged for this unit."}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:X.map(he=>{const Be=he.severity==="high"?"bg-red-50 text-red-700 border-red-200":he.severity==="medium"?"bg-amber-50 text-amber-700 border-amber-200":"bg-green-50 text-green-700 border-green-200";return a.jsxs("div",{style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"12px",padding:"12px 14px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"14px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:he.title}),a.jsxs("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)"},children:["Reported ",new Date(he.reported_at).toLocaleDateString("en-US"),he.resolved_at?`  Resolved ${new Date(he.resolved_at).toLocaleDateString("en-US")}`:""]})]}),a.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[a.jsx(Ze,{className:Be,children:he.severity.replace("_"," ")}),a.jsxs(Ft,{value:he.status,onValueChange:Ye=>Kt(he.id,Ye),children:[a.jsx(zt,{className:"h-8",children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"open",children:"Open"}),a.jsx(Ie,{value:"in_progress",children:"In progress"}),a.jsx(Ie,{value:"resolved",children:"Resolved"})]})]})]})]}),he.description&&a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-secondary)",marginTop:"8px"},children:he.description})]},he.id)})})]}),(P||M||ut.length>0)&&a.jsxs(Ne,{style:{padding:"24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px",marginBottom:"24px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[a.jsx(Yr,{size:20,style:{color:"var(--neuron-brand-green)"}}),a.jsx("h2",{style:{fontSize:"16px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:"Pending Payment Requests"})]}),P?a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:"Loading payment requests..."}):M?a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-state-error)"},children:M}):ut.length===0?a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:"No pending payment requests."}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:ut.map(he=>{const Be=he.metadata??{},Ye=Be.payment_method??"manual",de=Be.reference_number,qe=Be.receipt_url,Te=Be.notes,He=Be.month_names,Xe=Be.month_numbers,Et=He!=null&&He.length?He.join(", "):Xe!=null&&Xe.length?Xe.join(", "):null;return a.jsxs("div",{style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"10px",padding:"16px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"12px",marginBottom:"10px"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"14px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:je(he.amount)}),a.jsxs("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)"},children:["Submitted ",new Date(he.created_at).toLocaleString("en-US")]})]}),a.jsx(Ze,{variant:"outline",children:"Pending Verification"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"12px",marginBottom:"12px"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:"Method"}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:Ye})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:"Reference"}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:de||""})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:"Receipt Link"}),qe?a.jsx("a",{href:qe,target:"_blank",rel:"noreferrer",style:{fontSize:"13px",color:"var(--neuron-brand-green)"},children:"View receipt"}):a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:""})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:"Notes"}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:Te||""})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:"Schedule Months"}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:Et||""})]})]}),a.jsx(Pe,{variant:"outline",onClick:()=>Q(he.id),disabled:D===he.id,children:D===he.id?"Approving...":"Approve Payment"})]},he.id)})})]}),$e&&a.jsx("div",{style:{marginBottom:"24px"},children:a.jsx(CW,{unitId:e.id,onViewDetail:Oe})}),a.jsxs(Ne,{style:{padding:"24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px",marginBottom:"24px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[a.jsx(vl,{size:20,style:{color:"var(--neuron-brand-green)"}}),a.jsx("h2",{style:{fontSize:"16px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:"Timeline Log"})]}),Fe.length===0?a.jsxs("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:["No activity logged yet for this ",i.toLowerCase(),"."]}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Fe.map(he=>{const Be=he.tone==="success"?"#16A34A":he.tone==="warning"?"#D97706":"var(--neuron-ink-muted)",Ye=he.tone==="success"?"#DCFCE7":he.tone==="warning"?"#FEF3C7":"var(--neuron-bg-page)";return a.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start"},children:[a.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"999px",marginTop:"8px",background:Be}}),a.jsxs("div",{style:{flex:1},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[a.jsx("p",{style:{fontSize:"14px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:he.title}),a.jsx("span",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)"},children:he.date.toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),a.jsx("div",{style:{marginTop:"6px",padding:"8px 12px",borderRadius:"8px",background:Ye,fontSize:"13px",color:"var(--neuron-ink-secondary)"},children:he.detail})]})]},he.id)})})]}),a.jsx("div",{style:{display:"flex",gap:"12px"},children:$e&&a.jsx(Pe,{"data-tour-target":"log-payment-button",style:{flex:1,background:"var(--neuron-brand-green)",color:"white",border:"none",borderRadius:"8px",height:"40px",transition:"all 120ms ease-out"},onClick:()=>d(!0),children:"Log Payment"})}),a.jsx(kW,{isOpen:u,onClose:()=>d(!1),onPaymentRecorded:ke,unit:e}),a.jsx(TW,{isOpen:h,onClose:()=>g(!1),payment:f}),a.jsx(RW,{isOpen:S,onClose:()=>C(!1),organizationId:n,unitId:e.id,unitLabel:i,onSaved:()=>{E(he=>he+1),C(!1)}})]})}function DW({onViewUnit:e,onBack:t,units:r,statusOptions:n,unitLabelPlural:i,unitLabel:s,customerLabel:l,organizationId:u,selectedProject:d,projectOptions:f}){const[p,h]=j.useState(""),[g,v]=j.useState("All"),[w,b]=j.useState("All Projects"),[x,S]=j.useState("All Phases"),[C,k]=j.useState("All"),[E,_]=j.useState(new Set),[A,P]=j.useState(""),[T,M]=j.useState(!1),[R,D]=j.useState({delayed:0,inProgress:0,planned:0,completed:0}),[q,F]=j.useState(!1),$=j.useMemo(()=>{var Q;return d==="All Projects"?null:((Q=f.find(ke=>ke.name===d))==null?void 0:Q.id)??null},[f,d]);j.useEffect(()=>{if(d==="All Projects"){b("All Projects");return}b(d)},[d]),j.useEffect(()=>{(async()=>{if(!u){D({delayed:0,inProgress:0,planned:0,completed:0});return}try{F(!0);let ke=pe.from("project_milestones").select("status").eq("organization_id",u);$&&(ke=ke.eq("project_id",$));const{data:Oe,error:$e}=await ke;if($e)throw $e;const Fe={delayed:0,inProgress:0,planned:0,completed:0};(Oe??[]).forEach(ct=>{const ut=(ct.status??"").toLowerCase();ut==="delayed"?Fe.delayed+=1:ut==="in_progress"?Fe.inProgress+=1:ut==="completed"?Fe.completed+=1:Fe.planned+=1}),D(Fe)}catch{D({delayed:0,inProgress:0,planned:0,completed:0})}finally{F(!1)}})()},[u,$]);const L=(Q,ke)=>n.find($e=>$e.toLowerCase().includes(Q))??ke,B={critical:L("critical","Critical"),overdue:L("overdue","Overdue"),atRisk:L("risk","At Risk")},Z=Q=>{var $e;const ke=(($e=Q.paymentTerms)==null?void 0:$e.daysLate)??0;if(ke>60)return{key:"critical",label:B.critical};if(ke>30)return{key:"overdue",label:B.overdue};if(ke>0)return{key:"at_risk",label:B.atRisk};const Oe=Q.status.toLowerCase();return Oe.includes("critical")?{key:"critical",label:B.critical}:Oe.includes("overdue")?{key:"overdue",label:B.overdue}:Oe.includes("risk")?{key:"at_risk",label:B.atRisk}:null},z=r.map(Q=>({unit:Q,risk:Z(Q)})).filter(Q=>Q.risk!==null),te=j.useMemo(()=>["All Projects",...f.map(ke=>ke.name)],[f]),re=j.useMemo(()=>["All Phases",...Array.from(new Set(r.map(ke=>ke.phase).filter(Boolean)))],[r]),V=Q=>{switch(C){case"1-30":return Q>=1&&Q<=30;case"31-60":return Q>=31&&Q<=60;case"61-90":return Q>=61&&Q<=90;case"90+":return Q>=91;default:return!0}},le=[...z.filter(({unit:Q,risk:ke})=>{var _t,mt,Ge;const Oe=Q.blockLot.toLowerCase().includes(p.toLowerCase())||(((mt=(_t=Q.buyer)==null?void 0:_t.name)==null?void 0:mt.toLowerCase().includes(p.toLowerCase()))??!1),$e=g==="All"||(ke==null?void 0:ke.label)===g,Fe=w==="All Projects"||Q.project===w,ct=x==="All Phases"||Q.phase===x,ut=V(((Ge=Q.paymentTerms)==null?void 0:Ge.daysLate)??0);return Oe&&$e&&Fe&&ct&&ut})].sort((Q,ke)=>{var ct,ut;const Oe=["critical","overdue","at_risk"],$e=Oe.indexOf(((ct=Q.risk)==null?void 0:ct.key)??"at_risk"),Fe=Oe.indexOf(((ut=ke.risk)==null?void 0:ut.key)??"at_risk");return $e-Fe}),ce=Q=>{switch(Q){case"critical":return"#DC2626";case"overdue":return"#EA580C";case"at_risk":return"#D97706";default:return"var(--neuron-ink-muted)"}},Se=Q=>{switch(Q){case"critical":return"#FEE2E2";case"overdue":return"#FED7AA";case"at_risk":return"#FEF3C7";default:return"var(--neuron-state-hover)"}},xe=Q=>{switch(Q){case"critical":return"";case"overdue":return"";case"at_risk":return"";default:return""}},ye=Array.from(new Set([B.critical,B.overdue,B.atRisk]));j.useEffect(()=>{_(Q=>{const ke=new Set,Oe=new Set(le.map(({unit:$e})=>$e.id));return Q.forEach($e=>{Oe.has($e)&&ke.add($e)}),ke})},[le]);const Ae=z.filter(({risk:Q})=>(Q==null?void 0:Q.key)==="critical").length,G=z.filter(({risk:Q})=>(Q==null?void 0:Q.key)==="overdue").length,ue=z.filter(({risk:Q})=>(Q==null?void 0:Q.key)==="at_risk").length,ee=z.reduce((Q,{unit:ke})=>{var Oe;return Q+(((Oe=ke.paymentTerms)==null?void 0:Oe.arrears)||0)},0),W=r.filter(Q=>Q.buyer!==null).length,Y=()=>{if(le.length===0){ie.error("No data to export",{description:"Adjust filters or add overdue accounts first."});return}const Q=["project","unit","customer","status","days_late","arrears","next_due_date","last_payment_date"],ke=le.map(({unit:ut,risk:_t})=>{var it,wt,Pt,dt,sr;const mt=((it=ut.paymentTerms)==null?void 0:it.nextDueDate)??"",Ge=((wt=ut.propertyManagement)==null?void 0:wt.lastPaymentDate)??"";return[ut.project??"",ut.blockLot??"",((Pt=ut.buyer)==null?void 0:Pt.name)??"",(_t==null?void 0:_t.label)??ut.status,((dt=ut.paymentTerms)==null?void 0:dt.daysLate)??0,((sr=ut.paymentTerms)==null?void 0:sr.arrears)??0,mt,Ge]}),Oe=[Q,...ke].map(ut=>ut.map(_t=>`"${String(_t).replace(/"/g,'""')}"`).join(",")).join(`
`),$e=new Blob([Oe],{type:"text/csv"}),Fe=URL.createObjectURL($e),ct=document.createElement("a");ct.href=Fe,ct.download="collections_report.csv",ct.click(),URL.revokeObjectURL(Fe)},se=()=>le.filter(({unit:Q})=>E.has(Q.id)),me=async(Q,ke)=>{var $e;if(!u){ie.error("Organization not found. Please sign in again.");return}const Oe=se();if(Oe.length===0){ie.error("Select accounts to process",{description:"Choose units in the queue before sending reminders."});return}M(!0),ie.message("Queuing reminders...",{description:`Preparing ${Oe.length} ${l.toLowerCase()} messages.`});try{const{data:Fe}=await pe.auth.getUser(),ct=(($e=Fe==null?void 0:Fe.user)==null?void 0:$e.id)??null,ut=Oe.map(({unit:mt,risk:Ge})=>{var wt,Pt;if(!((wt=mt.buyer)!=null&&wt.id))return null;const it=((Pt=mt.paymentTerms)==null?void 0:Pt.daysLate)??0;return{organization_id:u,unit_id:mt.id,customer_id:mt.buyer.id,created_by:ct,type:Q,subject:`${ke} - ${mt.blockLot}`,message:`Status: ${(Ge==null?void 0:Ge.label)??mt.status}. Days late: ${it}.`,status:"pending"}}).filter(Boolean);if(ut.length===0){ie.error("No customer records found for selected accounts.");return}const{error:_t}=await pe.from("communications").insert(ut);if(_t)throw _t;ie.success("Communications queued",{description:`${ut.length} ${l.toLowerCase()} reminders queued.`})}catch(Fe){ie.error("Failed to queue communications",{description:Fe instanceof Error?Fe.message:"Please try again."})}finally{M(!1)}},we=async(Q,ke)=>{var Fe;if(!u){ie.error("Organization not found. Please sign in again.");return}const Oe=se();if(Oe.length===0){ie.error("Select accounts to process",{description:"Choose units in the queue before logging activity."});return}const $e=ke.trim();if(!$e){ie.error("Add a note first",{description:"Provide a short summary before logging activity."});return}M(!0);try{const{data:ct}=await pe.auth.getUser(),ut=((Fe=ct==null?void 0:ct.user)==null?void 0:Fe.id)??null,_t=Oe.map(({unit:Ge,risk:it})=>{var wt,Pt;return{organization_id:u,user_id:ut,action:Q,entity_type:"unit",entity_id:Ge.id,changes:{note:$e,risk:(it==null?void 0:it.label)??Ge.status,days_late:((wt=Ge.paymentTerms)==null?void 0:wt.daysLate)??0,arrears:((Pt=Ge.paymentTerms)==null?void 0:Pt.arrears)??0}}}),{error:mt}=await pe.from("activity_logs").insert(_t);if(mt)throw mt;ie.success("Activity logged",{description:`${_t.length} ${i.toLowerCase()} updated.`}),P("")}catch(ct){ie.error("Unable to log activity",{description:ct instanceof Error?ct.message:"Please try again."})}finally{M(!1)}},ve=le.length>0&&le.every(({unit:Q})=>E.has(Q.id)),K=le.some(({unit:Q})=>E.has(Q.id))&&!ve,je=E.size;return a.jsxs("div",{style:{padding:"24px 32px",maxWidth:"1600px",margin:"0 auto"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",marginBottom:"16px"},children:[a.jsx(Ne,{style:{padding:"20px 24px",background:"#FEE2E2",border:"1px solid #FCA5A5",borderRadius:"12px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("p",{style:{fontSize:"12px",fontWeight:600,color:"#DC2626",textTransform:"uppercase",letterSpacing:"0.02em",lineHeight:"18px",marginBottom:"12px"},children:B.critical}),a.jsx("p",{style:{fontSize:"32px",fontWeight:700,color:"#DC2626",lineHeight:"40px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:Ae}),a.jsx("p",{style:{fontSize:"11px",color:"#DC2626",marginTop:"8px",lineHeight:"16.5px"},children:"Immediate action required"})]}),a.jsx(ln,{size:20,style:{color:"#DC2626"}})]})}),a.jsx(Ne,{style:{padding:"20px 24px",background:"#FED7AA",border:"1px solid #FDBA74",borderRadius:"12px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("p",{style:{fontSize:"12px",fontWeight:600,color:"#EA580C",textTransform:"uppercase",letterSpacing:"0.02em",lineHeight:"18px",marginBottom:"12px"},children:B.overdue}),a.jsx("p",{style:{fontSize:"32px",fontWeight:700,color:"#EA580C",lineHeight:"40px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:G}),a.jsx("p",{style:{fontSize:"11px",color:"#EA580C",marginTop:"8px",lineHeight:"16.5px"},children:"30+ days late"})]}),a.jsx(ln,{size:20,style:{color:"#EA580C"}})]})}),a.jsx(Ne,{style:{padding:"20px 24px",background:"#FEF3C7",border:"1px solid #FDE68A",borderRadius:"12px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("p",{style:{fontSize:"12px",fontWeight:600,color:"#D97706",textTransform:"uppercase",letterSpacing:"0.02em",lineHeight:"18px",marginBottom:"12px"},children:B.atRisk}),a.jsx("p",{style:{fontSize:"32px",fontWeight:700,color:"#D97706",lineHeight:"40px",letterSpacing:"-0.015em",fontVariantNumeric:"tabular-nums"},children:ue}),a.jsx("p",{style:{fontSize:"11px",color:"#D97706",marginTop:"8px",lineHeight:"16.5px"},children:"Early warning"})]}),a.jsx(ln,{size:20,style:{color:"#D97706"}})]})}),a.jsx(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px"},children:a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"12px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.02em",lineHeight:"18px",marginBottom:"12px"},children:"Total Arrears"}),a.jsxs("p",{style:{fontSize:"28px",fontWeight:700,color:"var(--neuron-ink-primary)",lineHeight:"36px",letterSpacing:"-0.01em",fontVariantNumeric:"tabular-nums"},children:["",ee.toLocaleString("en-PH")]}),a.jsx("p",{style:{fontSize:"11px",color:"var(--neuron-ink-muted)",marginTop:"8px",lineHeight:"16.5px"},children:"Amount at risk"})]})})]}),a.jsxs(Ne,{style:{padding:"16px 20px",marginBottom:"16px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"14px",fontWeight:600,color:"#111827"},children:"Build Tracker Status"}),a.jsx("p",{style:{fontSize:"12px",color:"#6B7280"},children:d==="All Projects"?"All projects":d})]}),q?a.jsx(Ze,{className:"bg-gray-50 text-gray-600 border-gray-200",children:"Loading"}):a.jsx(Ze,{className:R.delayed>0?"bg-orange-50 text-orange-700 border-orange-200":"bg-green-50 text-green-700 border-green-200",children:R.delayed>0?`${R.delayed} delayed milestone${R.delayed>1?"s":""}`:"On track"})]}),!q&&a.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"12px",fontSize:"12px",color:"#6B7280"},children:[a.jsxs("span",{children:[R.inProgress," in progress"]}),a.jsxs("span",{children:[R.planned," planned"]}),a.jsxs("span",{children:[R.completed," completed"]})]})]}),a.jsx(Ne,{style:{padding:"16px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px",marginBottom:"16px"},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(220px, 1.4fr) repeat(4, minmax(160px, 1fr))",gap:"12px"},children:[a.jsxs("div",{style:{flex:1,position:"relative"},children:[a.jsx(si,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--neuron-ink-muted)",pointerEvents:"none"}}),a.jsx(Ke,{placeholder:`Search by ${s.toLowerCase()} or ${l.toLowerCase()}...`,value:p,onChange:Q=>h(Q.target.value),style:{paddingLeft:"40px",border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"40px"}})]}),a.jsxs(Ft,{value:g,onValueChange:v,children:[a.jsx(zt,{style:{width:"200px",border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"40px"},children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"All",children:"All Status"}),ye.map(Q=>a.jsx(Ie,{value:Q,children:Q},Q))]})]}),a.jsxs(Ft,{value:w,onValueChange:b,children:[a.jsx(zt,{style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"40px"},children:a.jsx(Bt,{})}),a.jsx(Ut,{children:te.map(Q=>a.jsx(Ie,{value:Q,children:Q},Q))})]}),a.jsxs(Ft,{value:x,onValueChange:S,children:[a.jsx(zt,{style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"40px"},children:a.jsx(Bt,{})}),a.jsx(Ut,{children:re.map(Q=>a.jsx(Ie,{value:Q,children:Q},Q))})]}),a.jsxs(Ft,{value:C,onValueChange:k,children:[a.jsx(zt,{style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"40px"},children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"All",children:"All Days Late"}),a.jsx(Ie,{value:"1-30",children:"1-30 days"}),a.jsx(Ie,{value:"31-60",children:"31-60 days"}),a.jsx(Ie,{value:"61-90",children:"61-90 days"}),a.jsx(Ie,{value:"90+",children:"90+ days"})]})]})]})}),a.jsx(Ne,{style:{padding:"16px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px",marginBottom:"16px"},children:a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"13px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:"Queue Actions"}),a.jsxs("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)"},children:[je," selected  ",le.length," in queue"]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[a.jsx(Ke,{placeholder:"Optional note or call summary",value:A,onChange:Q=>P(Q.target.value),style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"8px",height:"38px",minWidth:"220px"}}),a.jsx(Pe,{variant:"outline",disabled:T,onClick:()=>we("collection_call_logged",A),children:"Log Call"}),a.jsx(Pe,{variant:"outline",disabled:T,onClick:()=>we("collection_note_added",A),children:"Add Note"}),a.jsx(Pe,{variant:"outline",disabled:T,onClick:()=>me("payment_reminder","Payment Reminder"),children:"Send Reminder"}),a.jsx(Pe,{variant:"outline",disabled:T,onClick:()=>me("follow_up","Follow-up Required"),children:"Schedule Follow-up"})]})]})}),a.jsx(Ne,{style:{background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px",overflow:"hidden"},children:a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"var(--neuron-bg-page)",borderBottom:"1px solid var(--neuron-ui-border)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:"16.5px"},children:"Status"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:"16.5px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(_p,{checked:ve?!0:K?"indeterminate":!1,onCheckedChange:Q=>{_(Q?new Set(le.map(({unit:ke})=>ke.id)):new Set)},onClick:Q=>Q.stopPropagation()}),"Select"]})}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:"16.5px"},children:"Unit"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:"16.5px"},children:l}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:"16.5px"},children:"Days Late"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:"16.5px"},children:"Arrears"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:"16.5px"},children:"Next Due"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:"16.5px"},children:"Last Contact"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"11px",fontWeight:600,color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.5px",lineHeight:"16.5px"},children:"Action"})]})}),a.jsx("tbody",{children:le.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,style:{padding:"48px 24px",textAlign:"center",color:"var(--neuron-ink-muted)",fontSize:"14px",lineHeight:"21px"},children:W>0?`No delinquent accounts. ${W} ${i.toLowerCase()} are current.`:"No units found matching your filters"})}):le.map(({unit:Q,risk:ke})=>{var Oe,$e,Fe,ct,ut,_t,mt,Ge;return a.jsxs("tr",{onClick:()=>e(Q),style:{borderBottom:"1px solid var(--neuron-ui-divider)",cursor:"pointer",transition:"background 120ms ease-out"},onMouseOver:it=>it.currentTarget.style.background="var(--neuron-state-hover)",onMouseOut:it=>it.currentTarget.style.background="transparent",children:[a.jsx("td",{style:{padding:"16px"},children:a.jsxs(Ze,{variant:"outline",style:{background:Se((ke==null?void 0:ke.key)??"at_risk"),border:"none",color:ce((ke==null?void 0:ke.key)??"at_risk"),borderRadius:"999px",padding:"4px 12px",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.02em"},children:[xe((ke==null?void 0:ke.key)??"at_risk")," ",(ke==null?void 0:ke.label)??Q.status]})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx(_p,{checked:E.has(Q.id),onCheckedChange:it=>{_(wt=>{const Pt=new Set(wt);return it?Pt.add(Q.id):Pt.delete(Q.id),Pt})},onClick:it=>it.stopPropagation()})}),a.jsx("td",{style:{padding:"16px"},children:a.jsxs("div",{children:[a.jsx("p",{style:{fontWeight:500,color:"var(--neuron-ink-primary)",fontSize:"14px",lineHeight:"21px"},children:Q.blockLot}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-muted)",lineHeight:"18px",marginTop:"2px"},children:Q.project})]})}),a.jsx("td",{style:{padding:"16px"},children:a.jsxs("div",{children:[a.jsx("p",{style:{fontWeight:500,color:"var(--neuron-ink-primary)",fontSize:"14px",lineHeight:"21px"},children:(Oe=Q.buyer)==null?void 0:Oe.name}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-muted)",lineHeight:"18px",marginTop:"2px"},children:($e=Q.buyer)==null?void 0:$e.contact})]})}),a.jsx("td",{style:{padding:"16px"},children:a.jsxs("span",{style:{fontWeight:600,fontSize:"14px",lineHeight:"21px",fontVariantNumeric:"tabular-nums",color:(((Fe=Q.paymentTerms)==null?void 0:Fe.daysLate)||0)>90?"#DC2626":(((ct=Q.paymentTerms)==null?void 0:ct.daysLate)||0)>30?"#EA580C":"#D97706"},children:[((ut=Q.paymentTerms)==null?void 0:ut.daysLate)||0," days"]})}),a.jsx("td",{style:{padding:"16px"},children:a.jsxs("span",{style:{fontWeight:600,color:"var(--neuron-ink-primary)",fontSize:"14px",lineHeight:"21px",fontVariantNumeric:"tabular-nums"},children:["",(((_t=Q.paymentTerms)==null?void 0:_t.arrears)||0).toLocaleString("en-PH")]})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{style:{fontSize:"14px",color:"var(--neuron-ink-secondary)",lineHeight:"21px"},children:(mt=Q.paymentTerms)!=null&&mt.nextDueDate?new Date(Q.paymentTerms.nextDueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"N/A"})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{style:{fontSize:"13px",color:"var(--neuron-ink-muted)",lineHeight:"18px"},children:(Ge=Q.propertyManagement)!=null&&Ge.lastPaymentDate?new Date(Q.propertyManagement.lastPaymentDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Never"})}),a.jsx("td",{style:{padding:"16px",textAlign:"right"},children:a.jsxs(Pe,{variant:"ghost",size:"sm",onClick:it=>{it.stopPropagation(),e(Q)},style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"6px 12px",color:"var(--neuron-brand-green)",transition:"all 120ms ease-out"},children:[a.jsx(bu,{size:16}),"View"]})})]},Q.id)})})]})})}),a.jsx("div",{style:{display:"flex",gap:"12px",marginTop:"24px"},children:a.jsx(Pe,{onClick:Y,style:{background:"var(--neuron-brand-green)",color:"white",border:"none",borderRadius:"8px",height:"40px",padding:"0 20px",transition:"all 120ms ease-out"},children:"Export Collections Report"})})]})}var Ey,kN;function En(){if(kN)return Ey;kN=1;var e=Array.isArray;return Ey=e,Ey}var Ay,NN;function lI(){if(NN)return Ay;NN=1;var e=typeof Of=="object"&&Of&&Of.Object===Object&&Of;return Ay=e,Ay}var Oy,CN;function Ji(){if(CN)return Oy;CN=1;var e=lI(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Oy=r,Oy}var Ty,PN;function hd(){if(PN)return Ty;PN=1;var e=Ji(),t=e.Symbol;return Ty=t,Ty}var Ry,EN;function IW(){if(EN)return Ry;EN=1;var e=hd(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(l){var u=r.call(l,i),d=l[i];try{l[i]=void 0;var f=!0}catch{}var p=n.call(l);return f&&(u?l[i]=d:delete l[i]),p}return Ry=s,Ry}var My,AN;function $W(){if(AN)return My;AN=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return My=r,My}var Dy,ON;function Sa(){if(ON)return Dy;ON=1;var e=hd(),t=IW(),r=$W(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:s&&s in Object(u)?t(u):r(u)}return Dy=l,Dy}var Iy,TN;function ka(){if(TN)return Iy;TN=1;function e(t){return t!=null&&typeof t=="object"}return Iy=e,Iy}var $y,RN;function rc(){if(RN)return $y;RN=1;var e=Sa(),t=ka(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return $y=n,$y}var Ly,MN;function mj(){if(MN)return Ly;MN=1;var e=En(),t=rc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,l){if(e(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||l!=null&&s in Object(l)}return Ly=i,Ly}var Fy,DN;function gs(){if(DN)return Fy;DN=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Fy=e,Fy}var By,IN;function gj(){if(IN)return By;IN=1;var e=Sa(),t=gs(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==n||d==i||d==r||d==s}return By=l,By}var zy,$N;function LW(){if($N)return zy;$N=1;var e=Ji(),t=e["__core-js_shared__"];return zy=t,zy}var Uy,LN;function FW(){if(LN)return Uy;LN=1;var e=LW(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Uy=r,Uy}var qy,FN;function cI(){if(FN)return qy;FN=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return qy=r,qy}var Wy,BN;function BW(){if(BN)return Wy;BN=1;var e=gj(),t=FW(),r=gs(),n=cI(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!r(g)||t(g))return!1;var v=e(g)?p:s;return v.test(n(g))}return Wy=h,Wy}var Hy,zN;function zW(){if(zN)return Hy;zN=1;function e(t,r){return t==null?void 0:t[r]}return Hy=e,Hy}var Vy,UN;function fo(){if(UN)return Vy;UN=1;var e=BW(),t=zW();function r(n,i){var s=t(n,i);return e(s)?s:void 0}return Vy=r,Vy}var Ky,qN;function $h(){if(qN)return Ky;qN=1;var e=fo(),t=e(Object,"create");return Ky=t,Ky}var Gy,WN;function UW(){if(WN)return Gy;WN=1;var e=$h();function t(){this.__data__=e?e(null):{},this.size=0}return Gy=t,Gy}var Yy,HN;function qW(){if(HN)return Yy;HN=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Yy=e,Yy}var Xy,VN;function WW(){if(VN)return Xy;VN=1;var e=$h(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var l=this.__data__;if(e){var u=l[s];return u===t?void 0:u}return n.call(l,s)?l[s]:void 0}return Xy=i,Xy}var Jy,KN;function HW(){if(KN)return Jy;KN=1;var e=$h(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return Jy=n,Jy}var Qy,GN;function VW(){if(GN)return Qy;GN=1;var e=$h(),t="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&i===void 0?t:i,this}return Qy=r,Qy}var Zy,YN;function KW(){if(YN)return Zy;YN=1;var e=UW(),t=qW(),r=WW(),n=HW(),i=VW();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Zy=s,Zy}var ev,XN;function GW(){if(XN)return ev;XN=1;function e(){this.__data__=[],this.size=0}return ev=e,ev}var tv,JN;function yj(){if(JN)return tv;JN=1;function e(t,r){return t===r||t!==t&&r!==r}return tv=e,tv}var rv,QN;function Lh(){if(QN)return rv;QN=1;var e=yj();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return rv=t,rv}var nv,ZN;function YW(){if(ZN)return nv;ZN=1;var e=Lh(),t=Array.prototype,r=t.splice;function n(i){var s=this.__data__,l=e(s,i);if(l<0)return!1;var u=s.length-1;return l==u?s.pop():r.call(s,l,1),--this.size,!0}return nv=n,nv}var iv,eC;function XW(){if(eC)return iv;eC=1;var e=Lh();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return iv=t,iv}var av,tC;function JW(){if(tC)return av;tC=1;var e=Lh();function t(r){return e(this.__data__,r)>-1}return av=t,av}var sv,rC;function QW(){if(rC)return sv;rC=1;var e=Lh();function t(r,n){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return sv=t,sv}var ov,nC;function Fh(){if(nC)return ov;nC=1;var e=GW(),t=YW(),r=XW(),n=JW(),i=QW();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,ov=s,ov}var lv,iC;function vj(){if(iC)return lv;iC=1;var e=fo(),t=Ji(),r=e(t,"Map");return lv=r,lv}var cv,aC;function ZW(){if(aC)return cv;aC=1;var e=KW(),t=Fh(),r=vj();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return cv=n,cv}var uv,sC;function eH(){if(sC)return uv;sC=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return uv=e,uv}var dv,oC;function Bh(){if(oC)return dv;oC=1;var e=eH();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return dv=t,dv}var fv,lC;function tH(){if(lC)return fv;lC=1;var e=Bh();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return fv=t,fv}var pv,cC;function rH(){if(cC)return pv;cC=1;var e=Bh();function t(r){return e(this,r).get(r)}return pv=t,pv}var hv,uC;function nH(){if(uC)return hv;uC=1;var e=Bh();function t(r){return e(this,r).has(r)}return hv=t,hv}var mv,dC;function iH(){if(dC)return mv;dC=1;var e=Bh();function t(r,n){var i=e(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return mv=t,mv}var gv,fC;function xj(){if(fC)return gv;fC=1;var e=ZW(),t=tH(),r=rH(),n=nH(),i=iH();function s(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,gv=s,gv}var yv,pC;function uI(){if(pC)return yv;pC=1;var e=xj(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=s.cache;if(d.has(u))return d.get(u);var f=n.apply(this,l);return s.cache=d.set(u,f)||d,f};return s.cache=new(r.Cache||e),s}return r.Cache=e,yv=r,yv}var vv,hC;function aH(){if(hC)return vv;hC=1;var e=uI(),t=500;function r(n){var i=e(n,function(l){return s.size===t&&s.clear(),l}),s=i.cache;return i}return vv=r,vv}var xv,mC;function sH(){if(mC)return xv;mC=1;var e=aH(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(l,u,d,f){s.push(d?f.replace(r,"$1"):u||l)}),s});return xv=n,xv}var bv,gC;function bj(){if(gC)return bv;gC=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return bv=e,bv}var wv,yC;function oH(){if(yC)return wv;yC=1;var e=hd(),t=bj(),r=En(),n=rc(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return s?s.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return wv=l,wv}var jv,vC;function dI(){if(vC)return jv;vC=1;var e=oH();function t(r){return r==null?"":e(r)}return jv=t,jv}var _v,xC;function fI(){if(xC)return _v;xC=1;var e=En(),t=mj(),r=sH(),n=dI();function i(s,l){return e(s)?s:t(s,l)?[s]:r(n(s))}return _v=i,_v}var Sv,bC;function zh(){if(bC)return Sv;bC=1;var e=rc();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Sv=t,Sv}var kv,wC;function wj(){if(wC)return kv;wC=1;var e=fI(),t=zh();function r(n,i){i=e(i,n);for(var s=0,l=i.length;n!=null&&s<l;)n=n[t(i[s++])];return s&&s==l?n:void 0}return kv=r,kv}var Nv,jC;function pI(){if(jC)return Nv;jC=1;var e=wj();function t(r,n,i){var s=r==null?void 0:e(r,n);return s===void 0?i:s}return Nv=t,Nv}var lH=pI();const Un=er(lH);var Cv,_C;function cH(){if(_C)return Cv;_C=1;function e(t){return t==null}return Cv=e,Cv}var uH=cH();const At=er(uH);var Pv,SC;function dH(){if(SC)return Pv;SC=1;var e=Sa(),t=En(),r=ka(),n="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return Pv=i,Pv}var fH=dH();const md=er(fH);var pH=gj();const Nt=er(pH);var hH=gs();const nc=er(hH);var Ev={exports:{}},nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC;function mH(){if(kC)return nr;kC=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function b(x){if(typeof x=="object"&&x!==null){var S=x.$$typeof;switch(S){case e:switch(x=x.type,x){case r:case i:case n:case f:case p:return x;default:switch(x=x&&x.$$typeof,x){case u:case l:case d:case g:case h:case s:return x;default:return S}}case t:return S}}}return nr.ContextConsumer=l,nr.ContextProvider=s,nr.Element=e,nr.ForwardRef=d,nr.Fragment=r,nr.Lazy=g,nr.Memo=h,nr.Portal=t,nr.Profiler=i,nr.StrictMode=n,nr.Suspense=f,nr.SuspenseList=p,nr.isAsyncMode=function(){return!1},nr.isConcurrentMode=function(){return!1},nr.isContextConsumer=function(x){return b(x)===l},nr.isContextProvider=function(x){return b(x)===s},nr.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},nr.isForwardRef=function(x){return b(x)===d},nr.isFragment=function(x){return b(x)===r},nr.isLazy=function(x){return b(x)===g},nr.isMemo=function(x){return b(x)===h},nr.isPortal=function(x){return b(x)===t},nr.isProfiler=function(x){return b(x)===i},nr.isStrictMode=function(x){return b(x)===n},nr.isSuspense=function(x){return b(x)===f},nr.isSuspenseList=function(x){return b(x)===p},nr.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===f||x===p||x===v||typeof x=="object"&&x!==null&&(x.$$typeof===g||x.$$typeof===h||x.$$typeof===s||x.$$typeof===l||x.$$typeof===d||x.$$typeof===w||x.getModuleId!==void 0)},nr.typeOf=b,nr}var NC;function gH(){return NC||(NC=1,Ev.exports=mH()),Ev.exports}var yH=gH(),Av,CC;function hI(){if(CC)return Av;CC=1;var e=Sa(),t=ka(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return Av=n,Av}var Ov,PC;function vH(){if(PC)return Ov;PC=1;var e=hI();function t(r){return e(r)&&r!=+r}return Ov=t,Ov}var xH=vH();const gd=er(xH);var bH=hI();const wH=er(bH);var pn=function(t){return t===0?0:t>0?1:-1},Us=function(t){return md(t)&&t.indexOf("%")===t.length-1},Ve=function(t){return wH(t)&&!gd(t)},Fr=function(t){return Ve(t)||md(t)},jH=0,ic=function(t){var r=++jH;return"".concat(t||"").concat(r)},hn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(t)&&!md(t))return n;var s;if(Us(t)){var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return gd(s)&&(s=n),i&&s>r&&(s=r),s},ns=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},_H=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Fn=function(t,r){return Ve(t)&&Ve(r)?function(n){return t+n*(r-t)}:function(){return r}};function kp(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Un(n,t))===r})}function dl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ow(e){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ow(e)}var SH=["viewBox","children"],kH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EC=["points","pathLength"],Tv={svg:SH,polygon:EC,polyline:EC},jj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Np=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!nc(n))return null;var i={};return Object.keys(n).forEach(function(s){jj.includes(s)&&(i[s]=r||function(l){return n[s](n,l)})}),i},NH=function(t,r,n){return function(i){return t(r,n,i),null}},io=function(t,r,n){if(!nc(t)||ow(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var l=t[s];jj.includes(s)&&typeof l=="function"&&(i||(i={}),i[s]=NH(l,r,n))}),i},CH=["children"],PH=["children"];function AC(e,t){if(e==null)return{};var r=EH(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lw(e){"@babel/helpers - typeof";return lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lw(e)}var OC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ha=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},TC=null,Rv=null,_j=function e(t){if(t===TC&&Array.isArray(Rv))return Rv;var r=[];return j.Children.forEach(t,function(n){At(n)||(yH.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Rv=r,TC=t,r};function qn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return ha(i)}):n=[ha(t)],_j(e).forEach(function(i){var s=Un(i,"type.displayName")||Un(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function $n(e,t){var r=qn(e,t);return r&&r[0]}var RC=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Ve(n)||n<=0||!Ve(i)||i<=0)},AH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],OH=function(t){return t&&t.type&&md(t.type)&&AH.indexOf(t.type)>=0},TH=function(t){return t&&lw(t)==="object"&&"clipDot"in t},RH=function(t,r,n,i){var s,l=(s=Tv==null?void 0:Tv[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Nt(t)&&(i&&l.includes(r)||kH.includes(r))||n&&jj.includes(r)},bt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(j.isValidElement(t)&&(i=t.props),!nc(i))return null;var s={};return Object.keys(i).forEach(function(l){var u;RH((u=i)===null||u===void 0?void 0:u[l],l,r,n)&&(s[l]=i[l])}),s},cw=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return MC(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],l=r[i];if(Array.isArray(s)||Array.isArray(l)){if(!e(s,l))return!1}else if(!MC(s,l))return!1}return!0},MC=function(t,r){if(At(t)&&At(r))return!0;if(!At(t)&&!At(r)){var n=t.props||{},i=n.children,s=AC(n,CH),l=r.props||{},u=l.children,d=AC(l,PH);return i&&u?dl(s,d)&&cw(i,u):!i&&!u?dl(s,d):!1}return!1},DC=function(t,r){var n=[],i={};return _j(t).forEach(function(s,l){if(OH(s))n.push(s);else if(s){var u=ha(s.type),d=r[u]||{},f=d.handler,p=d.once;if(f&&(!p||!i[u])){var h=f(s,u,l);n.push(h),i[u]=!0}}}),n},MH=function(t){var r=t&&t.type;return r&&OC[r]?OC[r]:null},DH=function(t,r){return _j(r).indexOf(t)},IH=["children","width","height","viewBox","className","style","title","desc"];function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(this,arguments)}function $H(e,t){if(e==null)return{};var r=LH(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dw(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,l=e.style,u=e.title,d=e.desc,f=$H(e,IH),p=i||{width:r,height:n,x:0,y:0},h=Ot("recharts-surface",s);return H.createElement("svg",uw({},bt(f,!0,"svg"),{className:h,width:r,height:n,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),H.createElement("title",null,u),H.createElement("desc",null,d),t)}var FH=["children","className"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(this,arguments)}function BH(e,t){if(e==null)return{};var r=zH(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Qt=H.forwardRef(function(e,t){var r=e.children,n=e.className,i=BH(e,FH),s=Ot("recharts-layer",n);return H.createElement("g",fw({className:s},bt(i,!0),{ref:t}),r)}),ki=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},Mv,IC;function UH(){if(IC)return Mv;IC=1;function e(t,r,n){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(s);++i<s;)l[i]=t[i+r];return l}return Mv=e,Mv}var Dv,$C;function qH(){if($C)return Dv;$C=1;var e=UH();function t(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:e(r,n,i)}return Dv=t,Dv}var Iv,LC;function mI(){if(LC)return Iv;LC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+i+s+"]");function d(f){return u.test(f)}return Iv=d,Iv}var $v,FC;function WH(){if(FC)return $v;FC=1;function e(t){return t.split("")}return $v=e,$v}var Lv,BC;function HH(){if(BC)return Lv;BC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",l="["+e+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",w=f+"?",b="["+s+"]?",x="(?:"+v+"(?:"+[p,h,g].join("|")+")"+b+w+")*",S=b+w+x,C="(?:"+[p+u+"?",u,h,g,l].join("|")+")",k=RegExp(d+"(?="+d+")|"+C+S,"g");function E(_){return _.match(k)||[]}return Lv=E,Lv}var Fv,zC;function VH(){if(zC)return Fv;zC=1;var e=WH(),t=mI(),r=HH();function n(i){return t(i)?r(i):e(i)}return Fv=n,Fv}var Bv,UC;function KH(){if(UC)return Bv;UC=1;var e=qH(),t=mI(),r=VH(),n=dI();function i(s){return function(l){l=n(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[s]()+f}}return Bv=i,Bv}var zv,qC;function GH(){if(qC)return zv;qC=1;var e=KH(),t=e("toUpperCase");return zv=t,zv}var YH=GH();const Uh=er(YH);function mr(e){return function(){return e}}const gI=Math.cos,Cp=Math.sin,Ei=Math.sqrt,Pp=Math.PI,qh=2*Pp,pw=Math.PI,hw=2*pw,Ls=1e-6,XH=hw-Ls;function yI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function JH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yI;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class QH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yI:JH(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=n-t,f=i-r,p=l-t,h=u-r,g=p*p+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>Ls)if(!(Math.abs(h*d-f*p)>Ls)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,w=i-u,b=d*d+f*f,x=v*v+w*w,S=Math.sqrt(b),C=Math.sqrt(g),k=s*Math.tan((pw-Math.acos((b+g-x)/(2*S*C)))/2),E=k/C,_=k/S;Math.abs(E-1)>Ls&&this._append`L${t+E*p},${r+E*h}`,this._append`A${s},${s},0,0,${+(h*v>p*w)},${this._x1=t+_*d},${this._y1=r+_*f}`}}arc(t,r,n,i,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),f=t+u,p=r+d,h=1^l,g=l?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Ls||Math.abs(this._y1-p)>Ls)&&this._append`L${f},${p}`,n&&(g<0&&(g=g%hw+hw),g>XH?this._append`A${n},${n},0,1,${h},${t-u},${r-d}A${n},${n},0,1,${h},${this._x1=f},${this._y1=p}`:g>Ls&&this._append`A${n},${n},0,${+(g>=pw)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Sj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new QH(t)}function kj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vI(e){this._context=e}vI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wh(e){return new vI(e)}function xI(e){return e[0]}function bI(e){return e[1]}function wI(e,t){var r=mr(!0),n=null,i=Wh,s=null,l=Sj(u);e=typeof e=="function"?e:e===void 0?xI:mr(e),t=typeof t=="function"?t:t===void 0?bI:mr(t);function u(d){var f,p=(d=kj(d)).length,h,g=!1,v;for(n==null&&(s=i(v=l())),f=0;f<=p;++f)!(f<p&&r(h=d[f],f,d))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(h,f,d),+t(h,f,d));if(v)return s=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:mr(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:mr(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:mr(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(s=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=s=null:s=i(n=d),u):n},u}function Yf(e,t,r){var n=null,i=mr(!0),s=null,l=Wh,u=null,d=Sj(f);e=typeof e=="function"?e:e===void 0?xI:mr(+e),t=typeof t=="function"?t:mr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bI:mr(+r);function f(h){var g,v,w,b=(h=kj(h)).length,x,S=!1,C,k=new Array(b),E=new Array(b);for(s==null&&(u=l(C=d())),g=0;g<=b;++g){if(!(g<b&&i(x=h[g],g,h))===S)if(S=!S)v=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=g-1;w>=v;--w)u.point(k[w],E[w]);u.lineEnd(),u.areaEnd()}S&&(k[g]=+e(x,g,h),E[g]=+t(x,g,h),u.point(n?+n(x,g,h):k[g],r?+r(x,g,h):E[g]))}if(C)return u=null,C+""||null}function p(){return wI().defined(i).curve(l).context(s)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:mr(+h),n=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:mr(+h),f):e},f.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:mr(+h),f):n},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:mr(+h),r=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:mr(+h),f):t},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:mr(+h),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(n).y(t)},f.defined=function(h){return arguments.length?(i=typeof h=="function"?h:mr(!!h),f):i},f.curve=function(h){return arguments.length?(l=h,s!=null&&(u=l(s)),f):l},f.context=function(h){return arguments.length?(h==null?s=u=null:u=l(s=h),f):s},f}class jI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ZH(e){return new jI(e,!0)}function eV(e){return new jI(e,!1)}const Nj={draw(e,t){const r=Ei(t/Pp);e.moveTo(r,0),e.arc(0,0,r,0,qh)}},tV={draw(e,t){const r=Ei(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},_I=Ei(1/3),rV=_I*2,nV={draw(e,t){const r=Ei(t/rV),n=r*_I;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},iV={draw(e,t){const r=Ei(t),n=-r/2;e.rect(n,n,r,r)}},aV=.8908130915292852,SI=Cp(Pp/10)/Cp(7*Pp/10),sV=Cp(qh/10)*SI,oV=-gI(qh/10)*SI,lV={draw(e,t){const r=Ei(t*aV),n=sV*r,i=oV*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const l=qh*s/5,u=gI(l),d=Cp(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*i,d*n+u*i)}e.closePath()}},Uv=Ei(3),cV={draw(e,t){const r=-Ei(t/(Uv*3));e.moveTo(0,r*2),e.lineTo(-Uv*r,-r),e.lineTo(Uv*r,-r),e.closePath()}},Xn=-.5,Jn=Ei(3)/2,mw=1/Ei(12),uV=(mw/2+1)*3,dV={draw(e,t){const r=Ei(t/uV),n=r/2,i=r*mw,s=n,l=r*mw+r,u=-s,d=l;e.moveTo(n,i),e.lineTo(s,l),e.lineTo(u,d),e.lineTo(Xn*n-Jn*i,Jn*n+Xn*i),e.lineTo(Xn*s-Jn*l,Jn*s+Xn*l),e.lineTo(Xn*u-Jn*d,Jn*u+Xn*d),e.lineTo(Xn*n+Jn*i,Xn*i-Jn*n),e.lineTo(Xn*s+Jn*l,Xn*l-Jn*s),e.lineTo(Xn*u+Jn*d,Xn*d-Jn*u),e.closePath()}};function fV(e,t){let r=null,n=Sj(i);e=typeof e=="function"?e:mr(e||Nj),t=typeof t=="function"?t:mr(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:mr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:mr(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Ep(){}function Ap(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function kI(e){this._context=e}kI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ap(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ap(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pV(e){return new kI(e)}function NI(e){this._context=e}NI.prototype={areaStart:Ep,areaEnd:Ep,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ap(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hV(e){return new NI(e)}function CI(e){this._context=e}CI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ap(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mV(e){return new CI(e)}function PI(e){this._context=e}PI.prototype={areaStart:Ep,areaEnd:Ep,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function gV(e){return new PI(e)}function WC(e){return e<0?-1:1}function HC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),u=(s*i+l*n)/(n+i);return(WC(s)+WC(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function VC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qv(e,t,r){var n=e._x0,i=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,i+u*t,s-u,l-u*r,s,l)}function Op(e){this._context=e}Op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qv(this,this._t0,VC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qv(this,VC(this,r=HC(this,e,t)),r);break;default:qv(this,this._t0,r=HC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function EI(e){this._context=new AI(e)}(EI.prototype=Object.create(Op.prototype)).point=function(e,t){Op.prototype.point.call(this,t,e)};function AI(e){this._context=e}AI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function yV(e){return new Op(e)}function vV(e){return new EI(e)}function OI(e){this._context=e}OI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=KC(e),i=KC(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function KC(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),l=new Array(r);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function xV(e){return new OI(e)}function Hh(e,t){this._context=e,this._t=t}Hh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function bV(e){return new Hh(e,.5)}function wV(e){return new Hh(e,0)}function jV(e){return new Hh(e,1)}function _l(e,t){if((l=e.length)>1)for(var r=1,n,i,s=e[t[0]],l,u=s.length;r<l;++r)for(i=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function gw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function _V(e,t){return e[t]}function SV(e){const t=[];return t.key=e,t}function kV(){var e=mr([]),t=gw,r=_l,n=_V;function i(s){var l=Array.from(e.apply(this,arguments),SV),u,d=l.length,f=-1,p;for(const h of s)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(h,l[u].key,f,s)]).data=h;for(u=0,p=kj(t(l));u<d;++u)l[p[u]].index=u;return r(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:mr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:mr(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?gw:typeof s=="function"?s:mr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??_l,i):r},i}function NV(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,l;i<s;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}_l(e,t)}}function CV(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var l=0,u=0;l<i;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}_l(e,t)}}function PV(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,l;n<s;++n){for(var u=0,d=0,f=0;u<l;++u){for(var p=e[t[u]],h=p[n][1]||0,g=p[n-1][1]||0,v=(h-g)/2,w=0;w<u;++w){var b=e[t[w]],x=b[n][1]||0,S=b[n-1][1]||0;v+=x-S}d+=h,f+=v*h}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,_l(e,t)}}function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}var EV=["type","size","sizeType"];function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yw.apply(this,arguments)}function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){AV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AV(e,t,r){return t=OV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OV(e){var t=TV(e,"string");return Cu(t)=="symbol"?t:t+""}function TV(e,t){if(Cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RV(e,t){if(e==null)return{};var r=MV(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TI={symbolCircle:Nj,symbolCross:tV,symbolDiamond:nV,symbolSquare:iV,symbolStar:lV,symbolTriangle:cV,symbolWye:dV},DV=Math.PI/180,IV=function(t){var r="symbol".concat(Uh(t));return TI[r]||Nj},$V=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*DV;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},LV=function(t,r){TI["symbol".concat(Uh(t))]=r},Cj=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,l=t.sizeType,u=l===void 0?"area":l,d=RV(t,EV),f=YC(YC({},d),{},{type:n,size:s,sizeType:u}),p=function(){var x=IV(n),S=fV().type(x).size($V(s,u,n));return S()},h=f.className,g=f.cx,v=f.cy,w=bt(f,!0);return g===+g&&v===+v&&s===+s?H.createElement("path",yw({},w,{className:Ot("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(v,")"),d:p()})):null};Cj.registerSymbol=LV;function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vw.apply(this,arguments)}function XC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(r),!0).forEach(function(n){Pu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MI(n.key),n)}}function UV(e,t,r){return t&&zV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qV(e,t,r){return t=Tp(t),WV(e,RI()?Reflect.construct(t,r||[],Tp(e).constructor):t.apply(e,r))}function WV(e,t){if(t&&(Sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HV(e)}function HV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RI=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function VV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xw(e,t)}function xw(e,t){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xw(e,t)}function Pu(e,t,r){return t=MI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MI(e){var t=KV(e,"string");return Sl(t)=="symbol"?t:t+""}function KV(e,t){if(Sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qn=32,Pj=(function(e){function t(){return BV(this,t),qV(this,t,arguments)}return VV(t,e),UV(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Qn/2,l=Qn/6,u=Qn/3,d=n.inactive?i:n.color;if(n.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Qn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(Qn,"M").concat(2*u,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return H.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Qn/8,"h").concat(Qn,"v").concat(Qn*3/4,"h").concat(-Qn,"z"),className:"recharts-legend-icon"});if(H.isValidElement(n.legendIcon)){var f=FV({},n);return delete f.legendIcon,H.cloneElement(n.legendIcon,f)}return H.createElement(Cj,{fill:d,cx:s,cy:s,size:Qn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,l=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:Qn,height:Qn},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,w){var b=v.formatter||d,x=Ot(Pu(Pu({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=Nt(v.value)?null:v.value;ki(!Nt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=v.inactive?f:v.color;return H.createElement("li",vw({className:x,style:h,key:"legend-item-".concat(w)},io(n.props,v,w)),H.createElement(dw,{width:l,height:l,viewBox:p,style:g},n.renderIcon(v)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},b?b(S,v,w):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,l=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(j.PureComponent);Pu(Pj,"displayName","Legend");Pu(Pj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Wv,JC;function GV(){if(JC)return Wv;JC=1;var e=Fh();function t(){this.__data__=new e,this.size=0}return Wv=t,Wv}var Hv,QC;function YV(){if(QC)return Hv;QC=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Hv=e,Hv}var Vv,ZC;function XV(){if(ZC)return Vv;ZC=1;function e(t){return this.__data__.get(t)}return Vv=e,Vv}var Kv,eP;function JV(){if(eP)return Kv;eP=1;function e(t){return this.__data__.has(t)}return Kv=e,Kv}var Gv,tP;function QV(){if(tP)return Gv;tP=1;var e=Fh(),t=vj(),r=xj(),n=200;function i(s,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([s,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(s,l),this.size=u.size,this}return Gv=i,Gv}var Yv,rP;function DI(){if(rP)return Yv;rP=1;var e=Fh(),t=GV(),r=YV(),n=XV(),i=JV(),s=QV();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=s,Yv=l,Yv}var Xv,nP;function ZV(){if(nP)return Xv;nP=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Xv=t,Xv}var Jv,iP;function eK(){if(iP)return Jv;iP=1;function e(t){return this.__data__.has(t)}return Jv=e,Jv}var Qv,aP;function II(){if(aP)return Qv;aP=1;var e=xj(),t=ZV(),r=eK();function n(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new e;++s<l;)this.add(i[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Qv=n,Qv}var Zv,sP;function $I(){if(sP)return Zv;sP=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return Zv=e,Zv}var ex,oP;function LI(){if(oP)return ex;oP=1;function e(t,r){return t.has(r)}return ex=e,ex}var tx,lP;function FI(){if(lP)return tx;lP=1;var e=II(),t=$I(),r=LI(),n=1,i=2;function s(l,u,d,f,p,h){var g=d&n,v=l.length,w=u.length;if(v!=w&&!(g&&w>v))return!1;var b=h.get(l),x=h.get(u);if(b&&x)return b==u&&x==l;var S=-1,C=!0,k=d&i?new e:void 0;for(h.set(l,u),h.set(u,l);++S<v;){var E=l[S],_=u[S];if(f)var A=g?f(_,E,S,u,l,h):f(E,_,S,l,u,h);if(A!==void 0){if(A)continue;C=!1;break}if(k){if(!t(u,function(P,T){if(!r(k,T)&&(E===P||p(E,P,d,f,h)))return k.push(T)})){C=!1;break}}else if(!(E===_||p(E,_,d,f,h))){C=!1;break}}return h.delete(l),h.delete(u),C}return tx=s,tx}var rx,cP;function tK(){if(cP)return rx;cP=1;var e=Ji(),t=e.Uint8Array;return rx=t,rx}var nx,uP;function rK(){if(uP)return nx;uP=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,s){n[++r]=[s,i]}),n}return nx=e,nx}var ix,dP;function Ej(){if(dP)return ix;dP=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return ix=e,ix}var ax,fP;function nK(){if(fP)return ax;fP=1;var e=hd(),t=tK(),r=yj(),n=FI(),i=rK(),s=Ej(),l=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",h="[object Map]",g="[object Number]",v="[object RegExp]",w="[object Set]",b="[object String]",x="[object Symbol]",S="[object ArrayBuffer]",C="[object DataView]",k=e?e.prototype:void 0,E=k?k.valueOf:void 0;function _(A,P,T,M,R,D,q){switch(T){case C:if(A.byteLength!=P.byteLength||A.byteOffset!=P.byteOffset)return!1;A=A.buffer,P=P.buffer;case S:return!(A.byteLength!=P.byteLength||!D(new t(A),new t(P)));case d:case f:case g:return r(+A,+P);case p:return A.name==P.name&&A.message==P.message;case v:case b:return A==P+"";case h:var F=i;case w:var $=M&l;if(F||(F=s),A.size!=P.size&&!$)return!1;var L=q.get(A);if(L)return L==P;M|=u,q.set(A,P);var B=n(F(A),F(P),M,R,D,q);return q.delete(A),B;case x:if(E)return E.call(A)==E.call(P)}return!1}return ax=_,ax}var sx,pP;function BI(){if(pP)return sx;pP=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return sx=e,sx}var ox,hP;function iK(){if(hP)return ox;hP=1;var e=BI(),t=En();function r(n,i,s){var l=i(n);return t(n)?l:e(l,s(n))}return ox=r,ox}var lx,mP;function aK(){if(mP)return lx;mP=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=0,l=[];++n<i;){var u=t[n];r(u,n,t)&&(l[s++]=u)}return l}return lx=e,lx}var cx,gP;function sK(){if(gP)return cx;gP=1;function e(){return[]}return cx=e,cx}var ux,yP;function oK(){if(yP)return ux;yP=1;var e=aK(),t=sK(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(u){return n.call(l,u)}))}:t;return ux=s,ux}var dx,vP;function lK(){if(vP)return dx;vP=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return dx=e,dx}var fx,xP;function cK(){if(xP)return fx;xP=1;var e=Sa(),t=ka(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return fx=n,fx}var px,bP;function Aj(){if(bP)return px;bP=1;var e=cK(),t=ka(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(l){return t(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return px=s,px}var au={exports:{}},hx,wP;function uK(){if(wP)return hx;wP=1;function e(){return!1}return hx=e,hx}au.exports;var jP;function zI(){return jP||(jP=1,(function(e,t){var r=Ji(),n=uK(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,l=s&&s.exports===i,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;e.exports=f})(au,au.exports)),au.exports}var mx,_P;function Oj(){if(_P)return mx;_P=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return mx=r,mx}var gx,SP;function Tj(){if(SP)return gx;SP=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return gx=t,gx}var yx,kP;function dK(){if(kP)return yx;kP=1;var e=Sa(),t=Tj(),r=ka(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",h="[object Object]",g="[object RegExp]",v="[object Set]",w="[object String]",b="[object WeakMap]",x="[object ArrayBuffer]",S="[object DataView]",C="[object Float32Array]",k="[object Float64Array]",E="[object Int8Array]",_="[object Int16Array]",A="[object Int32Array]",P="[object Uint8Array]",T="[object Uint8ClampedArray]",M="[object Uint16Array]",R="[object Uint32Array]",D={};D[C]=D[k]=D[E]=D[_]=D[A]=D[P]=D[T]=D[M]=D[R]=!0,D[n]=D[i]=D[x]=D[s]=D[S]=D[l]=D[u]=D[d]=D[f]=D[p]=D[h]=D[g]=D[v]=D[w]=D[b]=!1;function q(F){return r(F)&&t(F.length)&&!!D[e(F)]}return yx=q,yx}var vx,NP;function UI(){if(NP)return vx;NP=1;function e(t){return function(r){return t(r)}}return vx=e,vx}var su={exports:{}};su.exports;var CP;function fK(){return CP||(CP=1,(function(e,t){var r=lI(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,l=s&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(su,su.exports)),su.exports}var xx,PP;function qI(){if(PP)return xx;PP=1;var e=dK(),t=UI(),r=fK(),n=r&&r.isTypedArray,i=n?t(n):e;return xx=i,xx}var bx,EP;function pK(){if(EP)return bx;EP=1;var e=lK(),t=Aj(),r=En(),n=zI(),i=Oj(),s=qI(),l=Object.prototype,u=l.hasOwnProperty;function d(f,p){var h=r(f),g=!h&&t(f),v=!h&&!g&&n(f),w=!h&&!g&&!v&&s(f),b=h||g||v||w,x=b?e(f.length,String):[],S=x.length;for(var C in f)(p||u.call(f,C))&&!(b&&(C=="length"||v&&(C=="offset"||C=="parent")||w&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,S)))&&x.push(C);return x}return bx=d,bx}var wx,AP;function hK(){if(AP)return wx;AP=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return wx=t,wx}var jx,OP;function WI(){if(OP)return jx;OP=1;function e(t,r){return function(n){return t(r(n))}}return jx=e,jx}var _x,TP;function mK(){if(TP)return _x;TP=1;var e=WI(),t=e(Object.keys,Object);return _x=t,_x}var Sx,RP;function gK(){if(RP)return Sx;RP=1;var e=hK(),t=mK(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var l=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&l.push(u);return l}return Sx=i,Sx}var kx,MP;function yd(){if(MP)return kx;MP=1;var e=gj(),t=Tj();function r(n){return n!=null&&t(n.length)&&!e(n)}return kx=r,kx}var Nx,DP;function Vh(){if(DP)return Nx;DP=1;var e=pK(),t=gK(),r=yd();function n(i){return r(i)?e(i):t(i)}return Nx=n,Nx}var Cx,IP;function yK(){if(IP)return Cx;IP=1;var e=iK(),t=oK(),r=Vh();function n(i){return e(i,r,t)}return Cx=n,Cx}var Px,$P;function vK(){if($P)return Px;$P=1;var e=yK(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,l,u,d,f,p){var h=u&t,g=e(s),v=g.length,w=e(l),b=w.length;if(v!=b&&!h)return!1;for(var x=v;x--;){var S=g[x];if(!(h?S in l:n.call(l,S)))return!1}var C=p.get(s),k=p.get(l);if(C&&k)return C==l&&k==s;var E=!0;p.set(s,l),p.set(l,s);for(var _=h;++x<v;){S=g[x];var A=s[S],P=l[S];if(d)var T=h?d(P,A,S,l,s,p):d(A,P,S,s,l,p);if(!(T===void 0?A===P||f(A,P,u,d,p):T)){E=!1;break}_||(_=S=="constructor")}if(E&&!_){var M=s.constructor,R=l.constructor;M!=R&&"constructor"in s&&"constructor"in l&&!(typeof M=="function"&&M instanceof M&&typeof R=="function"&&R instanceof R)&&(E=!1)}return p.delete(s),p.delete(l),E}return Px=i,Px}var Ex,LP;function xK(){if(LP)return Ex;LP=1;var e=fo(),t=Ji(),r=e(t,"DataView");return Ex=r,Ex}var Ax,FP;function bK(){if(FP)return Ax;FP=1;var e=fo(),t=Ji(),r=e(t,"Promise");return Ax=r,Ax}var Ox,BP;function HI(){if(BP)return Ox;BP=1;var e=fo(),t=Ji(),r=e(t,"Set");return Ox=r,Ox}var Tx,zP;function wK(){if(zP)return Tx;zP=1;var e=fo(),t=Ji(),r=e(t,"WeakMap");return Tx=r,Tx}var Rx,UP;function jK(){if(UP)return Rx;UP=1;var e=xK(),t=vj(),r=bK(),n=HI(),i=wK(),s=Sa(),l=cI(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",g="[object DataView]",v=l(e),w=l(t),b=l(r),x=l(n),S=l(i),C=s;return(e&&C(new e(new ArrayBuffer(1)))!=g||t&&C(new t)!=u||r&&C(r.resolve())!=f||n&&C(new n)!=p||i&&C(new i)!=h)&&(C=function(k){var E=s(k),_=E==d?k.constructor:void 0,A=_?l(_):"";if(A)switch(A){case v:return g;case w:return u;case b:return f;case x:return p;case S:return h}return E}),Rx=C,Rx}var Mx,qP;function _K(){if(qP)return Mx;qP=1;var e=DI(),t=FI(),r=nK(),n=vK(),i=jK(),s=En(),l=zI(),u=qI(),d=1,f="[object Arguments]",p="[object Array]",h="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function w(b,x,S,C,k,E){var _=s(b),A=s(x),P=_?p:i(b),T=A?p:i(x);P=P==f?h:P,T=T==f?h:T;var M=P==h,R=T==h,D=P==T;if(D&&l(b)){if(!l(x))return!1;_=!0,M=!1}if(D&&!M)return E||(E=new e),_||u(b)?t(b,x,S,C,k,E):r(b,x,P,S,C,k,E);if(!(S&d)){var q=M&&v.call(b,"__wrapped__"),F=R&&v.call(x,"__wrapped__");if(q||F){var $=q?b.value():b,L=F?x.value():x;return E||(E=new e),k($,L,S,C,E)}}return D?(E||(E=new e),n(b,x,S,C,k,E)):!1}return Mx=w,Mx}var Dx,WP;function Rj(){if(WP)return Dx;WP=1;var e=_K(),t=ka();function r(n,i,s,l,u){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,s,l,r,u)}return Dx=r,Dx}var Ix,HP;function SK(){if(HP)return Ix;HP=1;var e=DI(),t=Rj(),r=1,n=2;function i(s,l,u,d){var f=u.length,p=f,h=!d;if(s==null)return!p;for(s=Object(s);f--;){var g=u[f];if(h&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++f<p;){g=u[f];var v=g[0],w=s[v],b=g[1];if(h&&g[2]){if(w===void 0&&!(v in s))return!1}else{var x=new e;if(d)var S=d(w,b,v,s,l,x);if(!(S===void 0?t(b,w,r|n,d,x):S))return!1}}return!0}return Ix=i,Ix}var $x,VP;function VI(){if(VP)return $x;VP=1;var e=gs();function t(r){return r===r&&!e(r)}return $x=t,$x}var Lx,KP;function kK(){if(KP)return Lx;KP=1;var e=VI(),t=Vh();function r(n){for(var i=t(n),s=i.length;s--;){var l=i[s],u=n[l];i[s]=[l,u,e(u)]}return i}return Lx=r,Lx}var Fx,GP;function KI(){if(GP)return Fx;GP=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Fx=e,Fx}var Bx,YP;function NK(){if(YP)return Bx;YP=1;var e=SK(),t=kK(),r=KI();function n(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(l){return l===i||e(l,i,s)}}return Bx=n,Bx}var zx,XP;function CK(){if(XP)return zx;XP=1;function e(t,r){return t!=null&&r in Object(t)}return zx=e,zx}var Ux,JP;function PK(){if(JP)return Ux;JP=1;var e=fI(),t=Aj(),r=En(),n=Oj(),i=Tj(),s=zh();function l(u,d,f){d=e(d,u);for(var p=-1,h=d.length,g=!1;++p<h;){var v=s(d[p]);if(!(g=u!=null&&f(u,v)))break;u=u[v]}return g||++p!=h?g:(h=u==null?0:u.length,!!h&&i(h)&&n(v,h)&&(r(u)||t(u)))}return Ux=l,Ux}var qx,QP;function EK(){if(QP)return qx;QP=1;var e=CK(),t=PK();function r(n,i){return n!=null&&t(n,i,e)}return qx=r,qx}var Wx,ZP;function AK(){if(ZP)return Wx;ZP=1;var e=Rj(),t=pI(),r=EK(),n=mj(),i=VI(),s=KI(),l=zh(),u=1,d=2;function f(p,h){return n(p)&&i(h)?s(l(p),h):function(g){var v=t(g,p);return v===void 0&&v===h?r(g,p):e(h,v,u|d)}}return Wx=f,Wx}var Hx,eE;function ac(){if(eE)return Hx;eE=1;function e(t){return t}return Hx=e,Hx}var Vx,tE;function OK(){if(tE)return Vx;tE=1;function e(t){return function(r){return r==null?void 0:r[t]}}return Vx=e,Vx}var Kx,rE;function TK(){if(rE)return Kx;rE=1;var e=wj();function t(r){return function(n){return e(n,r)}}return Kx=t,Kx}var Gx,nE;function RK(){if(nE)return Gx;nE=1;var e=OK(),t=TK(),r=mj(),n=zh();function i(s){return r(s)?e(n(s)):t(s)}return Gx=i,Gx}var Yx,iE;function Qi(){if(iE)return Yx;iE=1;var e=NK(),t=AK(),r=ac(),n=En(),i=RK();function s(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?t(l[0],l[1]):e(l):i(l)}return Yx=s,Yx}var Xx,aE;function GI(){if(aE)return Xx;aE=1;function e(t,r,n,i){for(var s=t.length,l=n+(i?1:-1);i?l--:++l<s;)if(r(t[l],l,t))return l;return-1}return Xx=e,Xx}var Jx,sE;function MK(){if(sE)return Jx;sE=1;function e(t){return t!==t}return Jx=e,Jx}var Qx,oE;function DK(){if(oE)return Qx;oE=1;function e(t,r,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return Qx=e,Qx}var Zx,lE;function IK(){if(lE)return Zx;lE=1;var e=GI(),t=MK(),r=DK();function n(i,s,l){return s===s?r(i,s,l):e(i,t,l)}return Zx=n,Zx}var e0,cE;function $K(){if(cE)return e0;cE=1;var e=IK();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return e0=t,e0}var t0,uE;function LK(){if(uE)return t0;uE=1;function e(t,r,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(r,t[i]))return!0;return!1}return t0=e,t0}var r0,dE;function FK(){if(dE)return r0;dE=1;function e(){}return r0=e,r0}var n0,fE;function BK(){if(fE)return n0;fE=1;var e=HI(),t=FK(),r=Ej(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return n0=i,n0}var i0,pE;function zK(){if(pE)return i0;pE=1;var e=II(),t=$K(),r=LK(),n=LI(),i=BK(),s=Ej(),l=200;function u(d,f,p){var h=-1,g=t,v=d.length,w=!0,b=[],x=b;if(p)w=!1,g=r;else if(v>=l){var S=f?null:i(d);if(S)return s(S);w=!1,g=n,x=new e}else x=f?[]:b;e:for(;++h<v;){var C=d[h],k=f?f(C):C;if(C=p||C!==0?C:0,w&&k===k){for(var E=x.length;E--;)if(x[E]===k)continue e;f&&x.push(k),b.push(C)}else g(x,k,p)||(x!==b&&x.push(k),b.push(C))}return b}return i0=u,i0}var a0,hE;function UK(){if(hE)return a0;hE=1;var e=Qi(),t=zK();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return a0=r,a0}var qK=UK();const mE=er(qK);function YI(e,t,r){return t===!0?mE(e,r):Nt(t)?mE(e,t):e}function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}var WK=["ref"];function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){Kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JI(n.key),n)}}function VK(e,t,r){return t&&yE(e.prototype,t),r&&yE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KK(e,t,r){return t=Rp(t),GK(e,XI()?Reflect.construct(t,r||[],Rp(e).constructor):t.apply(e,r))}function GK(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YK(e)}function YK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XI=function(){return!!e})()}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(e)}function XK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bw(e,t)}function bw(e,t){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bw(e,t)}function Kh(e,t,r){return t=JI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JI(e){var t=JK(e,"string");return kl(t)=="symbol"?t:t+""}function JK(e,t){if(kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function QK(e,t){if(e==null)return{};var r=ZK(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eG(e){return e.value}function tG(e,t){if(H.isValidElement(e))return H.cloneElement(e,t);if(typeof e=="function")return H.createElement(e,t);t.ref;var r=QK(t,WK);return H.createElement(Pj,r)}var vE=1,Gs=(function(e){function t(){var r;HK(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=KK(this,t,[].concat(i)),Kh(r,"lastBoundingBox",{width:-1,height:-1}),r}return XK(t,e),VK(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>vE||Math.abs(i.height-this.lastBoundingBox.height)>vE)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?la({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,l=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,p=i.chartHeight,h,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();h={left:((f||0)-v.width)/2}}else h=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();g={top:((p||0)-w.height)/2}}else g=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return la(la({},h),g)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,l=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,h=la(la({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return H.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){n.wrapperNode=v}},tG(s,la(la({},this.props),{},{payload:YI(p,f,eG)})))}}],[{key:"getWithHeight",value:function(n,i){var s=la(la({},this.defaultProps),n.props),l=s.layout;return l==="vertical"&&Ve(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])})(j.PureComponent);Kh(Gs,"displayName","Legend");Kh(Gs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var s0,xE;function rG(){if(xE)return s0;xE=1;var e=hd(),t=Aj(),r=En(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return s0=i,s0}var o0,bE;function QI(){if(bE)return o0;bE=1;var e=BI(),t=rG();function r(n,i,s,l,u){var d=-1,f=n.length;for(s||(s=t),u||(u=[]);++d<f;){var p=n[d];i>0&&s(p)?i>1?r(p,i-1,s,l,u):e(u,p):l||(u[u.length]=p)}return u}return o0=r,o0}var l0,wE;function nG(){if(wE)return l0;wE=1;function e(t){return function(r,n,i){for(var s=-1,l=Object(r),u=i(r),d=u.length;d--;){var f=u[t?d:++s];if(n(l[f],f,l)===!1)break}return r}}return l0=e,l0}var c0,jE;function iG(){if(jE)return c0;jE=1;var e=nG(),t=e();return c0=t,c0}var u0,_E;function ZI(){if(_E)return u0;_E=1;var e=iG(),t=Vh();function r(n,i){return n&&e(n,i,t)}return u0=r,u0}var d0,SE;function aG(){if(SE)return d0;SE=1;var e=yd();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var l=i.length,u=n?l:-1,d=Object(i);(n?u--:++u<l)&&s(d[u],u,d)!==!1;);return i}}return d0=t,d0}var f0,kE;function Mj(){if(kE)return f0;kE=1;var e=ZI(),t=aG(),r=t(e);return f0=r,f0}var p0,NE;function e$(){if(NE)return p0;NE=1;var e=Mj(),t=yd();function r(n,i){var s=-1,l=t(n)?Array(n.length):[];return e(n,function(u,d,f){l[++s]=i(u,d,f)}),l}return p0=r,p0}var h0,CE;function sG(){if(CE)return h0;CE=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return h0=e,h0}var m0,PE;function oG(){if(PE)return m0;PE=1;var e=rc();function t(r,n){if(r!==n){var i=r!==void 0,s=r===null,l=r===r,u=e(r),d=n!==void 0,f=n===null,p=n===n,h=e(n);if(!f&&!h&&!u&&r>n||u&&d&&p&&!f&&!h||s&&d&&p||!i&&p||!l)return 1;if(!s&&!u&&!h&&r<n||h&&i&&l&&!s&&!u||f&&i&&l||!d&&l||!p)return-1}return 0}return m0=t,m0}var g0,EE;function lG(){if(EE)return g0;EE=1;var e=oG();function t(r,n,i){for(var s=-1,l=r.criteria,u=n.criteria,d=l.length,f=i.length;++s<d;){var p=e(l[s],u[s]);if(p){if(s>=f)return p;var h=i[s];return p*(h=="desc"?-1:1)}}return r.index-n.index}return g0=t,g0}var y0,AE;function cG(){if(AE)return y0;AE=1;var e=bj(),t=wj(),r=Qi(),n=e$(),i=sG(),s=UI(),l=lG(),u=ac(),d=En();function f(p,h,g){h.length?h=e(h,function(b){return d(b)?function(x){return t(x,b.length===1?b[0]:b)}:b}):h=[u];var v=-1;h=e(h,s(r));var w=n(p,function(b,x,S){var C=e(h,function(k){return k(b)});return{criteria:C,index:++v,value:b}});return i(w,function(b,x){return l(b,x,g)})}return y0=f,y0}var v0,OE;function uG(){if(OE)return v0;OE=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return v0=e,v0}var x0,TE;function dG(){if(TE)return x0;TE=1;var e=uG(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var l=arguments,u=-1,d=t(l.length-i,0),f=Array(d);++u<d;)f[u]=l[i+u];u=-1;for(var p=Array(i+1);++u<i;)p[u]=l[u];return p[i]=s(f),e(n,this,p)}}return x0=r,x0}var b0,RE;function fG(){if(RE)return b0;RE=1;function e(t){return function(){return t}}return b0=e,b0}var w0,ME;function t$(){if(ME)return w0;ME=1;var e=fo(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return w0=t,w0}var j0,DE;function pG(){if(DE)return j0;DE=1;var e=fG(),t=t$(),r=ac(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return j0=n,j0}var _0,IE;function hG(){if(IE)return _0;IE=1;var e=800,t=16,r=Date.now;function n(i){var s=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return _0=n,_0}var S0,$E;function mG(){if($E)return S0;$E=1;var e=pG(),t=hG(),r=t(e);return S0=r,S0}var k0,LE;function gG(){if(LE)return k0;LE=1;var e=ac(),t=dG(),r=mG();function n(i,s){return r(t(i,s,e),i+"")}return k0=n,k0}var N0,FE;function Gh(){if(FE)return N0;FE=1;var e=yj(),t=yd(),r=Oj(),n=gs();function i(s,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],s):!1}return N0=i,N0}var C0,BE;function yG(){if(BE)return C0;BE=1;var e=QI(),t=cG(),r=gG(),n=Gh(),i=r(function(s,l){if(s==null)return[];var u=l.length;return u>1&&n(s,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),t(s,e(l,1),[])});return C0=i,C0}var vG=yG();const Dj=er(vG);function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ww.apply(this,arguments)}function xG(e,t){return _G(e)||jG(e,t)||wG(e,t)||bG()}function bG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wG(e,t){if(e){if(typeof e=="string")return zE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zE(e,t)}}function zE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function _G(e){if(Array.isArray(e))return e}function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(n){SG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SG(e,t,r){return t=kG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=NG(e,"string");return Eu(t)=="symbol"?t:t+""}function NG(e,t){if(Eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CG(e){return Array.isArray(e)&&Fr(e[0])&&Fr(e[1])?e.join(" ~ "):e}var PG=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,p=t.payload,h=t.formatter,g=t.itemSorter,v=t.wrapperClassName,w=t.labelClassName,b=t.label,x=t.labelFormatter,S=t.accessibilityLayer,C=S===void 0?!1:S,k=function(){if(p&&p.length){var q={padding:0,margin:0},F=(g?Dj(p,g):p).map(function($,L){if($.type==="none")return null;var B=P0({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},u),Z=$.formatter||h||CG,z=$.value,te=$.name,re=z,V=te;if(Z&&re!=null&&V!=null){var X=Z(z,te,$,L,p);if(Array.isArray(X)){var le=xG(X,2);re=le[0],V=le[1]}else re=X}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:B},Fr(V)?H.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Fr(V)?H.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,H.createElement("span",{className:"recharts-tooltip-item-value"},re),H.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:q},F)}return null},E=P0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=P0({margin:0},f),A=!At(b),P=A?b:"",T=Ot("recharts-default-tooltip",v),M=Ot("recharts-tooltip-label",w);A&&x&&p!==void 0&&p!==null&&(P=x(b,p));var R=C?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",ww({className:T,style:E},R),H.createElement("p",{className:M,style:_},H.isValidElement(P)?P:"".concat(P)),k())};function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function Xf(e,t,r){return t=EG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=AG(e,"string");return Au(t)=="symbol"?t:t+""}function AG(e,t){if(Au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gc="recharts-tooltip-wrapper",OG={visibility:"hidden"};function TG(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ot(Gc,Xf(Xf(Xf(Xf({},"".concat(Gc,"-right"),Ve(r)&&t&&Ve(t.x)&&r>=t.x),"".concat(Gc,"-left"),Ve(r)&&t&&Ve(t.x)&&r<t.x),"".concat(Gc,"-bottom"),Ve(n)&&t&&Ve(t.y)&&n>=t.y),"".concat(Gc,"-top"),Ve(n)&&t&&Ve(t.y)&&n<t.y))}function qE(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(s&&Ve(s[n]))return s[n];var p=r[n]-u-i,h=r[n]+i;if(t[n])return l[n]?p:h;if(l[n]){var g=p,v=d[n];return g<v?Math.max(h,d[n]):Math.max(p,d[n])}var w=h+u,b=d[n]+f;return w>b?Math.max(p,d[n]):Math.max(h,d[n])}function RG(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function MG(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,p,h;return l.height>0&&l.width>0&&r?(p=qE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),h=qE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=RG({translateX:p,translateY:h,useTranslate3d:u})):f=OG,{cssProperties:f,cssClasses:TG({translateX:p,translateY:h,coordinate:r})}}function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function WE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(r),!0).forEach(function(n){_w(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n$(n.key),n)}}function $G(e,t,r){return t&&IG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LG(e,t,r){return t=Mp(t),FG(e,r$()?Reflect.construct(t,r||[],Mp(e).constructor):t.apply(e,r))}function FG(e,t){if(t&&(Nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BG(e)}function BG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r$=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(e)}function zG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jw(e,t)}function jw(e,t){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jw(e,t)}function _w(e,t,r){return t=n$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n$(e){var t=UG(e,"string");return Nl(t)=="symbol"?t:t+""}function UG(e,t){if(Nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VE=1,qG=(function(e){function t(){var r;DG(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=LG(this,t,[].concat(i)),_w(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_w(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return zG(t,e),$G(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>VE||Math.abs(n.height-this.state.lastBoundingBox.height)>VE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,p=i.coordinate,h=i.hasPayload,g=i.isAnimationActive,v=i.offset,w=i.position,b=i.reverseDirection,x=i.useTranslate3d,S=i.viewBox,C=i.wrapperStyle,k=MG({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:v,position:w,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:S}),E=k.cssClasses,_=k.cssProperties,A=HE(HE({transition:g&&s?"transform ".concat(u,"ms ").concat(d):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},C);return H.createElement("div",{tabIndex:-1,className:E,style:A,ref:function(T){n.wrapperNode=T}},f)}}])})(j.PureComponent),WG=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},po={isSsr:WG()};function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(n){Ij(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a$(n.key),n)}}function KG(e,t,r){return t&&VG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GG(e,t,r){return t=Dp(t),YG(e,i$()?Reflect.construct(t,r||[],Dp(e).constructor):t.apply(e,r))}function YG(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XG(e)}function XG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!e})()}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function JG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sw(e,t)}function Sw(e,t){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sw(e,t)}function Ij(e,t,r){return t=a$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a$(e){var t=QG(e,"string");return Cl(t)=="symbol"?t:t+""}function QG(e,t){if(Cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ZG(e){return e.dataKey}function eY(e,t){return H.isValidElement(e)?H.cloneElement(e,t):typeof e=="function"?H.createElement(e,t):H.createElement(PG,t)}var xi=(function(e){function t(){return HG(this,t),GG(this,t,arguments)}return JG(t,e),KG(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,p=i.coordinate,h=i.filterNull,g=i.isAnimationActive,v=i.offset,w=i.payload,b=i.payloadUniqBy,x=i.position,S=i.reverseDirection,C=i.useTranslate3d,k=i.viewBox,E=i.wrapperStyle,_=w??[];h&&_.length&&(_=YI(w.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),b,ZG));var A=_.length>0;return H.createElement(qG,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:g,active:s,coordinate:p,hasPayload:A,offset:v,position:x,reverseDirection:S,useTranslate3d:C,viewBox:k,wrapperStyle:E},eY(f,GE(GE({},this.props),{},{payload:_})))}}])})(j.PureComponent);Ij(xi,"displayName","Tooltip");Ij(xi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!po.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var E0,YE;function tY(){if(YE)return E0;YE=1;var e=Ji(),t=function(){return e.Date.now()};return E0=t,E0}var A0,XE;function rY(){if(XE)return A0;XE=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return A0=t,A0}var O0,JE;function nY(){if(JE)return O0;JE=1;var e=rY(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return O0=r,O0}var T0,QE;function s$(){if(QE)return T0;QE=1;var e=nY(),t=gs(),r=rc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var h=s.test(f);return h||l.test(f)?u(f.slice(2),h?2:8):i.test(f)?n:+f}return T0=d,T0}var R0,ZE;function iY(){if(ZE)return R0;ZE=1;var e=gs(),t=tY(),r=s$(),n="Expected a function",i=Math.max,s=Math.min;function l(u,d,f){var p,h,g,v,w,b,x=0,S=!1,C=!1,k=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(S=!!f.leading,C="maxWait"in f,g=C?i(r(f.maxWait)||0,d):g,k="trailing"in f?!!f.trailing:k);function E(F){var $=p,L=h;return p=h=void 0,x=F,v=u.apply(L,$),v}function _(F){return x=F,w=setTimeout(T,d),S?E(F):v}function A(F){var $=F-b,L=F-x,B=d-$;return C?s(B,g-L):B}function P(F){var $=F-b,L=F-x;return b===void 0||$>=d||$<0||C&&L>=g}function T(){var F=t();if(P(F))return M(F);w=setTimeout(T,A(F))}function M(F){return w=void 0,k&&p?E(F):(p=h=void 0,v)}function R(){w!==void 0&&clearTimeout(w),x=0,p=b=h=w=void 0}function D(){return w===void 0?v:M(t())}function q(){var F=t(),$=P(F);if(p=arguments,h=this,b=F,$){if(w===void 0)return _(b);if(C)return clearTimeout(w),w=setTimeout(T,d),E(b)}return w===void 0&&(w=setTimeout(T,d)),v}return q.cancel=R,q.flush=D,q}return R0=l,R0}var M0,eA;function aY(){if(eA)return M0;eA=1;var e=iY(),t=gs(),r="Expected a function";function n(i,s,l){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(i,s,{leading:u,maxWait:s,trailing:d})}return M0=n,M0}var sY=aY();const o$=er(sY);function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){oY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oY(e,t,r){return t=lY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lY(e){var t=cY(e,"string");return Ou(t)=="symbol"?t:t+""}function cY(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uY(e,t){return hY(e)||pY(e,t)||fY(e,t)||dY()}function dY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fY(e,t){if(e){if(typeof e=="string")return rA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rA(e,t)}}function rA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function hY(e){if(Array.isArray(e))return e}var nA=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,l=s===void 0?"100%":s,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,p=f===void 0?0:f,h=e.minHeight,g=e.maxHeight,v=e.children,w=e.debounce,b=w===void 0?0:w,x=e.id,S=e.className,C=e.onResize,k=e.style,E=k===void 0?{}:k,_=j.useRef(null),A=j.useRef();A.current=C,j.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var P=j.useState({containerWidth:i.width,containerHeight:i.height}),T=uY(P,2),M=T[0],R=T[1],D=j.useCallback(function(F,$){R(function(L){var B=Math.round(F),Z=Math.round($);return L.containerWidth===B&&L.containerHeight===Z?L:{containerWidth:B,containerHeight:Z}})},[]);j.useEffect(function(){var F=function(te){var re,V=te[0].contentRect,X=V.width,le=V.height;D(X,le),(re=A.current)===null||re===void 0||re.call(A,X,le)};b>0&&(F=o$(F,b,{trailing:!0,leading:!1}));var $=new ResizeObserver(F),L=_.current.getBoundingClientRect(),B=L.width,Z=L.height;return D(B,Z),$.observe(_.current),function(){$.disconnect()}},[D,b]);var q=j.useMemo(function(){var F=M.containerWidth,$=M.containerHeight;if(F<0||$<0)return null;ki(Us(l)||Us(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),ki(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Us(l)?F:l,B=Us(d)?$:d;r&&r>0&&(L?B=L/r:B&&(L=B*r),g&&B>g&&(B=g)),ki(L>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,B,l,d,p,h,r);var Z=!Array.isArray(v)&&ha(v.type).endsWith("Chart");return H.Children.map(v,function(z){return H.isValidElement(z)?j.cloneElement(z,Jf({width:L,height:B},Z?{style:Jf({height:"100%",width:"100%",maxHeight:B,maxWidth:L},z.props.style)}:{})):z})},[r,v,d,g,h,p,M,l]);return H.createElement("div",{id:x?"".concat(x):void 0,className:Ot("recharts-responsive-container",S),style:Jf(Jf({},E),{},{width:l,height:d,minWidth:p,minHeight:h,maxHeight:g}),ref:_},q)}),Yh=function(t){return null};Yh.displayName="Cell";function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){mY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mY(e,t,r){return t=gY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gY(e){var t=yY(e,"string");return Tu(t)=="symbol"?t:t+""}function yY(e,t){if(Tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jo={widthCache:{},cacheCount:0},vY=2e3,xY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aA="recharts_measurement_span";function bY(e){var t=kw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var pu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||po.isSsr)return{width:0,height:0};var n=bY(r),i=JSON.stringify({text:t,copyStyle:n});if(Jo.widthCache[i])return Jo.widthCache[i];try{var s=document.getElementById(aA);s||(s=document.createElement("span"),s.setAttribute("id",aA),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=kw(kw({},xY),n);Object.assign(s.style,l),s.textContent="".concat(t);var u=s.getBoundingClientRect(),d={width:u.width,height:u.height};return Jo.widthCache[i]=d,++Jo.cacheCount>vY&&(Jo.cacheCount=0,Jo.widthCache={}),d}catch{return{width:0,height:0}}},wY=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function Ip(e,t){return kY(e)||SY(e,t)||_Y(e,t)||jY()}function jY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Y(e,t){if(e){if(typeof e=="string")return sA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(e,t)}}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function kY(e){if(Array.isArray(e))return e}function NY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PY(n.key),n)}}function CY(e,t,r){return t&&oA(e.prototype,t),r&&oA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PY(e){var t=EY(e,"string");return Ru(t)=="symbol"?t:t+""}function EY(e,t){if(Ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,OY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,l$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},TY=Object.keys(l$),nl="NaN";function RY(e,t){return e*l$[t]}var Qf=(function(){function e(t,r){NY(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!AY.test(r)&&(this.num=NaN,this.unit=""),TY.includes(r)&&(this.num=RY(t,r),this.unit="px")}return CY(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=OY.exec(r))!==null&&n!==void 0?n:[],s=Ip(i,3),l=s[1],u=s[2];return new e(parseFloat(l),u??"")}}])})();function c$(e){if(e.includes(nl))return nl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=lA.exec(t))!==null&&r!==void 0?r:[],i=Ip(n,4),s=i[1],l=i[2],u=i[3],d=Qf.parse(s??""),f=Qf.parse(u??""),p=l==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return nl;t=t.replace(lA,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,g=(h=cA.exec(t))!==null&&h!==void 0?h:[],v=Ip(g,4),w=v[1],b=v[2],x=v[3],S=Qf.parse(w??""),C=Qf.parse(x??""),k=b==="+"?S.add(C):S.subtract(C);if(k.isNaN())return nl;t=t.replace(cA,k.toString())}return t}var uA=/\(([^()]*)\)/;function MY(e){for(var t=e;t.includes("(");){var r=uA.exec(t),n=Ip(r,2),i=n[1];t=t.replace(uA,c$(i))}return t}function DY(e){var t=e.replace(/\s+/g,"");return t=MY(t),t=c$(t),t}function IY(e){try{return DY(e)}catch{return nl}}function D0(e){var t=IY(e.slice(5,-1));return t===nl?"":t}var $Y=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],LY=["dx","dy","angle","className","breakAll"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(this,arguments)}function dA(e,t){if(e==null)return{};var r=FY(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fA(e,t){return qY(e)||UY(e,t)||zY(e,t)||BY()}function BY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zY(e,t){if(e){if(typeof e=="string")return pA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(e,t)}}function pA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function qY(e){if(Array.isArray(e))return e}var u$=/[ \f\n\r\t\v\u2028\u2029]+/,d$=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];At(r)||(n?s=r.toString().split(""):s=r.toString().split(u$));var l=s.map(function(d){return{word:d,width:pu(d,i).width}}),u=n?0:pu("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},WY=function(t,r,n,i,s){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,p=Ve(l),h=u,g=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(B,Z){var z=Z.word,te=Z.width,re=B[B.length-1];if(re&&(i==null||s||re.width+te+n<Number(i)))re.words.push(z),re.width+=te+n;else{var V={words:[z],width:te};B.push(V)}return B},[])},v=g(r),w=function(L){return L.reduce(function(B,Z){return B.width>Z.width?B:Z})};if(!p)return v;for(var b="",x=function(L){var B=h.slice(0,L),Z=d$({breakAll:f,style:d,children:B+b}).wordsWithComputedWidth,z=g(Z),te=z.length>l||w(z).width>Number(i);return[te,z]},S=0,C=h.length-1,k=0,E;S<=C&&k<=h.length-1;){var _=Math.floor((S+C)/2),A=_-1,P=x(A),T=fA(P,2),M=T[0],R=T[1],D=x(_),q=fA(D,1),F=q[0];if(!M&&!F&&(S=_+1),M&&F&&(C=_-1),!M&&F){E=R;break}k++}return E||v},hA=function(t){var r=At(t)?[]:t.toString().split(u$);return[{words:r}]},HY=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,l=t.breakAll,u=t.maxLines;if((r||n)&&!po.isSsr){var d,f,p=d$({breakAll:l,children:i,style:s});if(p){var h=p.wordsWithComputedWidth,g=p.spaceWidth;d=h,f=g}else return hA(i);return WY({breakAll:l,children:i,maxLines:u,style:s},d,f,r,n)}return hA(i)},mA="#808080",ao=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,p=t.scaleToFit,h=p===void 0?!1:p,g=t.textAnchor,v=g===void 0?"start":g,w=t.verticalAnchor,b=w===void 0?"end":w,x=t.fill,S=x===void 0?mA:x,C=dA(t,$Y),k=j.useMemo(function(){return HY({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:h,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,h,C.style,C.width]),E=C.dx,_=C.dy,A=C.angle,P=C.className,T=C.breakAll,M=dA(C,LY);if(!Fr(n)||!Fr(s))return null;var R=n+(Ve(E)?E:0),D=s+(Ve(_)?_:0),q;switch(b){case"start":q=D0("calc(".concat(f,")"));break;case"middle":q=D0("calc(".concat((k.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:q=D0("calc(".concat(k.length-1," * -").concat(u,")"));break}var F=[];if(h){var $=k[0].width,L=C.width;F.push("scale(".concat((Ve(L)?L/$:1)/$,")"))}return A&&F.push("rotate(".concat(A,", ").concat(R,", ").concat(D,")")),F.length&&(M.transform=F.join(" ")),H.createElement("text",Nw({},bt(M,!0),{x:R,y:D,className:Ot("recharts-text",P),textAnchor:v,fill:S.includes("url")?mA:S}),k.map(function(B,Z){var z=B.words.join(T?"":" ");return H.createElement("tspan",{x:R,dy:Z===0?q:u,key:"".concat(z,"-").concat(Z)},z)}))};function cs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $j(e){let t,r,n;e.length!==2?(t=cs,r=(u,d)=>cs(e(u),d),n=(u,d)=>e(u)-d):(t=e===cs||e===VY?e:KY,r=e,n=e);function i(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const h=f+p>>>1;r(u[h],d)<0?f=h+1:p=h}while(f<p)}return f}function s(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const h=f+p>>>1;r(u[h],d)<=0?f=h+1:p=h}while(f<p)}return f}function l(u,d,f=0,p=u.length){const h=i(u,d,f,p-1);return h>f&&n(u[h-1],d)>-n(u[h],d)?h-1:h}return{left:i,center:l,right:s}}function KY(){return 0}function f$(e){return e===null?NaN:+e}function*GY(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const YY=$j(cs),vd=YY.right;$j(f$).center;class gA extends Map{constructor(t,r=QY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(yA(this,t))}has(t){return super.has(yA(this,t))}set(t,r){return super.set(XY(this,t),r)}delete(t){return super.delete(JY(this,t))}}function yA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function XY({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function JY({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function QY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ZY(e=cs){if(e===cs)return p$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function p$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const eX=Math.sqrt(50),tX=Math.sqrt(10),rX=Math.sqrt(2);function $p(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),l=s>=eX?10:s>=tX?5:s>=rX?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?$p(e,t,r*2):[u,d,f]}function Cw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,l]=n?$p(t,e,r):$p(e,t,r);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(s-f)/-l;else for(let f=0;f<u;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function Pw(e,t,r){return t=+t,e=+e,r=+r,$p(e,t,r)[2]}function Ew(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Pw(t,e,r):Pw(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function vA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function xA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function h$(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?p$:ZY(i);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,p=Math.log(d),h=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*h*(d-h)/d)*(f-d/2<0?-1:1),v=Math.max(r,Math.floor(t-f*h/d+g)),w=Math.min(n,Math.floor(t+(d-f)*h/d+g));h$(e,t,v,w,i)}const s=e[t];let l=r,u=n;for(Yc(e,r,t),i(e[n],s)>0&&Yc(e,r,n);l<u;){for(Yc(e,l,u),++l,--u;i(e[l],s)<0;)++l;for(;i(e[u],s)>0;)--u}i(e[r],s)===0?Yc(e,r,u):(++u,Yc(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Yc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function nX(e,t,r){if(e=Float64Array.from(GY(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return xA(e);if(t>=1)return vA(e);var n,i=(n-1)*t,s=Math.floor(i),l=vA(h$(e,s).subarray(0,s+1)),u=xA(e.subarray(s+1));return l+(u-l)*(i-s)}}function iX(e,t,r=f$){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(i-s)}}function aX(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function li(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Na(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Aw=Symbol("implicit");function Lj(){var e=new gA,t=[],r=[],n=Aw;function i(s){let l=e.get(s);if(l===void 0){if(n!==Aw)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new gA;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Lj(t,r).unknown(n)},li.apply(i,arguments),i}function Mu(){var e=Lj().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,l,u=!1,d=0,f=0,p=.5;delete e.unknown;function h(){var g=t().length,v=i<n,w=v?i:n,b=v?n:i;s=(b-w)/Math.max(1,g-d+f*2),u&&(s=Math.floor(s)),w+=(b-w-s*(g-d))*p,l=s*(1-d),u&&(w=Math.round(w),l=Math.round(l));var x=aX(g).map(function(S){return w+s*S});return r(v?x.reverse():x)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,u=!0,h()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(g){return arguments.length?(u=!!g,h()):u},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),h()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),h()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,h()):f},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),h()):p},e.copy=function(){return Mu(t(),[n,i]).round(u).paddingInner(d).paddingOuter(f).align(p)},li.apply(h(),arguments)}function m$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return m$(t())},e}function hu(){return m$(Mu.apply(null,arguments).paddingInner(1))}function Fj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function g$(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function xd(){}var Du=.7,Lp=1/Du,fl="\\s*([+-]?\\d+)\\s*",Iu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sX=/^#([0-9a-f]{3,8})$/,oX=new RegExp(`^rgb\\(${fl},${fl},${fl}\\)$`),lX=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),cX=new RegExp(`^rgba\\(${fl},${fl},${fl},${Iu}\\)$`),uX=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${Iu}\\)$`),dX=new RegExp(`^hsl\\(${Iu},${Wi},${Wi}\\)$`),fX=new RegExp(`^hsla\\(${Iu},${Wi},${Wi},${Iu}\\)$`),bA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fj(xd,$u,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wA,formatHex:wA,formatHex8:pX,formatHsl:hX,formatRgb:jA,toString:jA});function wA(){return this.rgb().formatHex()}function pX(){return this.rgb().formatHex8()}function hX(){return y$(this).formatHsl()}function jA(){return this.rgb().formatRgb()}function $u(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=sX.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?_A(t):r===3?new Cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Zf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Zf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oX.exec(e))?new Cn(t[1],t[2],t[3],1):(t=lX.exec(e))?new Cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cX.exec(e))?Zf(t[1],t[2],t[3],t[4]):(t=uX.exec(e))?Zf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dX.exec(e))?NA(t[1],t[2]/100,t[3]/100,1):(t=fX.exec(e))?NA(t[1],t[2]/100,t[3]/100,t[4]):bA.hasOwnProperty(e)?_A(bA[e]):e==="transparent"?new Cn(NaN,NaN,NaN,0):null}function _A(e){return new Cn(e>>16&255,e>>8&255,e&255,1)}function Zf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Cn(e,t,r,n)}function mX(e){return e instanceof xd||(e=$u(e)),e?(e=e.rgb(),new Cn(e.r,e.g,e.b,e.opacity)):new Cn}function Ow(e,t,r,n){return arguments.length===1?mX(e):new Cn(e,t,r,n??1)}function Cn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Fj(Cn,Ow,g$(xd,{brighter(e){return e=e==null?Lp:Math.pow(Lp,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Du:Math.pow(Du,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Cn(Ys(this.r),Ys(this.g),Ys(this.b),Fp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SA,formatHex:SA,formatHex8:gX,formatRgb:kA,toString:kA}));function SA(){return`#${qs(this.r)}${qs(this.g)}${qs(this.b)}`}function gX(){return`#${qs(this.r)}${qs(this.g)}${qs(this.b)}${qs((isNaN(this.opacity)?1:this.opacity)*255)}`}function kA(){const e=Fp(this.opacity);return`${e===1?"rgb(":"rgba("}${Ys(this.r)}, ${Ys(this.g)}, ${Ys(this.b)}${e===1?")":`, ${e})`}`}function Fp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ys(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qs(e){return e=Ys(e),(e<16?"0":"")+e.toString(16)}function NA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ji(e,t,r,n)}function y$(e){if(e instanceof ji)return new ji(e.h,e.s,e.l,e.opacity);if(e instanceof xd||(e=$u(e)),!e)return new ji;if(e instanceof ji)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-i,d=(s+i)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?s+i:2-s-i,l*=60):u=d>0&&d<1?0:l,new ji(l,u,d,e.opacity)}function yX(e,t,r,n){return arguments.length===1?y$(e):new ji(e,t,r,n??1)}function ji(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Fj(ji,yX,g$(xd,{brighter(e){return e=e==null?Lp:Math.pow(Lp,e),new ji(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Du:Math.pow(Du,e),new ji(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Cn(I0(e>=240?e-240:e+120,i,n),I0(e,i,n),I0(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ji(CA(this.h),ep(this.s),ep(this.l),Fp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fp(this.opacity);return`${e===1?"hsl(":"hsla("}${CA(this.h)}, ${ep(this.s)*100}%, ${ep(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CA(e){return e=(e||0)%360,e<0?e+360:e}function ep(e){return Math.max(0,Math.min(1,e||0))}function I0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Bj=e=>()=>e;function vX(e,t){return function(r){return e+r*t}}function xX(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function bX(e){return(e=+e)==1?v$:function(t,r){return r-t?xX(t,r,e):Bj(isNaN(t)?r:t)}}function v$(e,t){var r=t-e;return r?vX(e,r):Bj(isNaN(e)?t:e)}const PA=(function e(t){var r=bX(t);function n(i,s){var l=r((i=Ow(i)).r,(s=Ow(s)).r),u=r(i.g,s.g),d=r(i.b,s.b),f=v$(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=f(p),i+""}}return n.gamma=e,n})(1);function wX(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function jX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _X(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)i[l]=sc(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=i[l](u);return s}}function SX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Bp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kX(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=sc(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Tw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$0=new RegExp(Tw.source,"g");function NX(e){return function(){return e}}function CX(e){return function(t){return e(t)+""}}function PX(e,t){var r=Tw.lastIndex=$0.lastIndex=0,n,i,s,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=Tw.exec(e))&&(i=$0.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:Bp(n,i)})),r=$0.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?CX(d[0].x):NX(t):(t=d.length,function(f){for(var p=0,h;p<t;++p)u[(h=d[p]).i]=h.x(f);return u.join("")})}function sc(e,t){var r=typeof t,n;return t==null||r==="boolean"?Bj(t):(r==="number"?Bp:r==="string"?(n=$u(t))?(t=n,PA):PX:t instanceof $u?PA:t instanceof Date?SX:jX(t)?wX:Array.isArray(t)?_X:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kX:Bp)(e,t)}function zj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function EX(e,t){t===void 0&&(t=e,e=sc);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function AX(e){return function(){return e}}function zp(e){return+e}var EA=[0,1];function mn(e){return e}function Rw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:AX(isNaN(t)?NaN:.5)}function OX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function TX(e,t,r){var n=e[0],i=e[1],s=t[0],l=t[1];return i<n?(n=Rw(i,n),s=r(l,s)):(n=Rw(n,i),s=r(s,l)),function(u){return s(n(u))}}function RX(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=Rw(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var d=vd(e,u,1,n)-1;return s[d](i[d](u))}}function bd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xh(){var e=EA,t=EA,r=sc,n,i,s,l=mn,u,d,f;function p(){var g=Math.min(e.length,t.length);return l!==mn&&(l=OX(e[0],e[g-1])),u=g>2?RX:TX,d=f=null,h}function h(g){return g==null||isNaN(g=+g)?s:(d||(d=u(e.map(n),t,r)))(n(l(g)))}return h.invert=function(g){return l(i((f||(f=u(t,e.map(n),Bp)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,zp),p()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),r=zj,p()},h.clamp=function(g){return arguments.length?(l=g?!0:mn,p()):l!==mn},h.interpolate=function(g){return arguments.length?(r=g,p()):r},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return n=g,i=v,p()}}function Uj(){return Xh()(mn,mn)}function MX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Up(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Pl(e){return e=Up(Math.abs(e)),e?e[1]:NaN}function DX(e,t){return function(r,n){for(var i=r.length,s=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function IX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $X=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lu(e){if(!(t=$X.exec(e)))throw new Error("invalid format: "+e);var t;return new qj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Lu.prototype=qj.prototype;function qj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LX(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var x$;function FX(e,t){var r=Up(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(x$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Up(e,Math.max(0,t+s-1))[0]}function AA(e,t){var r=Up(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const OA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:MX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>AA(e*100,t),r:AA,s:FX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function TA(e){return e}var RA=Array.prototype.map,MA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BX(e){var t=e.grouping===void 0||e.thousands===void 0?TA:DX(RA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?TA:IX(RA.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(h){h=Lu(h);var g=h.fill,v=h.align,w=h.sign,b=h.symbol,x=h.zero,S=h.width,C=h.comma,k=h.precision,E=h.trim,_=h.type;_==="n"?(C=!0,_="g"):OA[_]||(k===void 0&&(k=12),E=!0,_="g"),(x||g==="0"&&v==="=")&&(x=!0,g="0",v="=");var A=b==="$"?r:b==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",P=b==="$"?n:/[%p]/.test(_)?l:"",T=OA[_],M=/[defgprs%]/.test(_);k=k===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function R(D){var q=A,F=P,$,L,B;if(_==="c")F=T(D)+F,D="";else{D=+D;var Z=D<0||1/D<0;if(D=isNaN(D)?d:T(Math.abs(D),k),E&&(D=LX(D)),Z&&+D==0&&w!=="+"&&(Z=!1),q=(Z?w==="("?w:u:w==="-"||w==="("?"":w)+q,F=(_==="s"?MA[8+x$/3]:"")+F+(Z&&w==="("?")":""),M){for($=-1,L=D.length;++$<L;)if(B=D.charCodeAt($),48>B||B>57){F=(B===46?i+D.slice($+1):D.slice($))+F,D=D.slice(0,$);break}}}C&&!x&&(D=t(D,1/0));var z=q.length+D.length+F.length,te=z<S?new Array(S-z+1).join(g):"";switch(C&&x&&(D=t(te+D,te.length?S-F.length:1/0),te=""),v){case"<":D=q+D+F+te;break;case"=":D=q+te+D+F;break;case"^":D=te.slice(0,z=te.length>>1)+q+D+F+te.slice(z);break;default:D=te+q+D+F;break}return s(D)}return R.toString=function(){return h+""},R}function p(h,g){var v=f((h=Lu(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(Pl(g)/3)))*3,b=Math.pow(10,-w),x=MA[8+w/3];return function(S){return v(b*S)+x}}return{format:f,formatPrefix:p}}var tp,Wj,b$;zX({thousands:",",grouping:[3],currency:["$",""]});function zX(e){return tp=BX(e),Wj=tp.format,b$=tp.formatPrefix,tp}function UX(e){return Math.max(0,-Pl(Math.abs(e)))}function qX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pl(t)/3)))*3-Pl(Math.abs(e)))}function WX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pl(t)-Pl(e))+1}function w$(e,t,r,n){var i=Ew(e,t,r),s;switch(n=Lu(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=qX(i,l))&&(n.precision=s),b$(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=WX(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=UX(i))&&(n.precision=s-(n.type==="%")*2);break}}return Wj(n)}function ys(e){var t=e.domain;return e.ticks=function(r){var n=t();return Cw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return w$(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,l=n[i],u=n[s],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=i,i=s,s=f);p-- >0;){if(f=Pw(l,u,r),f===d)return n[i]=l,n[s]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function qp(){var e=Uj();return e.copy=function(){return bd(e,qp())},li.apply(e,arguments),ys(e)}function j$(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,zp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return j$(e).unknown(t)},e=arguments.length?Array.from(e,zp):[0,1],ys(r)}function _$(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],l;return s<i&&(l=r,r=n,n=l,l=i,i=s,s=l),e[r]=t.floor(i),e[n]=t.ceil(s),e}function DA(e){return Math.log(e)}function IA(e){return Math.exp(e)}function HX(e){return-Math.log(-e)}function VX(e){return-Math.exp(-e)}function KX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function GX(e){return e===10?KX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function YX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $A(e){return(t,r)=>-e(-t,r)}function Hj(e){const t=e(DA,IA),r=t.domain;let n=10,i,s;function l(){return i=YX(n),s=GX(n),r()[0]<0?(i=$A(i),s=$A(s),e(HX,VX)):e(DA,IA),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const h=p<f;h&&([f,p]=[p,f]);let g=i(f),v=i(p),w,b;const x=u==null?10:+u;let S=[];if(!(n%1)&&v-g<x){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(w=1;w<n;++w)if(b=g<0?w/s(-g):w*s(g),!(b<f)){if(b>p)break;S.push(b)}}else for(;g<=v;++g)for(w=n-1;w>=1;--w)if(b=g>0?w/s(-g):w*s(g),!(b<f)){if(b>p)break;S.push(b)}S.length*2<x&&(S=Cw(f,p,x))}else S=Cw(g,v,Math.min(v-g,x)).map(s);return h?S.reverse():S},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Lu(d)).precision==null&&(d.trim=!0),d=Wj(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return p=>{let h=p/s(Math.round(i(p)));return h*n<n-.5&&(h*=n),h<=f?d(p):""}},t.nice=()=>r(_$(r(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),t}function S$(){const e=Hj(Xh()).domain([1,10]);return e.copy=()=>bd(e,S$()).base(e.base()),li.apply(e,arguments),e}function LA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function FA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Vj(e){var t=1,r=e(LA(t),FA(t));return r.constant=function(n){return arguments.length?e(LA(t=+n),FA(t)):t},ys(r)}function k$(){var e=Vj(Xh());return e.copy=function(){return bd(e,k$()).constant(e.constant())},li.apply(e,arguments)}function BA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function XX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function JX(e){return e<0?-e*e:e*e}function Kj(e){var t=e(mn,mn),r=1;function n(){return r===1?e(mn,mn):r===.5?e(XX,JX):e(BA(r),BA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ys(t)}function Gj(){var e=Kj(Xh());return e.copy=function(){return bd(e,Gj()).exponent(e.exponent())},li.apply(e,arguments),e}function QX(){return Gj.apply(null,arguments).exponent(.5)}function zA(e){return Math.sign(e)*e*e}function ZX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function N$(){var e=Uj(),t=[0,1],r=!1,n;function i(s){var l=ZX(e(s));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(s){return e.invert(zA(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,zp)).map(zA)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return N$(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},li.apply(i,arguments),ys(i)}function C$(){var e=[],t=[],r=[],n;function i(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=iX(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[vd(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(cs),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return C$().domain(e).range(t).unknown(n)},li.apply(s,arguments)}function P$(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[vd(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return P$().domain([e,t]).range(i).unknown(s)},li.apply(ys(l),arguments)}function E$(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[vd(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return E$().domain(e).range(t).unknown(r)},li.apply(i,arguments)}const L0=new Date,F0=new Date;function Br(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let f;do d.push(f=new Date(+s)),t(s,u),e(s);while(f<s&&s<l);return d},i.filter=s=>Br(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(i.count=(s,l)=>(L0.setTime(+s),F0.setTime(+l),e(L0),e(F0),Math.floor(r(L0,F0))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?l=>n(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Wp=Br(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Wp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Br(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Wp);Wp.range;const da=1e3,ai=da*60,fa=ai*60,ba=fa*24,Yj=ba*7,UA=ba*30,B0=ba*365,Ws=Br(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getUTCSeconds());Ws.range;const Xj=Br(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*da)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getMinutes());Xj.range;const Jj=Br(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getUTCMinutes());Jj.range;const Qj=Br(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*da-e.getMinutes()*ai)},(e,t)=>{e.setTime(+e+t*fa)},(e,t)=>(t-e)/fa,e=>e.getHours());Qj.range;const Zj=Br(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fa)},(e,t)=>(t-e)/fa,e=>e.getUTCHours());Zj.range;const wd=Br(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ai)/ba,e=>e.getDate()-1);wd.range;const Jh=Br(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ba,e=>e.getUTCDate()-1);Jh.range;const A$=Br(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ba,e=>Math.floor(e/ba));A$.range;function ho(e){return Br(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ai)/Yj)}const Qh=ho(0),Hp=ho(1),eJ=ho(2),tJ=ho(3),El=ho(4),rJ=ho(5),nJ=ho(6);Qh.range;Hp.range;eJ.range;tJ.range;El.range;rJ.range;nJ.range;function mo(e){return Br(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Yj)}const Zh=mo(0),Vp=mo(1),iJ=mo(2),aJ=mo(3),Al=mo(4),sJ=mo(5),oJ=mo(6);Zh.range;Vp.range;iJ.range;aJ.range;Al.range;sJ.range;oJ.range;const e_=Br(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());e_.range;const t_=Br(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());t_.range;const wa=Br(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Br(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wa.range;const ja=Br(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ja.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Br(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ja.range;function O$(e,t,r,n,i,s){const l=[[Ws,1,da],[Ws,5,5*da],[Ws,15,15*da],[Ws,30,30*da],[s,1,ai],[s,5,5*ai],[s,15,15*ai],[s,30,30*ai],[i,1,fa],[i,3,3*fa],[i,6,6*fa],[i,12,12*fa],[n,1,ba],[n,2,2*ba],[r,1,Yj],[t,1,UA],[t,3,3*UA],[e,1,B0]];function u(f,p,h){const g=p<f;g&&([f,p]=[p,f]);const v=h&&typeof h.range=="function"?h:d(f,p,h),w=v?v.range(f,+p+1):[];return g?w.reverse():w}function d(f,p,h){const g=Math.abs(p-f)/h,v=$j(([,,x])=>x).right(l,g);if(v===l.length)return e.every(Ew(f/B0,p/B0,h));if(v===0)return Wp.every(Math.max(Ew(f,p,h),1));const[w,b]=l[g/l[v-1][2]<l[v][2]/g?v-1:v];return w.every(b)}return[u,d]}const[lJ,cJ]=O$(ja,t_,Zh,A$,Zj,Jj),[uJ,dJ]=O$(wa,e_,Qh,wd,Qj,Xj);function z0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function U0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function fJ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Jc(i),p=Qc(i),h=Jc(s),g=Qc(s),v=Jc(l),w=Qc(l),b=Jc(u),x=Qc(u),S=Jc(d),C=Qc(d),k={a:Z,A:z,b:te,B:re,c:null,d:GA,e:GA,f:DJ,g:HJ,G:KJ,H:TJ,I:RJ,j:MJ,L:T$,m:IJ,M:$J,p:V,q:X,Q:JA,s:QA,S:LJ,u:FJ,U:BJ,V:zJ,w:UJ,W:qJ,x:null,X:null,y:WJ,Y:VJ,Z:GJ,"%":XA},E={a:le,A:ce,b:Se,B:xe,c:null,d:YA,e:YA,f:QJ,g:lQ,G:uQ,H:YJ,I:XJ,j:JJ,L:M$,m:ZJ,M:eQ,p:ye,q:Ae,Q:JA,s:QA,S:tQ,u:rQ,U:nQ,V:iQ,w:aQ,W:sQ,x:null,X:null,y:oQ,Y:cQ,Z:dQ,"%":XA},_={a:R,A:D,b:q,B:F,c:$,d:VA,e:VA,f:PJ,g:HA,G:WA,H:KA,I:KA,j:SJ,L:CJ,m:_J,M:kJ,p:M,q:jJ,Q:AJ,s:OJ,S:NJ,u:yJ,U:vJ,V:xJ,w:gJ,W:bJ,x:L,X:B,y:HA,Y:WA,Z:wJ,"%":EJ};k.x=A(r,k),k.X=A(n,k),k.c=A(t,k),E.x=A(r,E),E.X=A(n,E),E.c=A(t,E);function A(G,ue){return function(ee){var W=[],Y=-1,se=0,me=G.length,we,ve,K;for(ee instanceof Date||(ee=new Date(+ee));++Y<me;)G.charCodeAt(Y)===37&&(W.push(G.slice(se,Y)),(ve=qA[we=G.charAt(++Y)])!=null?we=G.charAt(++Y):ve=we==="e"?" ":"0",(K=ue[we])&&(we=K(ee,ve)),W.push(we),se=Y+1);return W.push(G.slice(se,Y)),W.join("")}}function P(G,ue){return function(ee){var W=Xc(1900,void 0,1),Y=T(W,G,ee+="",0),se,me;if(Y!=ee.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ue&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(se=U0(Xc(W.y,0,1)),me=se.getUTCDay(),se=me>4||me===0?Vp.ceil(se):Vp(se),se=Jh.offset(se,(W.V-1)*7),W.y=se.getUTCFullYear(),W.m=se.getUTCMonth(),W.d=se.getUTCDate()+(W.w+6)%7):(se=z0(Xc(W.y,0,1)),me=se.getDay(),se=me>4||me===0?Hp.ceil(se):Hp(se),se=wd.offset(se,(W.V-1)*7),W.y=se.getFullYear(),W.m=se.getMonth(),W.d=se.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),me="Z"in W?U0(Xc(W.y,0,1)).getUTCDay():z0(Xc(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(me+5)%7:W.w+W.U*7-(me+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,U0(W)):z0(W)}}function T(G,ue,ee,W){for(var Y=0,se=ue.length,me=ee.length,we,ve;Y<se;){if(W>=me)return-1;if(we=ue.charCodeAt(Y++),we===37){if(we=ue.charAt(Y++),ve=_[we in qA?ue.charAt(Y++):we],!ve||(W=ve(G,ee,W))<0)return-1}else if(we!=ee.charCodeAt(W++))return-1}return W}function M(G,ue,ee){var W=f.exec(ue.slice(ee));return W?(G.p=p.get(W[0].toLowerCase()),ee+W[0].length):-1}function R(G,ue,ee){var W=v.exec(ue.slice(ee));return W?(G.w=w.get(W[0].toLowerCase()),ee+W[0].length):-1}function D(G,ue,ee){var W=h.exec(ue.slice(ee));return W?(G.w=g.get(W[0].toLowerCase()),ee+W[0].length):-1}function q(G,ue,ee){var W=S.exec(ue.slice(ee));return W?(G.m=C.get(W[0].toLowerCase()),ee+W[0].length):-1}function F(G,ue,ee){var W=b.exec(ue.slice(ee));return W?(G.m=x.get(W[0].toLowerCase()),ee+W[0].length):-1}function $(G,ue,ee){return T(G,t,ue,ee)}function L(G,ue,ee){return T(G,r,ue,ee)}function B(G,ue,ee){return T(G,n,ue,ee)}function Z(G){return l[G.getDay()]}function z(G){return s[G.getDay()]}function te(G){return d[G.getMonth()]}function re(G){return u[G.getMonth()]}function V(G){return i[+(G.getHours()>=12)]}function X(G){return 1+~~(G.getMonth()/3)}function le(G){return l[G.getUTCDay()]}function ce(G){return s[G.getUTCDay()]}function Se(G){return d[G.getUTCMonth()]}function xe(G){return u[G.getUTCMonth()]}function ye(G){return i[+(G.getUTCHours()>=12)]}function Ae(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ue=A(G+="",k);return ue.toString=function(){return G},ue},parse:function(G){var ue=P(G+="",!1);return ue.toString=function(){return G},ue},utcFormat:function(G){var ue=A(G+="",E);return ue.toString=function(){return G},ue},utcParse:function(G){var ue=P(G+="",!0);return ue.toString=function(){return G},ue}}}var qA={"-":"",_:" ",0:"0"},Xr=/^\s*\d+/,pJ=/^%/,hJ=/[\\^$*+?|[\]().{}]/g;function Zt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function mJ(e){return e.replace(hJ,"\\$&")}function Jc(e){return new RegExp("^(?:"+e.map(mJ).join("|")+")","i")}function Qc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function gJ(e,t,r){var n=Xr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function yJ(e,t,r){var n=Xr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function vJ(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function xJ(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function bJ(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function WA(e,t,r){var n=Xr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function HA(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function wJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jJ(e,t,r){var n=Xr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function _J(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function VA(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function SJ(e,t,r){var n=Xr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function KA(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function kJ(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function NJ(e,t,r){var n=Xr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function CJ(e,t,r){var n=Xr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function PJ(e,t,r){var n=Xr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function EJ(e,t,r){var n=pJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function AJ(e,t,r){var n=Xr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function OJ(e,t,r){var n=Xr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function GA(e,t){return Zt(e.getDate(),t,2)}function TJ(e,t){return Zt(e.getHours(),t,2)}function RJ(e,t){return Zt(e.getHours()%12||12,t,2)}function MJ(e,t){return Zt(1+wd.count(wa(e),e),t,3)}function T$(e,t){return Zt(e.getMilliseconds(),t,3)}function DJ(e,t){return T$(e,t)+"000"}function IJ(e,t){return Zt(e.getMonth()+1,t,2)}function $J(e,t){return Zt(e.getMinutes(),t,2)}function LJ(e,t){return Zt(e.getSeconds(),t,2)}function FJ(e){var t=e.getDay();return t===0?7:t}function BJ(e,t){return Zt(Qh.count(wa(e)-1,e),t,2)}function R$(e){var t=e.getDay();return t>=4||t===0?El(e):El.ceil(e)}function zJ(e,t){return e=R$(e),Zt(El.count(wa(e),e)+(wa(e).getDay()===4),t,2)}function UJ(e){return e.getDay()}function qJ(e,t){return Zt(Hp.count(wa(e)-1,e),t,2)}function WJ(e,t){return Zt(e.getFullYear()%100,t,2)}function HJ(e,t){return e=R$(e),Zt(e.getFullYear()%100,t,2)}function VJ(e,t){return Zt(e.getFullYear()%1e4,t,4)}function KJ(e,t){var r=e.getDay();return e=r>=4||r===0?El(e):El.ceil(e),Zt(e.getFullYear()%1e4,t,4)}function GJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Zt(t/60|0,"0",2)+Zt(t%60,"0",2)}function YA(e,t){return Zt(e.getUTCDate(),t,2)}function YJ(e,t){return Zt(e.getUTCHours(),t,2)}function XJ(e,t){return Zt(e.getUTCHours()%12||12,t,2)}function JJ(e,t){return Zt(1+Jh.count(ja(e),e),t,3)}function M$(e,t){return Zt(e.getUTCMilliseconds(),t,3)}function QJ(e,t){return M$(e,t)+"000"}function ZJ(e,t){return Zt(e.getUTCMonth()+1,t,2)}function eQ(e,t){return Zt(e.getUTCMinutes(),t,2)}function tQ(e,t){return Zt(e.getUTCSeconds(),t,2)}function rQ(e){var t=e.getUTCDay();return t===0?7:t}function nQ(e,t){return Zt(Zh.count(ja(e)-1,e),t,2)}function D$(e){var t=e.getUTCDay();return t>=4||t===0?Al(e):Al.ceil(e)}function iQ(e,t){return e=D$(e),Zt(Al.count(ja(e),e)+(ja(e).getUTCDay()===4),t,2)}function aQ(e){return e.getUTCDay()}function sQ(e,t){return Zt(Vp.count(ja(e)-1,e),t,2)}function oQ(e,t){return Zt(e.getUTCFullYear()%100,t,2)}function lQ(e,t){return e=D$(e),Zt(e.getUTCFullYear()%100,t,2)}function cQ(e,t){return Zt(e.getUTCFullYear()%1e4,t,4)}function uQ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Al(e):Al.ceil(e),Zt(e.getUTCFullYear()%1e4,t,4)}function dQ(){return"+0000"}function XA(){return"%"}function JA(e){return+e}function QA(e){return Math.floor(+e/1e3)}var Qo,I$,$$;fQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fQ(e){return Qo=fJ(e),I$=Qo.format,Qo.parse,$$=Qo.utcFormat,Qo.utcParse,Qo}function pQ(e){return new Date(e)}function hQ(e){return e instanceof Date?+e:+new Date(+e)}function r_(e,t,r,n,i,s,l,u,d,f){var p=Uj(),h=p.invert,g=p.domain,v=f(".%L"),w=f(":%S"),b=f("%I:%M"),x=f("%I %p"),S=f("%a %d"),C=f("%b %d"),k=f("%B"),E=f("%Y");function _(A){return(d(A)<A?v:u(A)<A?w:l(A)<A?b:s(A)<A?x:n(A)<A?i(A)<A?S:C:r(A)<A?k:E)(A)}return p.invert=function(A){return new Date(h(A))},p.domain=function(A){return arguments.length?g(Array.from(A,hQ)):g().map(pQ)},p.ticks=function(A){var P=g();return e(P[0],P[P.length-1],A??10)},p.tickFormat=function(A,P){return P==null?_:f(P)},p.nice=function(A){var P=g();return(!A||typeof A.range!="function")&&(A=t(P[0],P[P.length-1],A??10)),A?g(_$(P,A)):p},p.copy=function(){return bd(p,r_(e,t,r,n,i,s,l,u,d,f))},p}function mQ(){return li.apply(r_(uJ,dJ,wa,e_,Qh,wd,Qj,Xj,Ws,I$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gQ(){return li.apply(r_(lJ,cJ,ja,t_,Zh,Jh,Zj,Jj,Ws,$$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function em(){var e=0,t=1,r,n,i,s,l=mn,u=!1,d;function f(h){return h==null||isNaN(h=+h)?d:l(i===0?.5:(h=(s(h)-r)*i,u?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(h){return arguments.length?(u=!!h,f):u},f.interpolator=function(h){return arguments.length?(l=h,f):l};function p(h){return function(g){var v,w;return arguments.length?([v,w]=g,l=h(v,w),f):[l(0),l(1)]}}return f.range=p(sc),f.rangeRound=p(zj),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return s=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),f}}function vs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function L$(){var e=ys(em()(mn));return e.copy=function(){return vs(e,L$())},Na.apply(e,arguments)}function F$(){var e=Hj(em()).domain([1,10]);return e.copy=function(){return vs(e,F$()).base(e.base())},Na.apply(e,arguments)}function B$(){var e=Vj(em());return e.copy=function(){return vs(e,B$()).constant(e.constant())},Na.apply(e,arguments)}function n_(){var e=Kj(em());return e.copy=function(){return vs(e,n_()).exponent(e.exponent())},Na.apply(e,arguments)}function yQ(){return n_.apply(null,arguments).exponent(.5)}function z$(){var e=[],t=mn;function r(n){if(n!=null&&!isNaN(n=+n))return t((vd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(cs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>nX(e,s/n))},r.copy=function(){return z$(t).domain(e)},Na.apply(r,arguments)}function tm(){var e=0,t=.5,r=1,n=1,i,s,l,u,d,f=mn,p,h=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+p(b))-s)*(n*b<n*s?u:d),f(h?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,t,r]=b,i=p(e=+e),s=p(t=+t),l=p(r=+r),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),n=s<i?-1:1,v):[e,t,r]},v.clamp=function(b){return arguments.length?(h=!!b,v):h},v.interpolator=function(b){return arguments.length?(f=b,v):f};function w(b){return function(x){var S,C,k;return arguments.length?([S,C,k]=x,f=EX(b,[S,C,k]),v):[f(0),f(.5),f(1)]}}return v.range=w(sc),v.rangeRound=w(zj),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return p=b,i=b(e),s=b(t),l=b(r),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),n=s<i?-1:1,v}}function U$(){var e=ys(tm()(mn));return e.copy=function(){return vs(e,U$())},Na.apply(e,arguments)}function q$(){var e=Hj(tm()).domain([.1,1,10]);return e.copy=function(){return vs(e,q$()).base(e.base())},Na.apply(e,arguments)}function W$(){var e=Vj(tm());return e.copy=function(){return vs(e,W$()).constant(e.constant())},Na.apply(e,arguments)}function i_(){var e=Kj(tm());return e.copy=function(){return vs(e,i_()).exponent(e.exponent())},Na.apply(e,arguments)}function vQ(){return i_.apply(null,arguments).exponent(.5)}const ZA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mu,scaleDiverging:U$,scaleDivergingLog:q$,scaleDivergingPow:i_,scaleDivergingSqrt:vQ,scaleDivergingSymlog:W$,scaleIdentity:j$,scaleImplicit:Aw,scaleLinear:qp,scaleLog:S$,scaleOrdinal:Lj,scalePoint:hu,scalePow:Gj,scaleQuantile:C$,scaleQuantize:P$,scaleRadial:N$,scaleSequential:L$,scaleSequentialLog:F$,scaleSequentialPow:n_,scaleSequentialQuantile:z$,scaleSequentialSqrt:yQ,scaleSequentialSymlog:B$,scaleSqrt:QX,scaleSymlog:k$,scaleThreshold:E$,scaleTime:mQ,scaleUtc:gQ,tickFormat:w$},Symbol.toStringTag,{value:"Module"}));var q0,eO;function rm(){if(eO)return q0;eO=1;var e=rc();function t(r,n,i){for(var s=-1,l=r.length;++s<l;){var u=r[s],d=n(u);if(d!=null&&(f===void 0?d===d&&!e(d):i(d,f)))var f=d,p=u}return p}return q0=t,q0}var W0,tO;function H$(){if(tO)return W0;tO=1;function e(t,r){return t>r}return W0=e,W0}var H0,rO;function xQ(){if(rO)return H0;rO=1;var e=rm(),t=H$(),r=ac();function n(i){return i&&i.length?e(i,r,t):void 0}return H0=n,H0}var bQ=xQ();const nm=er(bQ);var V0,nO;function V$(){if(nO)return V0;nO=1;function e(t,r){return t<r}return V0=e,V0}var K0,iO;function wQ(){if(iO)return K0;iO=1;var e=rm(),t=V$(),r=ac();function n(i){return i&&i.length?e(i,r,t):void 0}return K0=n,K0}var jQ=wQ();const im=er(jQ);var G0,aO;function _Q(){if(aO)return G0;aO=1;var e=bj(),t=Qi(),r=e$(),n=En();function i(s,l){var u=n(s)?e:r;return u(s,t(l,3))}return G0=i,G0}var Y0,sO;function SQ(){if(sO)return Y0;sO=1;var e=QI(),t=_Q();function r(n,i){return e(t(n,i),1)}return Y0=r,Y0}var kQ=SQ();const NQ=er(kQ);var X0,oO;function CQ(){if(oO)return X0;oO=1;var e=Rj();function t(r,n){return e(r,n)}return X0=t,X0}var PQ=CQ();const jd=er(PQ);var oc=1e9,EQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s_,wr=!0,oi="[DecimalError] ",Xs=oi+"Invalid argument: ",a_=oi+"Exponent out of range: ",lc=Math.floor,Fs=Math.pow,AQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bn,Kr=1e7,xr=7,K$=9007199254740991,Kp=lc(K$/xr),nt={};nt.absoluteValue=nt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};nt.comparedTo=nt.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};nt.decimalPlaces=nt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*xr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};nt.dividedBy=nt.div=function(e){return ma(this,new this.constructor(e))};nt.dividedToIntegerBy=nt.idiv=function(e){var t=this,r=t.constructor;return ur(ma(t,new r(e),0,1),r.precision)};nt.equals=nt.eq=function(e){return!this.cmp(e)};nt.exponent=function(){return Tr(this)};nt.greaterThan=nt.gt=function(e){return this.cmp(e)>0};nt.greaterThanOrEqualTo=nt.gte=function(e){return this.cmp(e)>=0};nt.isInteger=nt.isint=function(){return this.e>this.d.length-2};nt.isNegative=nt.isneg=function(){return this.s<0};nt.isPositive=nt.ispos=function(){return this.s>0};nt.isZero=function(){return this.s===0};nt.lessThan=nt.lt=function(e){return this.cmp(e)<0};nt.lessThanOrEqualTo=nt.lte=function(e){return this.cmp(e)<1};nt.logarithm=nt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Bn))throw Error(oi+"NaN");if(r.s<1)throw Error(oi+(r.s?"NaN":"-Infinity"));return r.eq(Bn)?new n(0):(wr=!1,t=ma(Fu(r,s),Fu(e,s),s),wr=!0,ur(t,i))};nt.minus=nt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?X$(t,e):G$(t,(e.s=-e.s,e))};nt.modulo=nt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(oi+"NaN");return r.s?(wr=!1,t=ma(r,e,0,1).times(e),wr=!0,r.minus(t)):ur(new n(r),i)};nt.naturalExponential=nt.exp=function(){return Y$(this)};nt.naturalLogarithm=nt.ln=function(){return Fu(this)};nt.negated=nt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};nt.plus=nt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?G$(t,e):X$(t,(e.s=-e.s,e))};nt.precision=nt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xs+e);if(t=Tr(i)+1,n=i.d.length-1,r=n*xr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};nt.squareRoot=nt.sqrt=function(){var e,t,r,n,i,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(oi+"NaN")}for(e=Tr(u),wr=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=zi(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=lc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(s=n,n=s.plus(ma(u,s,l+2)).times(.5),zi(s.d).slice(0,l)===(t=zi(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(ur(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return wr=!0,ur(n,r)};nt.times=nt.mul=function(e){var t,r,n,i,s,l,u,d,f,p=this,h=p.constructor,g=p.d,v=(e=new h(e)).d;if(!p.s||!e.s)return new h(0);for(e.s*=p.s,r=p.e+e.e,d=g.length,f=v.length,d<f&&(s=g,g=v,v=s,l=d,d=f,f=l),s=[],l=d+f,n=l;n--;)s.push(0);for(n=f;--n>=0;){for(t=0,i=d+n;i>n;)u=s[i]+v[n]*g[i-n-1]+t,s[i--]=u%Kr|0,t=u/Kr|0;s[i]=(s[i]+t)%Kr|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,wr?ur(e,h.precision):e};nt.toDecimalPlaces=nt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Gi(e,0,oc),t===void 0?t=n.rounding:Gi(t,0,8),ur(r,e+Tr(r)+1,t))};nt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=so(n,!0):(Gi(e,0,oc),t===void 0?t=i.rounding:Gi(t,0,8),n=ur(new i(n),e+1,t),r=so(n,!0,e+1)),r};nt.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?so(i):(Gi(e,0,oc),t===void 0?t=s.rounding:Gi(t,0,8),n=ur(new s(i),e+Tr(i)+1,t),r=so(n.abs(),!1,e+Tr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};nt.toInteger=nt.toint=function(){var e=this,t=e.constructor;return ur(new t(e),Tr(e)+1,t.rounding)};nt.toNumber=function(){return+this};nt.toPower=nt.pow=function(e){var t,r,n,i,s,l,u=this,d=u.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(Bn);if(u=new d(u),!u.s){if(e.s<1)throw Error(oi+"Infinity");return u}if(u.eq(Bn))return u;if(n=d.precision,e.eq(Bn))return ur(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=p<0?-p:p)<=K$){for(i=new d(Bn),t=Math.ceil(n/xr+4),wr=!1;r%2&&(i=i.times(u),cO(i.d,t)),r=lc(r/2),r!==0;)u=u.times(u),cO(u.d,t);return wr=!0,e.s<0?new d(Bn).div(i):ur(i,n)}}else if(s<0)throw Error(oi+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,wr=!1,i=e.times(Fu(u,n+f)),wr=!0,i=Y$(i),i.s=s,i};nt.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Tr(i),n=so(i,r<=s.toExpNeg||r>=s.toExpPos)):(Gi(e,1,oc),t===void 0?t=s.rounding:Gi(t,0,8),i=ur(new s(i),e,t),r=Tr(i),n=so(i,e<=r||r<=s.toExpNeg,e)),n};nt.toSignificantDigits=nt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Gi(e,1,oc),t===void 0?t=n.rounding:Gi(t,0,8)),ur(new n(r),e,t)};nt.toString=nt.valueOf=nt.val=nt.toJSON=nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Tr(e),r=e.constructor;return so(e,t<=r.toExpNeg||t>=r.toExpPos)};function G$(e,t){var r,n,i,s,l,u,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),wr?ur(t,h):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),s=l-i,s){for(s<0?(n=d,s=-s,u=f.length):(n=f,i=l,u=d.length),l=Math.ceil(h/xr),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=f.length,u-s<0&&(s=u,n=f,f=d,d=n),r=0;s;)r=(d[--s]=d[s]+f[s]+r)/Kr|0,d[s]%=Kr;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,wr?ur(t,h):t}function Gi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Xs+e)}function zi(e){var t,r,n,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)n=e[t]+"",r=xr-n.length,r&&(s+=es(r)),s+=n;l=e[t],n=l+"",r=xr-n.length,r&&(s+=es(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var ma=(function(){function e(n,i){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*i+l,n[u]=s%Kr|0,l=s/Kr|0;return l&&n.unshift(l),n}function t(n,i,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,s){for(var l=0;s--;)n[s]-=l,l=n[s]<i[s]?1:0,n[s]=l*Kr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,l){var u,d,f,p,h,g,v,w,b,x,S,C,k,E,_,A,P,T,M=n.constructor,R=n.s==i.s?1:-1,D=n.d,q=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(oi+"Division by zero");for(d=n.e-i.e,P=q.length,_=D.length,v=new M(R),w=v.d=[],f=0;q[f]==(D[f]||0);)++f;if(q[f]>(D[f]||0)&&--d,s==null?C=s=M.precision:l?C=s+(Tr(n)-Tr(i))+1:C=s,C<0)return new M(0);if(C=C/xr+2|0,f=0,P==1)for(p=0,q=q[0],C++;(f<_||p)&&C--;f++)k=p*Kr+(D[f]||0),w[f]=k/q|0,p=k%q|0;else{for(p=Kr/(q[0]+1)|0,p>1&&(q=e(q,p),D=e(D,p),P=q.length,_=D.length),E=P,b=D.slice(0,P),x=b.length;x<P;)b[x++]=0;T=q.slice(),T.unshift(0),A=q[0],q[1]>=Kr/2&&++A;do p=0,u=t(q,b,P,x),u<0?(S=b[0],P!=x&&(S=S*Kr+(b[1]||0)),p=S/A|0,p>1?(p>=Kr&&(p=Kr-1),h=e(q,p),g=h.length,x=b.length,u=t(h,b,g,x),u==1&&(p--,r(h,P<g?T:q,g))):(p==0&&(u=p=1),h=q.slice()),g=h.length,g<x&&h.unshift(0),r(b,h,x),u==-1&&(x=b.length,u=t(q,b,P,x),u<1&&(p++,r(b,P<x?T:q,x))),x=b.length):u===0&&(p++,b=[0]),w[f++]=p,u&&b[0]?b[x++]=D[E]||0:(b=[D[E]],x=1);while((E++<_||b[0]!==void 0)&&C--)}return w[0]||w.shift(),v.e=d,ur(v,l?s+Tr(v)+1:s)}})();function Y$(e,t){var r,n,i,s,l,u,d=0,f=0,p=e.constructor,h=p.precision;if(Tr(e)>16)throw Error(a_+Tr(e));if(!e.s)return new p(Bn);for(wr=!1,u=h,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(Fs(2,f))/Math.LN10*2+5|0,u+=n,r=i=s=new p(Bn),p.precision=u;;){if(i=ur(i.times(e),u),r=r.times(++d),l=s.plus(ma(i,r,u)),zi(l.d).slice(0,u)===zi(s.d).slice(0,u)){for(;f--;)s=ur(s.times(s),u);return p.precision=h,t==null?(wr=!0,ur(s,h)):s}s=l}}function Tr(e){for(var t=e.e*xr,r=e.d[0];r>=10;r/=10)t++;return t}function J0(e,t,r){if(t>e.LN10.sd())throw wr=!0,r&&(e.precision=r),Error(oi+"LN10 precision limit exceeded");return ur(new e(e.LN10),t)}function es(e){for(var t="";e--;)t+="0";return t}function Fu(e,t){var r,n,i,s,l,u,d,f,p,h=1,g=10,v=e,w=v.d,b=v.constructor,x=b.precision;if(v.s<1)throw Error(oi+(v.s?"NaN":"-Infinity"));if(v.eq(Bn))return new b(0);if(t==null?(wr=!1,f=x):f=t,v.eq(10))return t==null&&(wr=!0),J0(b,f);if(f+=g,b.precision=f,r=zi(w),n=r.charAt(0),s=Tr(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=zi(v.d),n=r.charAt(0),h++;s=Tr(v),n>1?(v=new b("0."+r),s++):v=new b(n+"."+r.slice(1))}else return d=J0(b,f+2,x).times(s+""),v=Fu(new b(n+"."+r.slice(1)),f-g).plus(d),b.precision=x,t==null?(wr=!0,ur(v,x)):v;for(u=l=v=ma(v.minus(Bn),v.plus(Bn),f),p=ur(v.times(v),f),i=3;;){if(l=ur(l.times(p),f),d=u.plus(ma(l,new b(i),f)),zi(d.d).slice(0,f)===zi(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(J0(b,f+2,x).times(s+""))),u=ma(u,new b(h),f),b.precision=x,t==null?(wr=!0,ur(u,x)):u;u=d,i+=2}}function lO(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=lc(r/xr),e.d=[],n=(r+1)%xr,r<0&&(n+=xr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=xr;n<i;)e.d.push(+t.slice(n,n+=xr));t=t.slice(n),n=xr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),wr&&(e.e>Kp||e.e<-Kp))throw Error(a_+r)}else e.s=0,e.e=0,e.d=[0];return e}function ur(e,t,r){var n,i,s,l,u,d,f,p,h=e.d;for(l=1,s=h[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=xr,i=t,f=h[p=0];else{if(p=Math.ceil((n+1)/xr),s=h.length,p>=s)return e;for(f=s=h[p],l=1;s>=10;s/=10)l++;n%=xr,i=n-xr+l}if(r!==void 0&&(s=Fs(10,l-i-1),u=f/s%10|0,d=t<0||h[p+1]!==void 0||f%s,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?f/Fs(10,l-i):0:h[p-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return d?(s=Tr(e),h.length=1,t=t-s-1,h[0]=Fs(10,(xr-t%xr)%xr),e.e=lc(-t/xr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=p,s=1,p--):(h.length=p+1,s=Fs(10,xr-n),h[p]=i>0?(f/Fs(10,l-i)%Fs(10,i)|0)*s:0),d)for(;;)if(p==0){(h[0]+=s)==Kr&&(h[0]=1,++e.e);break}else{if(h[p]+=s,h[p]!=Kr)break;h[p--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(wr&&(e.e>Kp||e.e<-Kp))throw Error(a_+Tr(e));return e}function X$(e,t){var r,n,i,s,l,u,d,f,p,h,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),wr?ur(t,v):t;if(d=e.d,h=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(p=l<0,p?(r=d,l=-l,u=h.length):(r=h,n=f,u=d.length),i=Math.max(Math.ceil(v/xr),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=h.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=h[i]){p=d[i]<h[i];break}l=0}for(p&&(r=d,d=h,h=r,t.s=-t.s),u=d.length,i=h.length-u;i>0;--i)d[u++]=0;for(i=h.length;i>l;){if(d[--i]<h[i]){for(s=i;s&&d[--s]===0;)d[s]=Kr-1;--d[s],d[i]+=Kr}d[i]-=h[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,wr?ur(t,v):t):new g(0)}function so(e,t,r){var n,i=Tr(e),s=zi(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+es(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+es(-i-1)+s,r&&(n=r-l)>0&&(s+=es(n))):i>=l?(s+=es(i+1-l),r&&(n=r-i-1)>0&&(s=s+"."+es(n))):((n=i+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(s+="."),s+=es(n))),e.s<0?"-"+s:s}function cO(e,t){if(e.length>t)return e.length=t,!0}function J$(e){var t,r,n;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Xs+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return lO(l,s.toString())}else if(typeof s!="string")throw Error(Xs+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,AQ.test(s))lO(l,s);else throw Error(Xs+s)}if(i.prototype=nt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=J$,i.config=i.set=OQ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function OQ(e){if(!e||typeof e!="object")throw Error(oi+"Object expected");var t,r,n,i=["precision",1,oc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(lc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Xs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xs+r+": "+n);return this}var s_=J$(EQ);Bn=new s_(1);const cr=s_;function TQ(e){return IQ(e)||DQ(e)||MQ(e)||RQ()}function RQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MQ(e,t){if(e){if(typeof e=="string")return Mw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(e,t)}}function DQ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function IQ(e){if(Array.isArray(e))return Mw(e)}function Mw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $Q=function(t){return t},Q$={},Z$=function(t){return t===Q$},uO=function(t){return function r(){return arguments.length===0||arguments.length===1&&Z$(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},LQ=function e(t,r){return t===1?r:uO(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var l=i.filter(function(u){return u!==Q$}).length;return l>=t?r.apply(void 0,i):e(t-l,uO(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=i.map(function(h){return Z$(h)?d.shift():h});return r.apply(void 0,TQ(p).concat(d))}))})},am=function(t){return LQ(t.length,t)},Dw=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},FQ=am(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),BQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $Q;var i=r.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce(function(u,d){return d(u)},s.apply(void 0,arguments))}},Iw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},e6=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return r&&s.every(function(u,d){return u===r[d]})||(r=s,n=t.apply(void 0,s)),n}};function zQ(e){var t;return e===0?t=1:t=Math.floor(new cr(e).abs().log(10).toNumber())+1,t}function UQ(e,t,r){for(var n=new cr(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var qQ=am(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),WQ=am(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),HQ=am(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const sm={rangeStep:UQ,getDigitCount:zQ,interpolateNumber:qQ,uninterpolateNumber:WQ,uninterpolateTruncation:HQ};function $w(e){return GQ(e)||KQ(e)||t6(e)||VQ()}function VQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KQ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function GQ(e){if(Array.isArray(e))return Lw(e)}function Bu(e,t){return JQ(e)||XQ(e,t)||t6(e,t)||YQ()}function YQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t6(e,t){if(e){if(typeof e=="string")return Lw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lw(e,t)}}function Lw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XQ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){i=!0,s=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw s}}return r}}function JQ(e){if(Array.isArray(e))return e}function r6(e){var t=Bu(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function n6(e,t,r){if(e.lte(0))return new cr(0);var n=sm.getDigitCount(e.toNumber()),i=new cr(10).pow(n),s=e.div(i),l=n!==1?.05:.1,u=new cr(Math.ceil(s.div(l).toNumber())).add(r).mul(l),d=u.mul(i);return t?d:new cr(Math.ceil(d))}function QQ(e,t,r){var n=1,i=new cr(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new cr(10).pow(sm.getDigitCount(e)-1),i=new cr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new cr(Math.floor(e)))}else e===0?i=new cr(Math.floor((t-1)/2)):r||(i=new cr(Math.floor(e)));var l=Math.floor((t-1)/2),u=BQ(FQ(function(d){return i.add(new cr(d-l).mul(n)).toNumber()}),Dw);return u(0,t)}function i6(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new cr(0),tickMin:new cr(0),tickMax:new cr(0)};var s=n6(new cr(t).sub(e).div(r-1),n,i),l;e<=0&&t>=0?l=new cr(0):(l=new cr(e).add(t).div(2),l=l.sub(new cr(l).mod(s)));var u=Math.ceil(l.sub(e).div(s).toNumber()),d=Math.ceil(new cr(t).sub(l).div(s).toNumber()),f=u+d+1;return f>r?i6(e,t,r,n,i+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:s,tickMin:l.sub(new cr(u).mul(s)),tickMax:l.add(new cr(d).mul(s))})}function ZQ(e){var t=Bu(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=r6([r,n]),d=Bu(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var h=p===1/0?[f].concat($w(Dw(0,i-1).map(function(){return 1/0}))):[].concat($w(Dw(0,i-1).map(function(){return-1/0})),[p]);return r>n?Iw(h):h}if(f===p)return QQ(f,i,s);var g=i6(f,p,l,s),v=g.step,w=g.tickMin,b=g.tickMax,x=sm.rangeStep(w,b.add(new cr(.1).mul(v)),v);return r>n?Iw(x):x}function eZ(e,t){var r=Bu(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=r6([n,i]),u=Bu(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var p=Math.max(t,2),h=n6(new cr(f).sub(d).div(p-1),s,0),g=[].concat($w(sm.rangeStep(new cr(d),new cr(f).sub(new cr(.99).mul(h)),h)),[f]);return n>i?Iw(g):g}var tZ=e6(ZQ),rZ=e6(eZ),nZ="Invariant failed";function oo(e,t){throw new Error(nZ)}var iZ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(this,arguments)}function aZ(e,t){return cZ(e)||lZ(e,t)||oZ(e,t)||sZ()}function sZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oZ(e,t){if(e){if(typeof e=="string")return dO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dO(e,t)}}function dO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function cZ(e){if(Array.isArray(e))return e}function uZ(e,t){if(e==null)return{};var r=dZ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o6(n.key),n)}}function hZ(e,t,r){return t&&pZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mZ(e,t,r){return t=Yp(t),gZ(e,a6()?Reflect.construct(t,r||[],Yp(e).constructor):t.apply(e,r))}function gZ(e,t){if(t&&(Ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yZ(e)}function yZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a6=function(){return!!e})()}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yp(e)}function vZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fw(e,t)}function Fw(e,t){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fw(e,t)}function s6(e,t,r){return t=o6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o6(e){var t=xZ(e,"string");return Ol(t)=="symbol"?t:t+""}function xZ(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _d=(function(e){function t(){return fZ(this,t),mZ(this,t,arguments)}return vZ(t,e),hZ(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,l=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,h=n.yAxis,g=uZ(n,iZ),v=bt(g,!1);this.props.direction==="x"&&p.type!=="number"&&oo();var w=d.map(function(b){var x=f(b,u),S=x.x,C=x.y,k=x.value,E=x.errorVal;if(!E)return null;var _=[],A,P;if(Array.isArray(E)){var T=aZ(E,2);A=T[0],P=T[1]}else A=P=E;if(s==="vertical"){var M=p.scale,R=C+i,D=R+l,q=R-l,F=M(k-A),$=M(k+P);_.push({x1:$,y1:D,x2:$,y2:q}),_.push({x1:F,y1:R,x2:$,y2:R}),_.push({x1:F,y1:D,x2:F,y2:q})}else if(s==="horizontal"){var L=h.scale,B=S+i,Z=B-l,z=B+l,te=L(k-A),re=L(k+P);_.push({x1:Z,y1:re,x2:z,y2:re}),_.push({x1:B,y1:te,x2:B,y2:re}),_.push({x1:Z,y1:te,x2:z,y2:te})}return H.createElement(Qt,Gp({className:"recharts-errorBar",key:"bar-".concat(_.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},v),_.map(function(V){return H.createElement("line",Gp({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return H.createElement(Qt,{className:"recharts-errorBars"},w)}}])})(H.Component);s6(_d,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});s6(_d,"displayName","ErrorBar");function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){bZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bZ(e,t,r){return t=wZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=jZ(e,"string");return zu(t)=="symbol"?t:t+""}function jZ(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l6=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,l=$n(r,Gs);if(!l)return null;var u=Gs.defaultProps,d=u!==void 0?Ms(Ms({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:s==="children"?f=(n||[]).reduce(function(p,h){var g=h.item,v=h.props,w=v.sectors||v.data||[];return p.concat(w.map(function(b){return{type:l.props.iconType||g.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(n||[]).map(function(p){var h=p.item,g=h.type.defaultProps,v=g!==void 0?Ms(Ms({},g),h.props):{},w=v.dataKey,b=v.name,x=v.legendType,S=v.hide;return{inactive:S,dataKey:w,type:d.iconType||x||"square",color:o_(h),value:b||w,payload:v}}),Ms(Ms(Ms({},d),Gs.getWithHeight(l,i)),{},{payload:f,item:l})};function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function pO(e){return NZ(e)||kZ(e)||SZ(e)||_Z()}function _Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SZ(e,t){if(e){if(typeof e=="string")return Bw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bw(e,t)}}function kZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NZ(e){if(Array.isArray(e))return Bw(e)}function Bw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pl(e,t,r){return t=CZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CZ(e){var t=PZ(e,"string");return Uu(t)=="symbol"?t:t+""}function PZ(e,t){if(Uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lr(e,t,r){return At(e)||At(t)?r:Fr(t)?Un(e,t,r):Nt(t)?t(e):r}function mu(e,t,r,n){var i=NQ(e,function(u){return Lr(u,t)});if(r==="number"){var s=i.filter(function(u){return Ve(u)||parseFloat(u)});return s.length?[im(s),nm(s)]:[1/0,-1/0]}var l=n?i.filter(function(u){return!At(u)}):i;return l.map(function(u){return Fr(u)||u instanceof Date?u:""})}var EZ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,f=0;f<u;f++){var p=f>0?i[f-1].coordinate:i[u-1].coordinate,h=i[f].coordinate,g=f>=u-1?i[0].coordinate:i[f+1].coordinate,v=void 0;if(pn(h-p)!==pn(g-h)){var w=[];if(pn(g-h)===pn(d[1]-d[0])){v=g;var b=h+d[1]-d[0];w[0]=Math.min(b,(b+p)/2),w[1]=Math.max(b,(b+p)/2)}else{v=p;var x=g+d[1]-d[0];w[0]=Math.min(h,(x+h)/2),w[1]=Math.max(h,(x+h)/2)}var S=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(t>S[0]&&t<=S[1]||t>=w[0]&&t<=w[1]){l=i[f].index;break}}else{var C=Math.min(p,g),k=Math.max(p,g);if(t>(C+h)/2&&t<=(k+h)/2){l=i[f].index;break}}}else for(var E=0;E<u;E++)if(E===0&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<u-1&&t>(n[E].coordinate+n[E-1].coordinate)/2&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E===u-1&&t>(n[E].coordinate+n[E-1].coordinate)/2){l=n[E].index;break}return l},o_=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Nr(Nr({},t.type.defaultProps),t.props):t.props,l=s.stroke,u=s.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},AZ=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var l={},u=Object.keys(s),d=0,f=u.length;d<f;d++)for(var p=s[u[d]].stackGroups,h=Object.keys(p),g=0,v=h.length;g<v;g++){var w=p[h[g]],b=w.items,x=w.cateAxisId,S=b.filter(function(P){return ha(P.type).indexOf("Bar")>=0});if(S&&S.length){var C=S[0].type.defaultProps,k=C!==void 0?Nr(Nr({},C),S[0].props):S[0].props,E=k.barSize,_=k[x];l[_]||(l[_]=[]);var A=At(E)?r:E;l[_].push({item:S[0],stackList:S.slice(1),barSize:At(A)?void 0:hn(A,n,0)})}}return l},OZ=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,l=s===void 0?[]:s,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=hn(r,i,0,!0),p,h=[];if(l[0].barSize===+l[0].barSize){var g=!1,v=i/d,w=l.reduce(function(E,_){return E+_.barSize||0},0);w+=(d-1)*f,w>=i&&(w-=(d-1)*f,f=0),w>=i&&v>0&&(g=!0,v*=.9,w=d*v);var b=(i-w)/2>>0,x={offset:b-f,size:0};p=l.reduce(function(E,_){var A={item:_.item,position:{offset:x.offset+x.size+f,size:g?v:_.barSize}},P=[].concat(pO(E),[A]);return x=P[P.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(T){P.push({item:T,position:x})}),P},h)}else{var S=hn(n,i,0,!0);i-2*S-(d-1)*f<=0&&(f=0);var C=(i-2*S-(d-1)*f)/d;C>1&&(C>>=0);var k=u===+u?Math.min(C,u):C;p=l.reduce(function(E,_,A){var P=[].concat(pO(E),[{item:_.item,position:{offset:S+(C+f)*A+(C-k)/2,size:k}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(T){P.push({item:T,position:P[P.length-1].position})}),P},h)}return p},TZ=function(t,r,n,i){var s=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),f=l6({children:s,legendWidth:d});if(f){var p=i||{},h=p.width,g=p.height,v=f.align,w=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&w==="middle")&&v!=="center"&&Ve(t[v]))return Nr(Nr({},t),{},pl({},v,t[v]+(h||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&w!=="middle"&&Ve(t[w]))return Nr(Nr({},t),{},pl({},w,t[w]+(g||0)))}return t},RZ=function(t,r,n){return At(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},c6=function(t,r,n,i,s){var l=r.props.children,u=qn(l,_d).filter(function(f){return RZ(i,s,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var h=Lr(p,n);if(At(h))return f;var g=Array.isArray(h)?[im(h),nm(h)]:[h,h],v=d.reduce(function(w,b){var x=Lr(p,b,0),S=g[0]-Math.abs(Array.isArray(x)?x[0]:x),C=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(S,w[0]),Math.max(C,w[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},MZ=function(t,r,n,i,s){var l=r.map(function(u){return c6(t,u,n,s,i)}).filter(function(u){return!At(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},u6=function(t,r,n,i,s){var l=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&c6(t,d,f,i)||mu(t,f,n,s)});if(n==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var p=0,h=f.length;p<h;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},d6=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},f6=function(t,r,n,i){if(i)return t.map(function(d){return d.coordinate});var s,l,u=t.map(function(d){return d.coordinate===r&&(s=!0),d.coordinate===n&&(l=!0),d.coordinate});return s||u.push(r),l||u.push(n),u},pa=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?pn(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(h){var g=s?s.indexOf(h):h;return{coordinate:i(g)+f,value:h,offset:f}});return p.filter(function(h){return!gd(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,g){return{coordinate:i(h)+f,value:h,index:g,offset:f}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(h){return{coordinate:i(h)+f,value:h,offset:f}}):i.domain().map(function(h,g){return{coordinate:i(h)+f,value:s?s[h]:h,index:g,offset:f}})},Q0=new WeakMap,rp=function(t,r){if(typeof r!="function")return t;Q0.has(t)||Q0.set(t,new WeakMap);var n=Q0.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},p6=function(t,r,n){var i=t.scale,s=t.type,l=t.layout,u=t.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Mu(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:qp(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hu(),realScaleType:"point"}:s==="category"?{scale:Mu(),realScaleType:"band"}:{scale:qp(),realScaleType:"linear"};if(md(i)){var d="scale".concat(Uh(i));return{scale:(ZA[d]||hu)(),realScaleType:ZA[d]?d:"point"}}return Nt(i)?{scale:i}:{scale:hu(),realScaleType:"point"}},mO=1e-4,h6=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-mO,l=Math.max(i[0],i[1])+mO,u=t(r[0]),d=t(r[n-1]);(u<s||u>l||d<s||d>l)&&t.domain([r[0],r[n-1]])}},DZ=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},IZ=function(t,r){if(!r||r.length!==2||!Ve(r[0])||!Ve(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Ve(t[0])||t[0]<n)&&(s[0]=n),(!Ve(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},$Z=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,l=0,u=0;u<r;++u){var d=gd(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=s,t[u][n][1]=s+d,s=t[u][n][1]):(t[u][n][0]=l,t[u][n][1]=l+d,l=t[u][n][1])}},LZ=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,l=0;l<r;++l){var u=gd(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=s,t[l][n][1]=s+u,s=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},FZ={sign:$Z,expand:NV,none:_l,silhouette:CV,wiggle:PV,positive:LZ},BZ=function(t,r,n){var i=r.map(function(u){return u.props.dataKey}),s=FZ[n],l=kV().keys(i).value(function(u,d){return+Lr(u,d,0)}).order(gw).offset(s);return l(t)},zZ=function(t,r,n,i,s,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(h,g){var v,w=(v=g.type)!==null&&v!==void 0&&v.defaultProps?Nr(Nr({},g.type.defaultProps),g.props):g.props,b=w.stackId,x=w.hide;if(x)return h;var S=w[n],C=h[S]||{hasStack:!1,stackGroups:{}};if(Fr(b)){var k=C.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};k.items.push(g),C.hasStack=!0,C.stackGroups[b]=k}else C.stackGroups[ic("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return Nr(Nr({},h),{},pl({},S,C))},d),p={};return Object.keys(f).reduce(function(h,g){var v=f[g];if(v.hasStack){var w={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,x){var S=v.stackGroups[x];return Nr(Nr({},b),{},pl({},x,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:BZ(t,S.items,s)}))},w)}return Nr(Nr({},h),{},pl({},g,v))},p)},m6=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=tZ(f,s,u);return t.domain([im(p),nm(p)]),{niceTicks:p}}if(s&&i==="number"){var h=t.domain(),g=rZ(h,s,u);return{niceTicks:g}}return null};function gO(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!At(i[t.dataKey])){var u=kp(r,"value",i[t.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=Lr(i,At(l)?t.dataKey:l);return At(d)?null:t.scale(d)}var yO=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Lr(l,r.dataKey,r.domain[u]);return At(d)?null:r.scale(d)-s/2+i},UZ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},qZ=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Nr(Nr({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(Fr(s)){var l=r[s];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},WZ=function(t){return t.reduce(function(r,n){return[im(n.concat([r[0]]).filter(Ve)),nm(n.concat([r[1]]).filter(Ve))]},[1/0,-1/0])},g6=function(t,r,n){return Object.keys(t).reduce(function(i,s){var l=t[s],u=l.stackedData,d=u.reduce(function(f,p){var h=WZ(p.slice(r,n+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},vO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zw=function(t,r,n){if(Nt(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Ve(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(vO.test(t[0])){var s=+vO.exec(t[0])[1];i[0]=r[0]-s}else Nt(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Ve(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(xO.test(t[1])){var l=+xO.exec(t[1])[1];i[1]=r[1]+l}else Nt(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Xp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=Dj(r,function(h){return h.coordinate}),l=1/0,u=1,d=s.length;u<d;u++){var f=s[u],p=s[u-1];l=Math.min((f.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},bO=function(t,r,n){return!t||!t.length||jd(t,Un(n,"type.defaultProps.domain"))?r:t},y6=function(t,r){var n=t.type.defaultProps?Nr(Nr({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return Nr(Nr({},bt(t,!1)),{},{dataKey:i,unit:l,formatter:u,name:s||i,color:o_(t),value:Lr(r,i),type:d,payload:r,chartType:f,hide:p})};function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){v6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v6(e,t,r){return t=HZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=VZ(e,"string");return qu(t)=="symbol"?t:t+""}function VZ(e,t){if(qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KZ(e,t){return JZ(e)||XZ(e,t)||YZ(e,t)||GZ()}function GZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YZ(e,t){if(e){if(typeof e=="string")return jO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(e,t)}}function jO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function JZ(e){if(Array.isArray(e))return e}var Jp=Math.PI/180,QZ=function(t){return t*180/Math.PI},gr=function(t,r,n,i){return{x:t+Math.cos(-Jp*i)*n,y:r+Math.sin(-Jp*i)*n}},x6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ZZ=function(t,r,n,i,s){var l=t.width,u=t.height,d=t.startAngle,f=t.endAngle,p=hn(t.cx,l,l/2),h=hn(t.cy,u,u/2),g=x6(l,u,n),v=hn(t.innerRadius,g,0),w=hn(t.outerRadius,g,g*.8),b=Object.keys(r);return b.reduce(function(x,S){var C=r[S],k=C.domain,E=C.reversed,_;if(At(C.range))i==="angleAxis"?_=[d,f]:i==="radiusAxis"&&(_=[v,w]),E&&(_=[_[1],_[0]]);else{_=C.range;var A=_,P=KZ(A,2);d=P[0],f=P[1]}var T=p6(C,s),M=T.realScaleType,R=T.scale;R.domain(k).range(_),h6(R);var D=m6(R,ua(ua({},C),{},{realScaleType:M})),q=ua(ua(ua({},C),D),{},{range:_,radius:w,realScaleType:M,scale:R,cx:p,cy:h,innerRadius:v,outerRadius:w,startAngle:d,endAngle:f});return ua(ua({},x),{},v6({},S,q))},{})},eee=function(t,r){var n=t.x,i=t.y,s=r.x,l=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-l,2))},tee=function(t,r){var n=t.x,i=t.y,s=r.cx,l=r.cy,u=eee({x:n,y:i},{x:s,y:l});if(u<=0)return{radius:u};var d=(n-s)/u,f=Math.acos(d);return i>l&&(f=2*Math.PI-f),{radius:u,angle:QZ(f),angleInRadian:f}},ree=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(i,s);return{startAngle:r-l*360,endAngle:n-l*360}},nee=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(s,l);return t+u*360},_O=function(t,r){var n=t.x,i=t.y,s=tee({x:n,y:i},r),l=s.radius,u=s.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var p=ree(r),h=p.startAngle,g=p.endAngle,v=u,w;if(h<=g){for(;v>g;)v-=360;for(;v<h;)v+=360;w=v>=h&&v<=g}else{for(;v>h;)v-=360;for(;v<g;)v+=360;w=v>=g&&v<=h}return w?ua(ua({},r),{},{radius:l,angle:nee(v,r)}):null},b6=function(t){return!j.isValidElement(t)&&!Nt(t)&&typeof t!="boolean"?t.className:""};function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}var iee=["offset"];function aee(e){return cee(e)||lee(e)||oee(e)||see()}function see(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oee(e,t){if(e){if(typeof e=="string")return Uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(e,t)}}function lee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cee(e){if(Array.isArray(e))return Uw(e)}function Uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uee(e,t){if(e==null)return{};var r=dee(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){fee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fee(e,t,r){return t=pee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pee(e){var t=hee(e,"string");return Wu(t)=="symbol"?t:t+""}function hee(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hu.apply(this,arguments)}var mee=function(t){var r=t.value,n=t.formatter,i=At(t.children)?r:t.children;return Nt(n)?n(i):i},gee=function(t,r){var n=pn(r-t),i=Math.min(Math.abs(r-t),360);return n*i},yee=function(t,r,n){var i=t.position,s=t.viewBox,l=t.offset,u=t.className,d=s,f=d.cx,p=d.cy,h=d.innerRadius,g=d.outerRadius,v=d.startAngle,w=d.endAngle,b=d.clockWise,x=(h+g)/2,S=gee(v,w),C=S>=0?1:-1,k,E;i==="insideStart"?(k=v+C*l,E=b):i==="insideEnd"?(k=w-C*l,E=!b):i==="end"&&(k=w+C*l,E=b),E=S<=0?E:!E;var _=gr(f,p,x,k),A=gr(f,p,x,k+(E?1:-1)*359),P="M".concat(_.x,",").concat(_.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(E?0:1,`,
    `).concat(A.x,",").concat(A.y),T=At(t.id)?ic("recharts-radial-line-"):t.id;return H.createElement("text",Hu({},n,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",u)}),H.createElement("defs",null,H.createElement("path",{id:T,d:P})),H.createElement("textPath",{xlinkHref:"#".concat(T)},r))},vee=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,l=s.cx,u=s.cy,d=s.innerRadius,f=s.outerRadius,p=s.startAngle,h=s.endAngle,g=(p+h)/2;if(i==="outside"){var v=gr(l,u,f+n,g),w=v.x,b=v.y;return{x:w,y:b,textAnchor:w>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var x=(d+f)/2,S=gr(l,u,x,g),C=S.x,k=S.y;return{x:C,y:k,textAnchor:"middle",verticalAnchor:"middle"}},xee=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,l=r,u=l.x,d=l.y,f=l.width,p=l.height,h=p>=0?1:-1,g=h*i,v=h>0?"end":"start",w=h>0?"start":"end",b=f>=0?1:-1,x=b*i,S=b>0?"end":"start",C=b>0?"start":"end";if(s==="top"){var k={x:u+f/2,y:d-h*i,textAnchor:"middle",verticalAnchor:v};return Ir(Ir({},k),n?{height:Math.max(d-n.y,0),width:f}:{})}if(s==="bottom"){var E={x:u+f/2,y:d+p+g,textAnchor:"middle",verticalAnchor:w};return Ir(Ir({},E),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(s==="left"){var _={x:u-x,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return Ir(Ir({},_),n?{width:Math.max(_.x-n.x,0),height:p}:{})}if(s==="right"){var A={x:u+f+x,y:d+p/2,textAnchor:C,verticalAnchor:"middle"};return Ir(Ir({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:p}:{})}var P=n?{width:f,height:p}:{};return s==="insideLeft"?Ir({x:u+x,y:d+p/2,textAnchor:C,verticalAnchor:"middle"},P):s==="insideRight"?Ir({x:u+f-x,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},P):s==="insideTop"?Ir({x:u+f/2,y:d+g,textAnchor:"middle",verticalAnchor:w},P):s==="insideBottom"?Ir({x:u+f/2,y:d+p-g,textAnchor:"middle",verticalAnchor:v},P):s==="insideTopLeft"?Ir({x:u+x,y:d+g,textAnchor:C,verticalAnchor:w},P):s==="insideTopRight"?Ir({x:u+f-x,y:d+g,textAnchor:S,verticalAnchor:w},P):s==="insideBottomLeft"?Ir({x:u+x,y:d+p-g,textAnchor:C,verticalAnchor:v},P):s==="insideBottomRight"?Ir({x:u+f-x,y:d+p-g,textAnchor:S,verticalAnchor:v},P):nc(s)&&(Ve(s.x)||Us(s.x))&&(Ve(s.y)||Us(s.y))?Ir({x:u+hn(s.x,f),y:d+hn(s.y,p),textAnchor:"end",verticalAnchor:"end"},P):Ir({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},P)},bee=function(t){return"cx"in t&&Ve(t.cx)};function Gr(e){var t=e.offset,r=t===void 0?5:t,n=uee(e,iee),i=Ir({offset:r},n),s=i.viewBox,l=i.position,u=i.value,d=i.children,f=i.content,p=i.className,h=p===void 0?"":p,g=i.textBreakAll;if(!s||At(u)&&At(d)&&!j.isValidElement(f)&&!Nt(f))return null;if(j.isValidElement(f))return j.cloneElement(f,i);var v;if(Nt(f)){if(v=j.createElement(f,i),j.isValidElement(v))return v}else v=mee(i);var w=bee(s),b=bt(i,!0);if(w&&(l==="insideStart"||l==="insideEnd"||l==="end"))return yee(i,v,b);var x=w?vee(i):xee(i);return H.createElement(ao,Hu({className:Ot("recharts-label",h)},b,x,{breakAll:g}),v)}Gr.displayName="Label";var w6=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,p=t.outerRadius,h=t.x,g=t.y,v=t.top,w=t.left,b=t.width,x=t.height,S=t.clockWise,C=t.labelViewBox;if(C)return C;if(Ve(b)&&Ve(x)){if(Ve(h)&&Ve(g))return{x:h,y:g,width:b,height:x};if(Ve(v)&&Ve(w))return{x:v,y:w,width:b,height:x}}return Ve(h)&&Ve(g)?{x:h,y:g,width:0,height:0}:Ve(r)&&Ve(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:l||i||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:S}:t.viewBox?t.viewBox:{}},wee=function(t,r){return t?t===!0?H.createElement(Gr,{key:"label-implicit",viewBox:r}):Fr(t)?H.createElement(Gr,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===Gr?j.cloneElement(t,{key:"label-implicit",viewBox:r}):H.createElement(Gr,{key:"label-implicit",content:t,viewBox:r}):Nt(t)?H.createElement(Gr,{key:"label-implicit",content:t,viewBox:r}):nc(t)?H.createElement(Gr,Hu({viewBox:r},t,{key:"label-implicit"})):null:null},jee=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=w6(t),l=qn(i,Gr).map(function(d,f){return j.cloneElement(d,{viewBox:r||s,key:"label-".concat(f)})});if(!n)return l;var u=wee(t.label,r||s);return[u].concat(aee(l))};Gr.parseViewBox=w6;Gr.renderCallByParent=jee;var Z0,kO;function _ee(){if(kO)return Z0;kO=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Z0=e,Z0}var See=_ee();const kee=er(See);function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}var Nee=["valueAccessor"],Cee=["data","dataKey","clockWise","id","textBreakAll"];function Pee(e){return Tee(e)||Oee(e)||Aee(e)||Eee()}function Eee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aee(e,t){if(e){if(typeof e=="string")return qw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qw(e,t)}}function Oee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tee(e){if(Array.isArray(e))return qw(e)}function qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(this,arguments)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){Ree(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ree(e,t,r){return t=Mee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=Dee(e,"string");return Vu(t)=="symbol"?t:t+""}function Dee(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PO(e,t){if(e==null)return{};var r=Iee(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $ee=function(t){return Array.isArray(t.value)?kee(t.value):t.value};function ga(e){var t=e.valueAccessor,r=t===void 0?$ee:t,n=PO(e,Nee),i=n.data,s=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,f=PO(n,Cee);return!i||!i.length?null:H.createElement(Qt,{className:"recharts-label-list"},i.map(function(p,h){var g=At(s)?r(p,h):Lr(p&&p.payload,s),v=At(u)?{}:{id:"".concat(u,"-").concat(h)};return H.createElement(Gr,Qp({},bt(p,!0),f,v,{parentViewBox:p.parentViewBox,value:g,textBreakAll:d,viewBox:Gr.parseViewBox(At(l)?p:CO(CO({},p),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}ga.displayName="LabelList";function Lee(e,t){return e?e===!0?H.createElement(ga,{key:"labelList-implicit",data:t}):H.isValidElement(e)||Nt(e)?H.createElement(ga,{key:"labelList-implicit",data:t,content:e}):nc(e)?H.createElement(ga,Qp({data:t},e,{key:"labelList-implicit"})):null:null}function Fee(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=qn(n,ga).map(function(l,u){return j.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return i;var s=Lee(e.label,t);return[s].concat(Pee(i))}ga.renderCallByParent=Fee;function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ww.apply(this,arguments)}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){Bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bee(e,t,r){return t=zee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zee(e){var t=Uee(e,"string");return Ku(t)=="symbol"?t:t+""}function Uee(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qee=function(t,r){var n=pn(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},np=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,p=d*(u?1:-1)+i,h=Math.asin(d/p)/Jp,g=f?s:s+l*h,v=gr(r,n,p,g),w=gr(r,n,i,g),b=f?s-l*h:s,x=gr(r,n,p*Math.cos(h*Jp),b);return{center:v,circleTangency:w,lineTangency:x,theta:h}},j6=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,l=t.startAngle,u=t.endAngle,d=qee(l,u),f=l+d,p=gr(r,n,s,l),h=gr(r,n,s,f),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var v=gr(r,n,i,l),w=gr(r,n,i,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},Wee=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,h=pn(p-f),g=np({cx:r,cy:n,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),v=g.circleTangency,w=g.lineTangency,b=g.theta,x=np({cx:r,cy:n,radius:s,angle:p,sign:-h,cornerRadius:l,cornerIsExternal:d}),S=x.circleTangency,C=x.lineTangency,k=x.theta,E=d?Math.abs(f-p):Math.abs(f-p)-b-k;if(E<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):j6({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p});var _="M ".concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var A=np({cx:r,cy:n,radius:i,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),P=A.circleTangency,T=A.lineTangency,M=A.theta,R=np({cx:r,cy:n,radius:i,angle:p,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),D=R.circleTangency,q=R.lineTangency,F=R.theta,$=d?Math.abs(f-p):Math.abs(f-p)-M-F;if($<0&&l===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(q.x,",").concat(q.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},Hee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_6=function(t){var r=AO(AO({},Hee),t),n=r.cx,i=r.cy,s=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,h=r.endAngle,g=r.className;if(l<s||p===h)return null;var v=Ot("recharts-sector",g),w=l-s,b=hn(u,w,0,!0),x;return b>0&&Math.abs(p-h)<360?x=Wee({cx:n,cy:i,innerRadius:s,outerRadius:l,cornerRadius:Math.min(b,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:h}):x=j6({cx:n,cy:i,innerRadius:s,outerRadius:l,startAngle:p,endAngle:h}),H.createElement("path",Ww({},bt(r,!0),{className:v,d:x,role:"img"}))};function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hw.apply(this,arguments)}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){Vee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vee(e,t,r){return t=Kee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kee(e){var t=Gee(e,"string");return Gu(t)=="symbol"?t:t+""}function Gee(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RO={curveBasisClosed:hV,curveBasisOpen:mV,curveBasis:pV,curveBumpX:ZH,curveBumpY:eV,curveLinearClosed:gV,curveLinear:Wh,curveMonotoneX:yV,curveMonotoneY:vV,curveNatural:xV,curveStep:bV,curveStepAfter:jV,curveStepBefore:wV},ip=function(t){return t.x===+t.x&&t.y===+t.y},Zc=function(t){return t.x},eu=function(t){return t.y},Yee=function(t,r){if(Nt(t))return t;var n="curve".concat(Uh(t));return(n==="curveMonotone"||n==="curveBump")&&r?RO["".concat(n).concat(r==="vertical"?"Y":"X")]:RO[n]||Wh},Xee=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,p=Yee(n,u),h=f?s.filter(function(b){return ip(b)}):s,g;if(Array.isArray(l)){var v=f?l.filter(function(b){return ip(b)}):l,w=h.map(function(b,x){return TO(TO({},b),{},{base:v[x]})});return u==="vertical"?g=Yf().y(eu).x1(Zc).x0(function(b){return b.base.x}):g=Yf().x(Zc).y1(eu).y0(function(b){return b.base.y}),g.defined(ip).curve(p),g(w)}return u==="vertical"&&Ve(l)?g=Yf().y(eu).x1(Zc).x0(l):Ve(l)?g=Yf().x(Zc).y1(eu).y0(l):g=wI().x(Zc).y(eu),g.defined(ip).curve(p),g(h)},Zp=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?Xee(t):i;return H.createElement("path",Hw({},bt(t,!1),Np(t),{className:Ot("recharts-curve",r),d:l,ref:s}))},eb={exports:{}},tb,MO;function Jee(){if(MO)return tb;MO=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tb=e,tb}var rb,DO;function Qee(){if(DO)return rb;DO=1;var e=Jee();function t(){}function r(){}return r.resetWarningCache=t,rb=function(){function n(l,u,d,f,p,h){if(h!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},rb}var IO;function Zee(){return IO||(IO=1,eb.exports=Qee()()),eb.exports}var ete=Zee();const ir=er(ete),{getOwnPropertyNames:tte,getOwnPropertySymbols:rte}=Object,{hasOwnProperty:nte}=Object.prototype;function nb(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function ap(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:s}=i,l=s.get(r),u=s.get(n);if(l&&u)return l===n&&u===r;s.set(r,n),s.set(n,r);const d=e(r,n,i);return s.delete(r),s.delete(n),d}}function ite(e){return e!=null?e[Symbol.toStringTag]:void 0}function $O(e){return tte(e).concat(rte(e))}const ate=Object.hasOwn||((e,t)=>nte.call(e,t));function go(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const ste="__v",ote="__o",lte="_owner",{getOwnPropertyDescriptor:LO,keys:FO}=Object;function cte(e,t){return e.byteLength===t.byteLength&&eh(new Uint8Array(e),new Uint8Array(t))}function ute(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function dte(e,t){return e.byteLength===t.byteLength&&eh(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function fte(e,t){return go(e.getTime(),t.getTime())}function pte(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function hte(e,t){return e===t}function BO(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.entries();let l,u,d=0;for(;(l=s.next())&&!l.done;){const f=t.entries();let p=!1,h=0;for(;(u=f.next())&&!u.done;){if(i[h]){h++;continue}const g=l.value,v=u.value;if(r.equals(g[0],v[0],d,h,e,t,r)&&r.equals(g[1],v[1],g[0],v[0],e,t,r)){p=i[h]=!0;break}h++}if(!p)return!1;d++}return!0}const mte=go;function gte(e,t,r){const n=FO(e);let i=n.length;if(FO(t).length!==i)return!1;for(;i-- >0;)if(!S6(e,t,r,n[i]))return!1;return!0}function tu(e,t,r){const n=$O(e);let i=n.length;if($O(t).length!==i)return!1;let s,l,u;for(;i-- >0;)if(s=n[i],!S6(e,t,r,s)||(l=LO(e,s),u=LO(t,s),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function yte(e,t){return go(e.valueOf(),t.valueOf())}function vte(e,t){return e.source===t.source&&e.flags===t.flags}function zO(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.values();let l,u;for(;(l=s.next())&&!l.done;){const d=t.values();let f=!1,p=0;for(;(u=d.next())&&!u.done;){if(!i[p]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function eh(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function xte(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function S6(e,t,r,n){return(n===lte||n===ote||n===ste)&&(e.$$typeof||t.$$typeof)?!0:ate(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const bte="[object ArrayBuffer]",wte="[object Arguments]",jte="[object Boolean]",_te="[object DataView]",Ste="[object Date]",kte="[object Error]",Nte="[object Map]",Cte="[object Number]",Pte="[object Object]",Ete="[object RegExp]",Ate="[object Set]",Ote="[object String]",Tte={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Rte="[object URL]",Mte=Object.prototype.toString;function Dte({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:h,areTypedArraysEqual:g,areUrlsEqual:v,unknownTagComparators:w}){return function(x,S,C){if(x===S)return!0;if(x==null||S==null)return!1;const k=typeof x;if(k!==typeof S)return!1;if(k!=="object")return k==="number"?u(x,S,C):k==="function"?s(x,S,C):!1;const E=x.constructor;if(E!==S.constructor)return!1;if(E===Object)return d(x,S,C);if(Array.isArray(x))return t(x,S,C);if(E===Date)return n(x,S,C);if(E===RegExp)return p(x,S,C);if(E===Map)return l(x,S,C);if(E===Set)return h(x,S,C);const _=Mte.call(x);if(_===Ste)return n(x,S,C);if(_===Ete)return p(x,S,C);if(_===Nte)return l(x,S,C);if(_===Ate)return h(x,S,C);if(_===Pte)return typeof x.then!="function"&&typeof S.then!="function"&&d(x,S,C);if(_===Rte)return v(x,S,C);if(_===kte)return i(x,S,C);if(_===wte)return d(x,S,C);if(Tte[_])return g(x,S,C);if(_===bte)return e(x,S,C);if(_===_te)return r(x,S,C);if(_===jte||_===Cte||_===Ote)return f(x,S,C);if(w){let A=w[_];if(!A){const P=ite(x);P&&(A=w[P])}if(A)return A(x,S,C)}return!1}}function Ite({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:cte,areArraysEqual:r?tu:ute,areDataViewsEqual:dte,areDatesEqual:fte,areErrorsEqual:pte,areFunctionsEqual:hte,areMapsEqual:r?nb(BO,tu):BO,areNumbersEqual:mte,areObjectsEqual:r?tu:gte,arePrimitiveWrappersEqual:yte,areRegExpsEqual:vte,areSetsEqual:r?nb(zO,tu):zO,areTypedArraysEqual:r?nb(eh,tu):eh,areUrlsEqual:xte,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=ap(n.areArraysEqual),s=ap(n.areMapsEqual),l=ap(n.areObjectsEqual),u=ap(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:u})}return n}function $te(e){return function(t,r,n,i,s,l,u){return e(t,r,u)}}function Lte({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(u,d){const{cache:f=e?new WeakMap:void 0,meta:p}=r();return t(u,d,{cache:f,equals:n,meta:p,strict:i})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const s={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,d){return t(u,d,s)}}const Fte=xs();xs({strict:!0});xs({circular:!0});xs({circular:!0,strict:!0});xs({createInternalComparator:()=>go});xs({strict:!0,createInternalComparator:()=>go});xs({circular:!0,createInternalComparator:()=>go});xs({circular:!0,createInternalComparator:()=>go,strict:!0});function xs(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,s=Ite(e),l=Dte(s),u=r?r(l):$te(l);return Lte({circular:t,comparator:l,createState:n,equals:u,strict:i})}function Bte(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function UO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):Bte(i)};requestAnimationFrame(n)}function Vw(e){"@babel/helpers - typeof";return Vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vw(e)}function zte(e){return Hte(e)||Wte(e)||qte(e)||Ute()}function Ute(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qte(e,t){if(e){if(typeof e=="string")return qO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qO(e,t)}}function qO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hte(e){if(Array.isArray(e))return e}function Vte(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,u=zte(l),d=u[0],f=u.slice(1);if(typeof d=="number"){UO(i.bind(null,f),d);return}i(d),UO(i.bind(null,f));return}Vw(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){k6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k6(e,t,r){return t=Kte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kte(e){var t=Gte(e,"string");return Yu(t)==="symbol"?t:String(t)}function Gte(e,t){if(Yu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yte=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Xte=function(t){return t},Jte=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gu=function(t,r){return Object.keys(r).reduce(function(n,i){return HO(HO({},n),{},k6({},i,t(i,r[i])))},{})},VO=function(t,r,n){return t.map(function(i){return"".concat(Jte(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Qte(e,t){return tre(e)||ere(e,t)||N6(e,t)||Zte()}function Zte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ere(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function tre(e){if(Array.isArray(e))return e}function rre(e){return are(e)||ire(e)||N6(e)||nre()}function nre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N6(e,t){if(e){if(typeof e=="string")return Kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(e,t)}}function ire(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function are(e){if(Array.isArray(e))return Kw(e)}function Kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var th=1e-4,C6=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},P6=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},KO=function(t,r){return function(n){var i=C6(t,r);return P6(i,n)}},sre=function(t,r){return function(n){var i=C6(t,r),s=[].concat(rre(i.map(function(l,u){return l*u}).slice(1)),[0]);return P6(s,n)}},GO=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,l=1,u=1;break;case"ease":i=.25,s=.1,l=.25,u=1;break;case"ease-in":i=.42,s=0,l=1,u=1;break;case"ease-out":i=.42,s=0,l=.58,u=1;break;case"ease-in-out":i=0,s=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),p=Qte(f,4);i=p[0],s=p[1],l=p[2],u=p[3]}}}var h=KO(i,l),g=KO(s,u),v=sre(i,l),w=function(S){return S>1?1:S<0?0:S},b=function(S){for(var C=S>1?1:S,k=C,E=0;E<8;++E){var _=h(k)-C,A=v(k);if(Math.abs(_-C)<th||A<th)return g(k);k=w(k-_/A)}return g(k)};return b.isStepper=!1,b},ore=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,l=t.dt,u=l===void 0?17:l,d=function(p,h,g){var v=-(p-h)*n,w=g*s,b=g+(v-w)*u/1e3,x=g*u/1e3+p;return Math.abs(x-h)<th&&Math.abs(b)<th?[h,0]:[x,b]};return d.isStepper=!0,d.dt=u,d},lre=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GO(i);case"spring":return ore();default:if(i.split("(")[0]==="cubic-bezier")return GO(i)}return typeof i=="function"?i:null};function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function YO(e){return dre(e)||ure(e)||E6(e)||cre()}function cre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ure(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dre(e){if(Array.isArray(e))return Yw(e)}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){Gw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gw(e,t,r){return t=fre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fre(e){var t=pre(e,"string");return Xu(t)==="symbol"?t:String(t)}function pre(e,t){if(Xu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hre(e,t){return yre(e)||gre(e,t)||E6(e,t)||mre()}function mre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E6(e,t){if(e){if(typeof e=="string")return Yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yw(e,t)}}function Yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function yre(e){if(Array.isArray(e))return e}var rh=function(t,r,n){return t+(r-t)*n},Xw=function(t){var r=t.from,n=t.to;return r!==n},vre=function e(t,r,n){var i=gu(function(s,l){if(Xw(l)){var u=t(l.from,l.to,l.velocity),d=hre(u,2),f=d[0],p=d[1];return Zr(Zr({},l),{},{from:f,velocity:p})}return l},r);return n<1?gu(function(s,l){return Xw(l)?Zr(Zr({},l),{},{velocity:rh(l.velocity,i[s].velocity,n),from:rh(l.from,i[s].from,n)}):l},r):e(t,i,n-1)};const xre=(function(e,t,r,n,i){var s=Yte(e,t),l=s.reduce(function(x,S){return Zr(Zr({},x),{},Gw({},S,[e[S],t[S]]))},{}),u=s.reduce(function(x,S){return Zr(Zr({},x),{},Gw({},S,{from:e[S],velocity:0,to:t[S]}))},{}),d=-1,f,p,h=function(){return null},g=function(){return gu(function(S,C){return C.from},u)},v=function(){return!Object.values(u).filter(Xw).length},w=function(S){f||(f=S);var C=S-f,k=C/r.dt;u=vre(r,u,k),i(Zr(Zr(Zr({},e),t),g())),f=S,v()||(d=requestAnimationFrame(h))},b=function(S){p||(p=S);var C=(S-p)/n,k=gu(function(_,A){return rh.apply(void 0,YO(A).concat([r(C)]))},l);if(i(Zr(Zr(Zr({},e),t),k)),C<1)d=requestAnimationFrame(h);else{var E=gu(function(_,A){return rh.apply(void 0,YO(A).concat([r(1)]))},l);i(Zr(Zr(Zr({},e),t),E))}};return h=r.isStepper?w:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}var bre=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wre(e,t){if(e==null)return{};var r=jre(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jre(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ib(e){return Nre(e)||kre(e)||Sre(e)||_re()}function _re(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sre(e,t){if(e){if(typeof e=="string")return Jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(e,t)}}function kre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nre(e){if(Array.isArray(e))return Jw(e)}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){ou(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ou(e,t,r){return t=A6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A6(n.key),n)}}function Ere(e,t,r){return t&&Pre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function A6(e){var t=Are(e,"string");return Tl(t)==="symbol"?t:String(t)}function Are(e,t){if(Tl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ore(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qw(e,t)}function Tre(e){var t=Rre();return function(){var n=nh(e),i;if(t){var s=nh(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Zw(this,i)}}function Zw(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e1(e)}function e1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nh(e){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nh(e)}var Yi=(function(e){Ore(r,e);var t=Tre(r);function r(n,i){var s;Cre(this,r),s=t.call(this,n,i);var l=s.props,u=l.isActive,d=l.attributeName,f=l.from,p=l.to,h=l.steps,g=l.children,v=l.duration;if(s.handleStyleChange=s.handleStyleChange.bind(e1(s)),s.changeStyle=s.changeStyle.bind(e1(s)),!u||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:p}),Zw(s);if(h&&h.length)s.state={style:h[0].style};else if(f){if(typeof g=="function")return s.state={style:f},Zw(s);s.state={style:d?ou({},d,f):f}}else s.state={style:{}};return s}return Ere(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,l=i.canBegin;this.mounted=!0,!(!s||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isActive,u=s.canBegin,d=s.attributeName,f=s.shouldReAnimate,p=s.to,h=s.from,g=this.state.style;if(u){if(!l){var v={style:d?ou({},d,p):p};this.state&&g&&(d&&g[d]!==p||!d&&g!==p)&&this.setState(v);return}if(!(Fte(i.to,p)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=w||f?h:i.to;if(this.state&&g){var x={style:d?ou({},d,b):b};(d&&g[d]!==b||!d&&g!==b)&&this.setState(x)}this.runAnimation(gi(gi({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,l=i.from,u=i.to,d=i.duration,f=i.easing,p=i.begin,h=i.onAnimationEnd,g=i.onAnimationStart,v=xre(l,u,lre(f),d,this.changeStyle),w=function(){s.stopJSAnimation=v()};this.manager.start([g,p,w,d,h])}},{key:"runStepAnimation",value:function(i){var s=this,l=i.steps,u=i.begin,d=i.onAnimationStart,f=l[0],p=f.style,h=f.duration,g=h===void 0?0:h,v=function(b,x,S){if(S===0)return b;var C=x.duration,k=x.easing,E=k===void 0?"ease":k,_=x.style,A=x.properties,P=x.onAnimationEnd,T=S>0?l[S-1]:x,M=A||Object.keys(_);if(typeof E=="function"||E==="spring")return[].concat(ib(b),[s.runJSAnimation.bind(s,{from:T.style,to:_,duration:C,easing:E}),C]);var R=VO(M,C,E),D=gi(gi(gi({},T.style),_),{},{transition:R});return[].concat(ib(b),[D,C,P]).filter(Xte)};return this.manager.start([d].concat(ib(l.reduce(v,[p,Math.max(g,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Vte());var s=i.begin,l=i.duration,u=i.attributeName,d=i.to,f=i.easing,p=i.onAnimationStart,h=i.onAnimationEnd,g=i.steps,v=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var b=u?ou({},u,d):d,x=VO(Object.keys(b),l,f);w.start([p,s,gi(gi({},b),{},{transition:x}),l,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=wre(i,bre),f=j.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!u||f===0||l<=0)return s;var h=function(v){var w=v.props,b=w.style,x=b===void 0?{}:b,S=w.className,C=j.cloneElement(v,gi(gi({},d),{},{style:gi(gi({},x),p),className:S}));return C};return f===1?h(j.Children.only(s)):H.createElement("div",null,j.Children.map(s,function(g){return h(g)}))}}]),r})(j.PureComponent);Yi.displayName="Animate";Yi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Yi.propTypes={from:ir.oneOfType([ir.object,ir.string]),to:ir.oneOfType([ir.object,ir.string]),attributeName:ir.string,duration:ir.number,begin:ir.number,easing:ir.oneOfType([ir.string,ir.func]),steps:ir.arrayOf(ir.shape({duration:ir.number.isRequired,style:ir.object.isRequired,easing:ir.oneOfType([ir.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ir.func]),properties:ir.arrayOf("string"),onAnimationEnd:ir.func})),children:ir.oneOfType([ir.node,ir.func]),isActive:ir.bool,canBegin:ir.bool,onAnimationEnd:ir.func,shouldReAnimate:ir.bool,onAnimationStart:ir.func,onAnimationReStart:ir.func};function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ih.apply(this,arguments)}function Mre(e,t){return Lre(e)||$re(e,t)||Ire(e,t)||Dre()}function Dre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ire(e,t){if(e){if(typeof e=="string")return QO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QO(e,t)}}function QO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $re(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Lre(e){if(Array.isArray(e))return e}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){Fre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fre(e,t,r){return t=Bre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bre(e){var t=zre(e,"string");return Ju(t)=="symbol"?t:t+""}function zre(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tT=function(t,r,n,i,s){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,p;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,v=4;g<v;g++)h[g]=s[g]>l?l:s[g];p="M".concat(t,",").concat(r+u*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+d*h[0],",").concat(r)),p+="L ".concat(t+n-d*h[1],",").concat(r),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+u*h[1])),p+="L ".concat(t+n,",").concat(r+i-u*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-d*h[2],",").concat(r+i)),p+="L ".concat(t+d*h[3],",").concat(r+i),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+i-u*h[3])),p+="Z"}else if(l>0&&s===+s&&s>0){var w=Math.min(l,s);p="M ".concat(t,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(r,`
            L `).concat(t+n-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(r+u*w,`
            L `).concat(t+n,",").concat(r+i-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-d*w,",").concat(r+i,`
            L `).concat(t+d*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(r+i-u*w," Z")}else p="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},Ure=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(s,s+u),p=Math.max(s,s+u),h=Math.min(l,l+d),g=Math.max(l,l+d);return n>=f&&n<=p&&i>=h&&i<=g}return!1},qre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},l_=function(t){var r=eT(eT({},qre),t),n=j.useRef(),i=j.useState(-1),s=Mre(i,2),l=s[0],u=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&u(E)}catch{}},[]);var d=r.x,f=r.y,p=r.width,h=r.height,g=r.radius,v=r.className,w=r.animationEasing,b=r.animationDuration,x=r.animationBegin,S=r.isAnimationActive,C=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||p===0||h===0)return null;var k=Ot("recharts-rectangle",v);return C?H.createElement(Yi,{canBegin:l>0,from:{width:p,height:h,x:d,y:f},to:{width:p,height:h,x:d,y:f},duration:b,animationEasing:w,isActive:C},function(E){var _=E.width,A=E.height,P=E.x,T=E.y;return H.createElement(Yi,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:S,easing:w},H.createElement("path",ih({},bt(r,!0),{className:k,d:tT(P,T,_,A,g),ref:n})))}):H.createElement("path",ih({},bt(r,!0),{className:k,d:tT(d,f,p,h,g)}))},Wre=["points","className","baseLinePoints","connectNulls"];function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(this,arguments)}function Hre(e,t){if(e==null)return{};var r=Vre(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rT(e){return Xre(e)||Yre(e)||Gre(e)||Kre()}function Kre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(e,t){if(e){if(typeof e=="string")return t1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(e,t)}}function Yre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xre(e){if(Array.isArray(e))return t1(e)}function t1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nT=function(t){return t&&t.x===+t.x&&t.y===+t.y},Jre=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){nT(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),nT(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},yu=function(t,r){var n=Jre(t);r&&(n=[n.reduce(function(s,l){return[].concat(rT(s),rT(l))},[])]);var i=n.map(function(s){return s.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Qre=function(t,r,n){var i=yu(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(yu(r.reverse(),n).slice(1))},Zre=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,s=t.connectNulls,l=Hre(t,Wre);if(!r||!r.length)return null;var u=Ot("recharts-polygon",n);if(i&&i.length){var d=l.stroke&&l.stroke!=="none",f=Qre(r,i,s);return H.createElement("g",{className:u},H.createElement("path",il({},bt(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?H.createElement("path",il({},bt(l,!0),{fill:"none",d:yu(r,s)})):null,d?H.createElement("path",il({},bt(l,!0),{fill:"none",d:yu(i,s)})):null)}var p=yu(r,s);return H.createElement("path",il({},bt(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:u,d:p}))};function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r1.apply(this,arguments)}var om=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,l=Ot("recharts-dot",s);return r===+r&&n===+n&&i===+i?H.createElement("circle",r1({},bt(t,!1),Np(t),{className:l,cx:r,cy:n,r:i})):null};function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}var ene=["x","y","top","left","width","height","className"];function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n1.apply(this,arguments)}function iT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(r),!0).forEach(function(n){rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rne(e,t,r){return t=nne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nne(e){var t=ine(e,"string");return Qu(t)=="symbol"?t:t+""}function ine(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ane(e,t){if(e==null)return{};var r=sne(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var one=function(t,r,n,i,s,l){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},lne=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,p=t.width,h=p===void 0?0:p,g=t.height,v=g===void 0?0:g,w=t.className,b=ane(t,ene),x=tne({x:n,y:s,top:u,left:f,width:h,height:v},b);return!Ve(n)||!Ve(s)||!Ve(h)||!Ve(v)||!Ve(u)||!Ve(f)?null:H.createElement("path",n1({},bt(x,!0),{className:Ot("recharts-cross",w),d:one(n,s,h,v,u,f)}))},ab,aT;function cne(){if(aT)return ab;aT=1;var e=rm(),t=H$(),r=Qi();function n(i,s){return i&&i.length?e(i,r(s,2),t):void 0}return ab=n,ab}var une=cne();const dne=er(une);var sb,sT;function fne(){if(sT)return sb;sT=1;var e=rm(),t=Qi(),r=V$();function n(i,s){return i&&i.length?e(i,t(s,2),r):void 0}return sb=n,sb}var pne=fne();const hne=er(pne);var mne=["cx","cy","angle","ticks","axisLine"],gne=["ticks","tick","angle","tickFormatter","stroke"];function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(this,arguments)}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){lm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lT(e,t){if(e==null)return{};var r=yne(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T6(n.key),n)}}function xne(e,t,r){return t&&cT(e.prototype,t),r&&cT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bne(e,t,r){return t=ah(t),wne(e,O6()?Reflect.construct(t,r||[],ah(e).constructor):t.apply(e,r))}function wne(e,t){if(t&&(Rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jne(e)}function jne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O6=function(){return!!e})()}function ah(e){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ah(e)}function _ne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i1(e,t)}function i1(e,t){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i1(e,t)}function lm(e,t,r){return t=T6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T6(e){var t=Sne(e,"string");return Rl(t)=="symbol"?t:t+""}function Sne(e,t){if(Rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cm=(function(e){function t(){return vne(this,t),bne(this,t,arguments)}return _ne(t,e),xne(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,l=s.angle,u=s.cx,d=s.cy;return gr(u,d,i,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,l=n.angle,u=n.ticks,d=dne(u,function(p){return p.coordinate||0}),f=hne(u,function(p){return p.coordinate||0});return{cx:i,cy:s,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,f=lT(n,mne),p=u.reduce(function(w,b){return[Math.min(w[0],b.coordinate),Math.max(w[1],b.coordinate)]},[1/0,-1/0]),h=gr(i,s,p[0],l),g=gr(i,s,p[1],l),v=Ds(Ds(Ds({},bt(f,!1)),{},{fill:"none"},bt(d,!1)),{},{x1:h.x,y1:h.y,x2:g.x,y2:g.y});return H.createElement("line",vu({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,l=i.tick,u=i.angle,d=i.tickFormatter,f=i.stroke,p=lT(i,gne),h=this.getTickTextAnchor(),g=bt(p,!1),v=bt(l,!1),w=s.map(function(b,x){var S=n.getTickValueCoord(b),C=Ds(Ds(Ds(Ds({textAnchor:h,transform:"rotate(".concat(90-u,", ").concat(S.x,", ").concat(S.y,")")},g),{},{stroke:"none",fill:f},v),{},{index:x},S),{},{payload:b});return H.createElement(Qt,vu({className:Ot("recharts-polar-radius-axis-tick",b6(l)),key:"tick-".concat(b.coordinate)},io(n.props,b,x)),t.renderTickItem(l,C,d?d(b.value,x):b.value))});return H.createElement(Qt,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,l=n.tick;return!i||!i.length?null:H.createElement(Qt,{className:Ot("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),l&&this.renderTicks(),Gr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var l;return H.isValidElement(n)?l=H.cloneElement(n,i):Nt(n)?l=n(i):l=H.createElement(ao,vu({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),l}}])})(j.PureComponent);lm(cm,"displayName","PolarRadiusAxis");lm(cm,"axisType","radiusAxis");lm(cm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(this,arguments)}function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){um(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M6(n.key),n)}}function Nne(e,t,r){return t&&dT(e.prototype,t),r&&dT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cne(e,t,r){return t=sh(t),Pne(e,R6()?Reflect.construct(t,r||[],sh(e).constructor):t.apply(e,r))}function Pne(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ene(e)}function Ene(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R6=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sh(e)}function Ane(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a1(e,t)}function a1(e,t){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a1(e,t)}function um(e,t,r){return t=M6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M6(e){var t=One(e,"string");return Ml(t)=="symbol"?t:t+""}function One(e,t){if(Ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tne=Math.PI/180,fT=1e-5,dm=(function(e){function t(){return kne(this,t),Cne(this,t,arguments)}return Ane(t,e),Nne(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,l=i.cy,u=i.radius,d=i.orientation,f=i.tickSize,p=f||8,h=gr(s,l,u,n.coordinate),g=gr(s,l,u+(d==="inner"?-1:1)*p,n.coordinate);return{x1:h.x,y1:h.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*Tne),l;return s>fT?l=i==="outer"?"start":"end":s<-fT?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,f=Is(Is({},bt(this.props,!1)),{},{fill:"none"},bt(u,!1));if(d==="circle")return H.createElement(om,zs({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:s,r:l}));var p=this.props.ticks,h=p.map(function(g){return gr(i,s,l,g.coordinate)});return H.createElement(Zre,zs({className:"recharts-polar-angle-axis-line"},f,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,l=i.tick,u=i.tickLine,d=i.tickFormatter,f=i.stroke,p=bt(this.props,!1),h=bt(l,!1),g=Is(Is({},p),{},{fill:"none"},bt(u,!1)),v=s.map(function(w,b){var x=n.getTickLineCoord(w),S=n.getTickTextAnchor(w),C=Is(Is(Is({textAnchor:S},p),{},{stroke:"none",fill:f},h),{},{index:b,payload:w,x:x.x2,y:x.y2});return H.createElement(Qt,zs({className:Ot("recharts-polar-angle-axis-tick",b6(l)),key:"tick-".concat(w.coordinate)},io(n.props,w,b)),u&&H.createElement("line",zs({className:"recharts-polar-angle-axis-tick-line"},g,x)),l&&t.renderTickItem(l,C,d?d(w.value,b):w.value))});return H.createElement(Qt,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,l=n.axisLine;return s<=0||!i||!i.length?null:H.createElement(Qt,{className:Ot("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var l;return H.isValidElement(n)?l=H.cloneElement(n,i):Nt(n)?l=n(i):l=H.createElement(ao,zs({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),l}}])})(j.PureComponent);um(dm,"displayName","PolarAngleAxis");um(dm,"axisType","angleAxis");um(dm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ob,pT;function Rne(){if(pT)return ob;pT=1;var e=WI(),t=e(Object.getPrototypeOf,Object);return ob=t,ob}var lb,hT;function Mne(){if(hT)return lb;hT=1;var e=Sa(),t=Rne(),r=ka(),n="[object Object]",i=Function.prototype,s=Object.prototype,l=i.toString,u=s.hasOwnProperty,d=l.call(Object);function f(p){if(!r(p)||e(p)!=n)return!1;var h=t(p);if(h===null)return!0;var g=u.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return lb=f,lb}var Dne=Mne();const Ine=er(Dne);var cb,mT;function $ne(){if(mT)return cb;mT=1;var e=Sa(),t=ka(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return cb=n,cb}var Lne=$ne();const Fne=er(Lne);function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oh.apply(this,arguments)}function Bne(e,t){return Wne(e)||qne(e,t)||Une(e,t)||zne()}function zne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Une(e,t){if(e){if(typeof e=="string")return gT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gT(e,t)}}function gT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Wne(e){if(Array.isArray(e))return e}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){Hne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hne(e,t,r){return t=Vne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vne(e){var t=Kne(e,"string");return Zu(t)=="symbol"?t:t+""}function Kne(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xT=function(t,r,n,i,s){var l=n-i,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-l/2,",").concat(r+s),u+="L ".concat(t+n-l/2-i,",").concat(r+s),u+="L ".concat(t,",").concat(r," Z"),u},Gne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yne=function(t){var r=vT(vT({},Gne),t),n=j.useRef(),i=j.useState(-1),s=Bne(i,2),l=s[0],u=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&u(k)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,h=r.lowerWidth,g=r.height,v=r.className,w=r.animationEasing,b=r.animationDuration,x=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||g!==+g||p===0&&h===0||g===0)return null;var C=Ot("recharts-trapezoid",v);return S?H.createElement(Yi,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:p,lowerWidth:h,height:g,x:d,y:f},duration:b,animationEasing:w,isActive:S},function(k){var E=k.upperWidth,_=k.lowerWidth,A=k.height,P=k.x,T=k.y;return H.createElement(Yi,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:w},H.createElement("path",oh({},bt(r,!0),{className:C,d:xT(P,T,E,_,A),ref:n})))}):H.createElement("g",null,H.createElement("path",oh({},bt(r,!0),{className:C,d:xT(d,f,p,h,g)})))},Xne=["option","shapeType","propTransformer","activeClassName","isActive"];function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function Jne(e,t){if(e==null)return{};var r=Qne(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){Zne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zne(e,t,r){return t=eie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eie(e){var t=tie(e,"string");return ed(t)=="symbol"?t:t+""}function tie(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rie(e,t){return lh(lh({},t),e)}function nie(e,t){return e==="symbols"}function wT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return H.createElement(l_,r);case"trapezoid":return H.createElement(Yne,r);case"sector":return H.createElement(_6,r);case"symbols":if(nie(t))return H.createElement(Cj,r);break;default:return null}}function iie(e){return j.isValidElement(e)?e.props:e}function D6(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?rie:n,s=e.activeClassName,l=s===void 0?"recharts-active-shape":s,u=e.isActive,d=Jne(e,Xne),f;if(j.isValidElement(t))f=j.cloneElement(t,lh(lh({},d),iie(t)));else if(Nt(t))f=t(d);else if(Ine(t)&&!Fne(t)){var p=i(t,d);f=H.createElement(wT,{shapeType:r,elementProps:p})}else{var h=d;f=H.createElement(wT,{shapeType:r,elementProps:h})}return u?H.createElement(Qt,{className:l},f):f}function fm(e,t){return t!=null&&"trapezoids"in e.props}function pm(e,t){return t!=null&&"sectors"in e.props}function td(e,t){return t!=null&&"points"in e.props}function aie(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function sie(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function oie(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function lie(e,t){var r;return fm(e,t)?r=aie:pm(e,t)?r=sie:td(e,t)&&(r=oie),r}function cie(e,t){var r;return fm(e,t)?r="trapezoids":pm(e,t)?r="sectors":td(e,t)&&(r="points"),r}function uie(e,t){if(fm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(pm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return td(e,t)?t.payload:{}}function die(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=cie(r,t),s=uie(r,t),l=n.filter(function(d,f){var p=jd(s,d),h=r.props[i].filter(function(w){var b=lie(r,t);return b(w,t)}),g=r.props[i].indexOf(h[h.length-1]),v=f===g;return p&&v}),u=n.indexOf(l[l.length-1]);return u}var hp;function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al.apply(this,arguments)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){Zn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$6(n.key),n)}}function pie(e,t,r){return t&&_T(e.prototype,t),r&&_T(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hie(e,t,r){return t=ch(t),mie(e,I6()?Reflect.construct(t,r||[],ch(e).constructor):t.apply(e,r))}function mie(e,t){if(t&&(Dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gie(e)}function gie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I6=function(){return!!e})()}function ch(e){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(e)}function yie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s1(e,t)}function s1(e,t){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s1(e,t)}function Zn(e,t,r){return t=$6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $6(e){var t=vie(e,"string");return Dl(t)=="symbol"?t:t+""}function vie(e,t){if(Dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ca=(function(e){function t(r){var n;return fie(this,t),n=hie(this,t,[r]),Zn(n,"pieRef",null),Zn(n,"sectorRefs",[]),Zn(n,"id",ic("recharts-pie-")),Zn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Nt(i)&&i()}),Zn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Nt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return yie(t,e),pie(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.label,u=s.labelLine,d=s.dataKey,f=s.valueKey,p=bt(this.props,!1),h=bt(l,!1),g=bt(u,!1),v=l&&l.offsetRadius||20,w=n.map(function(b,x){var S=(b.startAngle+b.endAngle)/2,C=gr(b.cx,b.cy,b.outerRadius+v,S),k=hr(hr(hr(hr({},p),b),{},{stroke:"none"},h),{},{index:x,textAnchor:t.getTextAnchor(C.x,b.cx)},C),E=hr(hr(hr(hr({},p),b),{},{fill:"none",stroke:b.fill},g),{},{index:x,points:[gr(b.cx,b.cy,b.outerRadius,S),C]}),_=d;return At(d)&&At(f)?_="value":At(d)&&(_=f),H.createElement(Qt,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},u&&t.renderLabelLineItem(u,E,"line"),t.renderLabelItem(l,k,Lr(b,_)))});return H.createElement(Qt,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,l=s.activeShape,u=s.blendStroke,d=s.inactiveShape;return n.map(function(f,p){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(p),g=d&&i.hasActiveIndex()?d:null,v=h?l:g,w=hr(hr({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return H.createElement(Qt,al({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},io(i.props,f,p),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(p)}),H.createElement(D6,al({option:v,isActive:h,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,p=i.animationId,h=this.state,g=h.prevSectors,v=h.prevIsAnimationActive;return H.createElement(Yi,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var b=w.t,x=[],S=s&&s[0],C=S.startAngle;return s.forEach(function(k,E){var _=g&&g[E],A=E>0?Un(k,"paddingAngle",0):0;if(_){var P=Fn(_.endAngle-_.startAngle,k.endAngle-k.startAngle),T=hr(hr({},k),{},{startAngle:C+A,endAngle:C+P(b)+A});x.push(T),C=T.endAngle}else{var M=k.endAngle,R=k.startAngle,D=Fn(0,M-R),q=D(b),F=hr(hr({},k),{},{startAngle:C+A,endAngle:C+q+A});x.push(F),C=F.endAngle}}),H.createElement(Qt,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,l=this.state.prevSectors;return s&&i&&i.length&&(!l||!jd(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,l=i.sectors,u=i.className,d=i.label,f=i.cx,p=i.cy,h=i.innerRadius,g=i.outerRadius,v=i.isAnimationActive,w=this.state.isAnimationFinished;if(s||!l||!l.length||!Ve(f)||!Ve(p)||!Ve(h)||!Ve(g))return null;var b=Ot("recharts-pie",u);return H.createElement(Qt,{tabIndex:this.props.rootTabIndex,className:b,ref:function(S){n.pieRef=S}},this.renderSectors(),d&&this.renderLabels(l),Gr.renderCallByParent(this.props,null,!1),(!v||w)&&ga.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(H.isValidElement(n))return H.cloneElement(n,i);if(Nt(n))return n(i);var l=Ot("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return H.createElement(Zp,al({},i,{key:s,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,i,s){if(H.isValidElement(n))return H.cloneElement(n,i);var l=s;if(Nt(n)&&(l=n(i),H.isValidElement(l)))return l;var u=Ot("recharts-pie-label-text",typeof n!="boolean"&&!Nt(n)?n.className:"");return H.createElement(ao,al({},i,{alignmentBaseline:"middle",className:u}),l)}}])})(j.PureComponent);hp=Ca;Zn(Ca,"displayName","Pie");Zn(Ca,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!po.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Zn(Ca,"parseDeltaAngle",function(e,t){var r=pn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Zn(Ca,"getRealPieData",function(e){var t=e.data,r=e.children,n=bt(e,!1),i=qn(r,Yh);return t&&t.length?t.map(function(s,l){return hr(hr(hr({payload:s},n),s),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(s){return hr(hr({},n),s.props)}):[]});Zn(Ca,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,l=x6(i,s),u=n+hn(e.cx,i,i/2),d=r+hn(e.cy,s,s/2),f=hn(e.innerRadius,l,0),p=hn(e.outerRadius,l,l*.8),h=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:p,maxRadius:h}});Zn(Ca,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?hr(hr({},t.type.defaultProps),t.props):t.props,i=hp.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,p=n.nameKey,h=n.valueKey,g=n.tooltipType,v=Math.abs(n.minAngle),w=hp.parseCoordinateOfPie(n,r),b=hp.parseDeltaAngle(l,u),x=Math.abs(b),S=f;At(f)&&At(h)?(ki(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):At(f)&&(ki(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=h);var C=i.filter(function(T){return Lr(T,S,0)!==0}).length,k=(x>=360?C:C-1)*d,E=x-C*v-k,_=i.reduce(function(T,M){var R=Lr(M,S,0);return T+(Ve(R)?R:0)},0),A;if(_>0){var P;A=i.map(function(T,M){var R=Lr(T,S,0),D=Lr(T,p,M),q=(Ve(R)?R:0)/_,F;M?F=P.endAngle+pn(b)*d*(R!==0?1:0):F=l;var $=F+pn(b)*((R!==0?v:0)+q*E),L=(F+$)/2,B=(w.innerRadius+w.outerRadius)/2,Z=[{name:D,value:R,payload:T,dataKey:S,type:g}],z=gr(w.cx,w.cy,B,L);return P=hr(hr(hr({percent:q,cornerRadius:s,name:D,tooltipPayload:Z,midAngle:L,middleRadius:B,tooltipPosition:z},T),w),{},{value:Lr(T,S),startAngle:F,endAngle:$,payload:T,paddingAngle:pn(b)*d}),P})}return hr(hr({},w),{},{sectors:A,data:i})});var ub,ST;function xie(){if(ST)return ub;ST=1;var e=Math.ceil,t=Math.max;function r(n,i,s,l){for(var u=-1,d=t(e((i-n)/(s||1)),0),f=Array(d);d--;)f[l?d:++u]=n,n+=s;return f}return ub=r,ub}var db,kT;function L6(){if(kT)return db;kT=1;var e=s$(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return db=n,db}var fb,NT;function bie(){if(NT)return fb;NT=1;var e=xie(),t=Gh(),r=L6();function n(i){return function(s,l,u){return u&&typeof u!="number"&&t(s,l,u)&&(l=u=void 0),s=r(s),l===void 0?(l=s,s=0):l=r(l),u=u===void 0?s<l?1:-1:r(u),e(s,l,u,i)}}return fb=n,fb}var pb,CT;function wie(){if(CT)return pb;CT=1;var e=bie(),t=e();return pb=t,pb}var jie=wie();const uh=er(jie);function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ET(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){F6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F6(e,t,r){return t=_ie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ie(e){var t=Sie(e,"string");return rd(t)=="symbol"?t:t+""}function Sie(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kie=["Webkit","Moz","O","ms"],Nie=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=kie.reduce(function(s,l){return ET(ET({},s),{},F6({},l+n,r))},{});return i[t]=r,i};function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dh.apply(this,arguments)}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){In(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z6(n.key),n)}}function Pie(e,t,r){return t&&OT(e.prototype,t),r&&OT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eie(e,t,r){return t=fh(t),Aie(e,B6()?Reflect.construct(t,r||[],fh(e).constructor):t.apply(e,r))}function Aie(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oie(e)}function Oie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B6=function(){return!!e})()}function fh(e){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fh(e)}function Tie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o1(e,t)}function o1(e,t){return o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o1(e,t)}function In(e,t,r){return t=z6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z6(e){var t=Rie(e,"string");return Il(t)=="symbol"?t:t+""}function Rie(e,t){if(Il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mie=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=hu().domain(uh(0,d)).range([s,s+l-u]),p=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:p}},TT=function(t){return t.changedTouches&&!!t.changedTouches.length},$l=(function(e){function t(r){var n;return Cie(this,t),n=Eie(this,t,[r]),In(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),In(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),In(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,l=i.onDragEnd,u=i.startIndex;l==null||l({endIndex:s,startIndex:u})}),n.detachDragEndListener()}),In(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),In(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),In(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),In(n,"handleSlideDragStart",function(i){var s=TT(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Tie(t,e),Pie(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,h=Math.min(i,s),g=Math.max(i,s),v=t.getIndexInRange(l,h),w=t.getIndexInRange(l,g);return{startIndex:v-v%d,endIndex:w===p?p:w-w%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,l=i.tickFormatter,u=i.dataKey,d=Lr(s[n],u,n);return Nt(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,l=i.startX,u=i.endX,d=this.props,f=d.x,p=d.width,h=d.travellerWidth,g=d.startIndex,v=d.endIndex,w=d.onChange,b=n.pageX-s;b>0?b=Math.min(b,f+p-h-u,f+p-h-l):b<0&&(b=Math.max(b,f-l,f-u));var x=this.getIndex({startX:l+b,endX:u+b});(x.startIndex!==g||x.endIndex!==v)&&w&&w(x),this.setState({startX:l+b,endX:u+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=TT(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[l],p=this.props,h=p.x,g=p.width,v=p.travellerWidth,w=p.onChange,b=p.gap,x=p.data,S={startX:this.state.startX,endX:this.state.endX},C=n.pageX-s;C>0?C=Math.min(C,h+g-v-f):C<0&&(C=Math.max(C,h-f)),S[l]=f+C;var k=this.getIndex(S),E=k.startIndex,_=k.endIndex,A=function(){var T=x.length-1;return l==="startX"&&(u>d?E%b===0:_%b===0)||u<d&&_===T||l==="endX"&&(u>d?_%b===0:E%b===0)||u>d&&_===T};this.setState(In(In({},l,f+C),"brushMoveStartX",n.pageX),function(){w&&A()&&w(k)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,p=this.state[i],h=u.indexOf(p);if(h!==-1){var g=h+n;if(!(g===-1||g>=u.length)){var v=u[g];i==="startX"&&v>=f||i==="endX"&&v<=d||this.setState(In({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,l=n.width,u=n.height,d=n.fill,f=n.stroke;return H.createElement("rect",{stroke:f,fill:d,x:i,y:s,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,l=n.width,u=n.height,d=n.data,f=n.children,p=n.padding,h=j.Children.only(f);return h?H.cloneElement(h,{x:i,y:s,width:l,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,l,u=this,d=this.props,f=d.y,p=d.travellerWidth,h=d.height,g=d.traveller,v=d.ariaLabel,w=d.data,b=d.startIndex,x=d.endIndex,S=Math.max(n,this.props.x),C=hb(hb({},bt(this.props,!1)),{},{x:S,y:f,width:p,height:h}),k=v||"Min value: ".concat((s=w[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((l=w[x])===null||l===void 0?void 0:l.name);return H.createElement(Qt,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),u.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,C))}},{key:"renderSlide",value:function(n,i){var s=this.props,l=s.y,u=s.height,d=s.stroke,f=s.travellerWidth,p=Math.min(n,i)+f,h=Math.max(Math.abs(i-n)-f,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:h,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,h=p.startX,g=p.endX,v=5,w={pointerEvents:"none",fill:f};return H.createElement(Qt,{className:"recharts-brush-texts"},H.createElement(ao,dh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-v,y:l+u/2},w),this.getTextOfTick(i)),H.createElement(ao,dh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+d+v,y:l+u/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,l=n.children,u=n.x,d=n.y,f=n.width,p=n.height,h=n.alwaysShowText,g=this.state,v=g.startX,w=g.endX,b=g.isTextActive,x=g.isSlideMoving,S=g.isTravellerMoving,C=g.isTravellerFocused;if(!i||!i.length||!Ve(u)||!Ve(d)||!Ve(f)||!Ve(p)||f<=0||p<=0)return null;var k=Ot("recharts-brush",s),E=H.Children.count(l)===1,_=Nie("userSelect","none");return H.createElement(Qt,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(v,w),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(w,"endX"),(b||x||S||C||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,l=n.width,u=n.height,d=n.stroke,f=Math.floor(s+u/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:s,width:l,height:u,fill:d,stroke:"none"}),H.createElement("line",{x1:i+1,y1:f,x2:i+l-1,y2:f,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:f+2,x2:i+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return H.isValidElement(n)?s=H.cloneElement(n,i):Nt(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,l=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,h=n.endIndex;if(s!==i.prevData||f!==i.prevUpdateId)return hb({prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},s&&s.length?Mie({data:s,width:l,x:u,travellerWidth:d,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+l-d]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,l=0,u=s-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>i?u=d:l=d}return i>=n[u]?u:l}}])})(j.PureComponent);In($l,"displayName","Brush");In($l,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var mb,RT;function Die(){if(RT)return mb;RT=1;var e=Mj();function t(r,n){var i;return e(r,function(s,l,u){return i=n(s,l,u),!i}),!!i}return mb=t,mb}var gb,MT;function Iie(){if(MT)return gb;MT=1;var e=$I(),t=Qi(),r=Die(),n=En(),i=Gh();function s(l,u,d){var f=n(l)?e:r;return d&&i(l,u,d)&&(u=void 0),f(l,t(u,3))}return gb=s,gb}var $ie=Iie();const Lie=er($ie);var Hi=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},yb,DT;function Fie(){if(DT)return yb;DT=1;var e=t$();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return yb=t,yb}var vb,IT;function Bie(){if(IT)return vb;IT=1;var e=Fie(),t=ZI(),r=Qi();function n(i,s){var l={};return s=r(s,3),t(i,function(u,d,f){e(l,d,s(u,d,f))}),l}return vb=n,vb}var zie=Bie();const Uie=er(zie);var xb,$T;function qie(){if($T)return xb;$T=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return xb=e,xb}var bb,LT;function Wie(){if(LT)return bb;LT=1;var e=Mj();function t(r,n){var i=!0;return e(r,function(s,l,u){return i=!!n(s,l,u),i}),i}return bb=t,bb}var wb,FT;function Hie(){if(FT)return wb;FT=1;var e=qie(),t=Wie(),r=Qi(),n=En(),i=Gh();function s(l,u,d){var f=n(l)?e:t;return d&&i(l,u,d)&&(u=void 0),f(l,r(u,3))}return wb=s,wb}var Vie=Hie();const U6=er(Vie);var Kie=["x","y"];function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l1.apply(this,arguments)}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ru(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){Gie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gie(e,t,r){return t=Yie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yie(e){var t=Xie(e,"string");return nd(t)=="symbol"?t:t+""}function Xie(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jie(e,t){if(e==null)return{};var r=Qie(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zie(e,t){var r=e.x,n=e.y,i=Jie(e,Kie),s="".concat(r),l=parseInt(s,10),u="".concat(n),d=parseInt(u,10),f="".concat(t.height||i.height),p=parseInt(f,10),h="".concat(t.width||i.width),g=parseInt(h,10);return ru(ru(ru(ru(ru({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:g,name:t.name,radius:t.radius})}function zT(e){return H.createElement(D6,l1({shapeType:"rectangle",propTransformer:Zie,activeClassName:"recharts-active-bar"},e))}var eae=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=typeof n=="number";return s?t(n,i):(s||oo(),r)}},tae=["value","background"],q6;function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function rae(e,t){if(e==null)return{};var r=nae(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(this,arguments)}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){is(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H6(n.key),n)}}function aae(e,t,r){return t&&qT(e.prototype,t),r&&qT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sae(e,t,r){return t=hh(t),oae(e,W6()?Reflect.construct(t,r||[],hh(e).constructor):t.apply(e,r))}function oae(e,t){if(t&&(Ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lae(e)}function lae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W6=function(){return!!e})()}function hh(e){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hh(e)}function cae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c1(e,t)}function c1(e,t){return c1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c1(e,t)}function is(e,t,r){return t=H6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H6(e){var t=uae(e,"string");return Ll(t)=="symbol"?t:t+""}function uae(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sd=(function(e){function t(){var r;iae(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=sae(this,t,[].concat(i)),is(r,"state",{isAnimationFinished:!1}),is(r,"id",ic("recharts-bar-")),is(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),is(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return cae(t,e),aae(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,l=s.shape,u=s.dataKey,d=s.activeIndex,f=s.activeBar,p=bt(this.props,!1);return n&&n.map(function(h,g){var v=g===d,w=v?f:l,b=Or(Or(Or({},p),h),{},{isActive:v,option:w,index:g,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(Qt,ph({className:"recharts-bar-rectangle"},io(i.props,h,g),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(g)}),H.createElement(zT,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,l=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,p=i.animationEasing,h=i.animationId,g=this.state.prevData;return H.createElement(Yi,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t,b=s.map(function(x,S){var C=g&&g[S];if(C){var k=Fn(C.x,x.x),E=Fn(C.y,x.y),_=Fn(C.width,x.width),A=Fn(C.height,x.height);return Or(Or({},x),{},{x:k(w),y:E(w),width:_(w),height:A(w)})}if(l==="horizontal"){var P=Fn(0,x.height),T=P(w);return Or(Or({},x),{},{y:x.y+x.height-T,height:T})}var M=Fn(0,x.width),R=M(w);return Or(Or({},x),{},{width:R})});return H.createElement(Qt,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,l=this.state.prevData;return s&&i&&i.length&&(!l||!jd(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,l=i.dataKey,u=i.activeIndex,d=bt(this.props.background,!1);return s.map(function(f,p){f.value;var h=f.background,g=rae(f,tae);if(!h)return null;var v=Or(Or(Or(Or(Or({},g),{},{fill:"#eee"},h),d),io(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return H.createElement(zT,ph({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.data,u=s.xAxis,d=s.yAxis,f=s.layout,p=s.children,h=qn(p,_d);if(!h)return null;var g=f==="vertical"?l[0].height/2:l[0].width/2,v=function(x,S){var C=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:C,errorVal:Lr(x,S)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return H.createElement(Qt,w,h.map(function(b){return H.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,l=n.className,u=n.xAxis,d=n.yAxis,f=n.left,p=n.top,h=n.width,g=n.height,v=n.isAnimationActive,w=n.background,b=n.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,S=Ot("recharts-bar",l),C=u&&u.allowDataOverflow,k=d&&d.allowDataOverflow,E=C||k,_=At(b)?this.id:b;return H.createElement(Qt,{className:S},C||k?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(_)},H.createElement("rect",{x:C?f:f-h/2,y:k?p:p-g/2,width:C?h:h*2,height:k?g:g*2}))):null,H.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(_,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,_),(!v||x)&&ga.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(j.PureComponent);q6=Sd;is(Sd,"displayName","Bar");is(Sd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!po.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});is(Sd,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,h=e.displayedData,g=e.offset,v=DZ(n,r);if(!v)return null;var w=t.layout,b=r.type.defaultProps,x=b!==void 0?Or(Or({},b),r.props):r.props,S=x.dataKey,C=x.children,k=x.minPointSize,E=w==="horizontal"?l:s,_=f?E.scale.domain():null,A=UZ({numericAxis:E}),P=qn(C,Yh),T=h.map(function(M,R){var D,q,F,$,L,B;f?D=IZ(f[p+R],_):(D=Lr(M,S),Array.isArray(D)||(D=[A,D]));var Z=eae(k,q6.defaultProps.minPointSize)(D[1],R);if(w==="horizontal"){var z,te=[l.scale(D[0]),l.scale(D[1])],re=te[0],V=te[1];q=yO({axis:s,ticks:u,bandSize:i,offset:v.offset,entry:M,index:R}),F=(z=V??re)!==null&&z!==void 0?z:void 0,$=v.size;var X=re-V;if(L=Number.isNaN(X)?0:X,B={x:q,y:l.y,width:$,height:l.height},Math.abs(Z)>0&&Math.abs(L)<Math.abs(Z)){var le=pn(L||Z)*(Math.abs(Z)-Math.abs(L));F-=le,L+=le}}else{var ce=[s.scale(D[0]),s.scale(D[1])],Se=ce[0],xe=ce[1];if(q=Se,F=yO({axis:l,ticks:d,bandSize:i,offset:v.offset,entry:M,index:R}),$=xe-Se,L=v.size,B={x:s.x,y:F,width:s.width,height:L},Math.abs(Z)>0&&Math.abs($)<Math.abs(Z)){var ye=pn($||Z)*(Math.abs(Z)-Math.abs($));$+=ye}}return Or(Or(Or({},M),{},{x:q,y:F,width:$,height:L,value:f?D:D[1],payload:M,background:B},P&&P[R]&&P[R].props),{},{tooltipPayload:[y6(r,M)],tooltipPosition:{x:q+$/2,y:F+L/2}})});return Or({data:T,layout:w},g)});function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function dae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V6(n.key),n)}}function fae(e,t,r){return t&&WT(e.prototype,t),r&&WT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(n){hm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hm(e,t,r){return t=V6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V6(e){var t=pae(e,"string");return id(t)=="symbol"?t:t+""}function pae(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hae=function(t,r,n,i,s){var l=t.width,u=t.height,d=t.layout,f=t.children,p=Object.keys(r),h={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},g=!!$n(f,Sd);return p.reduce(function(v,w){var b=r[w],x=b.orientation,S=b.domain,C=b.padding,k=C===void 0?{}:C,E=b.mirror,_=b.reversed,A="".concat(x).concat(E?"Mirror":""),P,T,M,R,D;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var q=S[1]-S[0],F=1/0,$=b.categoricalDomain.sort();if($.forEach(function(ce,Se){Se>0&&(F=Math.min((ce||0)-($[Se-1]||0),F))}),Number.isFinite(F)){var L=F/q,B=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(P=L*B/2),b.padding==="no-gap"){var Z=hn(t.barCategoryGap,L*B),z=L*B/2;P=z-Z-(z-Z)/B*Z}}}i==="xAxis"?T=[n.left+(k.left||0)+(P||0),n.left+n.width-(k.right||0)-(P||0)]:i==="yAxis"?T=d==="horizontal"?[n.top+n.height-(k.bottom||0),n.top+(k.top||0)]:[n.top+(k.top||0)+(P||0),n.top+n.height-(k.bottom||0)-(P||0)]:T=b.range,_&&(T=[T[1],T[0]]);var te=p6(b,s,g),re=te.scale,V=te.realScaleType;re.domain(S).range(T),h6(re);var X=m6(re,bi(bi({},b),{},{realScaleType:V}));i==="xAxis"?(D=x==="top"&&!E||x==="bottom"&&E,M=n.left,R=h[A]-D*b.height):i==="yAxis"&&(D=x==="left"&&!E||x==="right"&&E,M=h[A]-D*b.width,R=n.top);var le=bi(bi(bi({},b),X),{},{realScaleType:V,x:M,y:R,scale:re,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return le.bandSize=Xp(le,X),!b.hide&&i==="xAxis"?h[A]+=(D?-1:1)*le.height:b.hide||(h[A]+=(D?-1:1)*le.width),bi(bi({},v),{},hm({},w,le))},{})},K6=function(t,r){var n=t.x,i=t.y,s=r.x,l=r.y;return{x:Math.min(n,s),y:Math.min(i,l),width:Math.abs(s-n),height:Math.abs(l-i)}},mae=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return K6({x:r,y:n},{x:i,y:s})},G6=(function(){function e(t){dae(this,e),this.scale=t}return fae(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();hm(G6,"EPS",1e-4);var c_=function(t){var r=Object.keys(t).reduce(function(n,i){return bi(bi({},n),{},hm({},i,G6.create(t[i])))},{});return bi(bi({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.bandAware,u=s.position;return Uie(i,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(i){return U6(i,function(s,l){return r[l].isInRange(s)})}})};function gae(e){return(e%180+180)%180}var yae=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=gae(i),l=s*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},jb,VT;function vae(){if(VT)return jb;VT=1;var e=Qi(),t=yd(),r=Vh();function n(i){return function(s,l,u){var d=Object(s);if(!t(s)){var f=e(l,3);s=r(s),l=function(h){return f(d[h],h,d)}}var p=i(s,l,u);return p>-1?d[f?s[p]:p]:void 0}}return jb=n,jb}var _b,KT;function xae(){if(KT)return _b;KT=1;var e=L6();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return _b=t,_b}var Sb,GT;function bae(){if(GT)return Sb;GT=1;var e=GI(),t=Qi(),r=xae(),n=Math.max;function i(s,l,u){var d=s==null?0:s.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),e(s,t(l,3),f)}return Sb=i,Sb}var kb,YT;function wae(){if(YT)return kb;YT=1;var e=vae(),t=bae(),r=e(t);return kb=r,kb}var jae=wae();const _ae=er(jae);var Sae=uI();const kae=er(Sae);var Nae=kae(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),u_=j.createContext(void 0),d_=j.createContext(void 0),Y6=j.createContext(void 0),X6=j.createContext({}),J6=j.createContext(void 0),Q6=j.createContext(0),Z6=j.createContext(0),XT=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,p=Nae(s);return H.createElement(u_.Provider,{value:n},H.createElement(d_.Provider,{value:i},H.createElement(X6.Provider,{value:s},H.createElement(Y6.Provider,{value:p},H.createElement(J6.Provider,{value:l},H.createElement(Q6.Provider,{value:f},H.createElement(Z6.Provider,{value:d},u)))))))},Cae=function(){return j.useContext(J6)},e4=function(t){var r=j.useContext(u_);r==null&&oo();var n=r[t];return n==null&&oo(),n},Pae=function(){var t=j.useContext(u_);return ns(t)},Eae=function(){var t=j.useContext(d_),r=_ae(t,function(n){return U6(n.domain,Number.isFinite)});return r||ns(t)},t4=function(t){var r=j.useContext(d_);r==null&&oo();var n=r[t];return n==null&&oo(),n},Aae=function(){var t=j.useContext(Y6);return t},Oae=function(){return j.useContext(X6)},f_=function(){return j.useContext(Z6)},p_=function(){return j.useContext(Q6)};function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function Tae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n4(n.key),n)}}function Mae(e,t,r){return t&&Rae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dae(e,t,r){return t=mh(t),Iae(e,r4()?Reflect.construct(t,r||[],mh(e).constructor):t.apply(e,r))}function Iae(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ae(e)}function $ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r4=function(){return!!e})()}function mh(e){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mh(e)}function Lae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u1(e,t)}function u1(e,t){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u1(e,t)}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){h_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h_(e,t,r){return t=n4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n4(e){var t=Fae(e,"string");return Fl(t)=="symbol"?t:t+""}function Fae(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Bae(e,t){return Wae(e)||qae(e,t)||Uae(e,t)||zae()}function zae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uae(e,t){if(e){if(typeof e=="string")return ZT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZT(e,t)}}function ZT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Wae(e){if(Array.isArray(e))return e}function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d1.apply(this,arguments)}var Hae=function(t,r){var n;return H.isValidElement(t)?n=H.cloneElement(t,r):Nt(t)?n=t(r):n=H.createElement("line",d1({},r,{className:"recharts-reference-line-line"})),n},Vae=function(t,r,n,i,s,l,u,d,f){var p=s.x,h=s.y,g=s.width,v=s.height;if(n){var w=f.y,b=t.y.apply(w,{position:l});if(Hi(f,"discard")&&!t.y.isInRange(b))return null;var x=[{x:p+g,y:b},{x:p,y:b}];return d==="left"?x.reverse():x}if(r){var S=f.x,C=t.x.apply(S,{position:l});if(Hi(f,"discard")&&!t.x.isInRange(C))return null;var k=[{x:C,y:h+v},{x:C,y:h}];return u==="top"?k.reverse():k}if(i){var E=f.segment,_=E.map(function(A){return t.apply(A,{position:l})});return Hi(f,"discard")&&Lie(_,function(A){return!t.isInRange(A)})?null:_}return null};function Kae(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=Cae(),p=e4(i),h=t4(s),g=Aae();if(!f||!g)return null;ki(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=c_({x:p.scale,y:h.scale}),w=Fr(t),b=Fr(r),x=n&&n.length===2,S=Vae(v,w,b,x,g,e.position,p.orientation,h.orientation,e);if(!S)return null;var C=Bae(S,2),k=C[0],E=k.x,_=k.y,A=C[1],P=A.x,T=A.y,M=Hi(e,"hidden")?"url(#".concat(f,")"):void 0,R=QT(QT({clipPath:M},bt(e,!0)),{},{x1:E,y1:_,x2:P,y2:T});return H.createElement(Qt,{className:Ot("recharts-reference-line",u)},Hae(l,R),Gr.renderCallByParent(e,mae({x1:E,y1:_,x2:P,y2:T})))}var m_=(function(e){function t(){return Tae(this,t),Dae(this,t,arguments)}return Lae(t,e),Mae(t,[{key:"render",value:function(){return H.createElement(Kae,this.props)}}])})(H.Component);h_(m_,"displayName","ReferenceLine");h_(m_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function f1(){return f1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f1.apply(this,arguments)}function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(n){mm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a4(n.key),n)}}function Xae(e,t,r){return t&&Yae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jae(e,t,r){return t=gh(t),Qae(e,i4()?Reflect.construct(t,r||[],gh(e).constructor):t.apply(e,r))}function Qae(e,t){if(t&&(Bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zae(e)}function Zae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i4=function(){return!!e})()}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gh(e)}function ese(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p1(e,t)}function p1(e,t){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p1(e,t)}function mm(e,t,r){return t=a4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a4(e){var t=tse(e,"string");return Bl(t)=="symbol"?t:t+""}function tse(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rse=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,l=c_({x:i.scale,y:s.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return Hi(t,"discard")&&!l.isInRange(u)?null:u},gm=(function(e){function t(){return Gae(this,t),Jae(this,t,arguments)}return ese(t,e),Xae(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,f=Fr(i),p=Fr(s);if(ki(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var h=rse(this.props);if(!h)return null;var g=h.x,v=h.y,w=this.props,b=w.shape,x=w.className,S=Hi(this.props,"hidden")?"url(#".concat(d,")"):void 0,C=tR(tR({clipPath:S},bt(this.props,!0)),{},{cx:g,cy:v});return H.createElement(Qt,{className:Ot("recharts-reference-dot",x)},t.renderDot(b,C),Gr.renderCallByParent(this.props,{x:g-l,y:v-l,width:2*l,height:2*l}))}}])})(H.Component);mm(gm,"displayName","ReferenceDot");mm(gm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mm(gm,"renderDot",function(e,t){var r;return H.isValidElement(e)?r=H.cloneElement(e,t):Nt(e)?r=e(t):r=H.createElement(om,f1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h1.apply(this,arguments)}function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function rR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(r),!0).forEach(function(n){ym(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ise(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o4(n.key),n)}}function ase(e,t,r){return t&&ise(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sse(e,t,r){return t=yh(t),ose(e,s4()?Reflect.construct(t,r||[],yh(e).constructor):t.apply(e,r))}function ose(e,t){if(t&&(zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lse(e)}function lse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s4=function(){return!!e})()}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yh(e)}function cse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m1(e,t)}function m1(e,t){return m1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m1(e,t)}function ym(e,t,r){return t=o4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o4(e){var t=use(e,"string");return zl(t)=="symbol"?t:t+""}function use(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dse=function(t,r,n,i,s){var l=s.x1,u=s.x2,d=s.y1,f=s.y2,p=s.xAxis,h=s.yAxis;if(!p||!h)return null;var g=c_({x:p.scale,y:h.scale}),v={x:t?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(d,{position:"start"}):g.y.rangeMin},w={x:r?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return Hi(s,"discard")&&(!g.isInRange(v)||!g.isInRange(w))?null:K6(v,w)},vm=(function(e){function t(){return nse(this,t),sse(this,t,arguments)}return cse(t,e),ase(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,l=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;ki(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Fr(i),g=Fr(s),v=Fr(l),w=Fr(u),b=this.props.shape;if(!h&&!g&&!v&&!w&&!b)return null;var x=dse(h,g,v,w,this.props);if(!x&&!b)return null;var S=Hi(this.props,"hidden")?"url(#".concat(p,")"):void 0;return H.createElement(Qt,{className:Ot("recharts-reference-area",d)},t.renderRect(b,nR(nR({clipPath:S},bt(this.props,!0)),x)),Gr.renderCallByParent(this.props,x))}}])})(H.Component);ym(vm,"displayName","ReferenceArea");ym(vm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ym(vm,"renderRect",function(e,t){var r;return H.isValidElement(e)?r=H.cloneElement(e,t):Nt(e)?r=e(t):r=H.createElement(l_,h1({},t,{className:"recharts-reference-area-rect"})),r});function l4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function fse(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return yae(n,r)}function pse(e,t,r){var n=r==="width",i=e.x,s=e.y,l=e.width,u=e.height;return t===1?{start:n?i:s,end:n?i+l:s+u}:{start:n?i+l:s+u,end:n?i:s}}function vh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function hse(e,t){return l4(e,t+1)}function mse(e,t,r,n,i){for(var s=(n||[]).slice(),l=t.start,u=t.end,d=0,f=1,p=l,h=function(){var w=n==null?void 0:n[d];if(w===void 0)return{v:l4(n,f)};var b=d,x,S=function(){return x===void 0&&(x=r(w,b)),x},C=w.coordinate,k=d===0||vh(e,C,S,p,u);k||(d=0,p=l,f+=1),k&&(p=C+e*(S()/2+i),d+=f)},g;f<=s.length;)if(g=h(),g)return g.v;return[]}function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){gse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gse(e,t,r){return t=yse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yse(e){var t=vse(e,"string");return ad(t)=="symbol"?t:t+""}function vse(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xse(e,t,r,n,i){for(var s=(n||[]).slice(),l=s.length,u=t.start,d=t.end,f=function(g){var v=s[g],w,b=function(){return w===void 0&&(w=r(v,g)),w};if(g===l-1){var x=e*(v.coordinate+e*b()/2-d);s[g]=v=sn(sn({},v),{},{tickCoord:x>0?v.coordinate-x*e:v.coordinate})}else s[g]=v=sn(sn({},v),{},{tickCoord:v.coordinate});var S=vh(e,v.tickCoord,b,u,d);S&&(d=v.tickCoord-e*(b()/2+i),s[g]=sn(sn({},v),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return s}function bse(e,t,r,n,i,s){var l=(n||[]).slice(),u=l.length,d=t.start,f=t.end;if(s){var p=n[u-1],h=r(p,u-1),g=e*(p.coordinate+e*h/2-f);l[u-1]=p=sn(sn({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate});var v=vh(e,p.tickCoord,function(){return h},d,f);v&&(f=p.tickCoord-e*(h/2+i),l[u-1]=sn(sn({},p),{},{isShow:!0}))}for(var w=s?u-1:u,b=function(C){var k=l[C],E,_=function(){return E===void 0&&(E=r(k,C)),E};if(C===0){var A=e*(k.coordinate-e*_()/2-d);l[C]=k=sn(sn({},k),{},{tickCoord:A<0?k.coordinate-A*e:k.coordinate})}else l[C]=k=sn(sn({},k),{},{tickCoord:k.coordinate});var P=vh(e,k.tickCoord,_,d,f);P&&(d=k.tickCoord+e*(_()/2+i),l[C]=sn(sn({},k),{},{isShow:!0}))},x=0;x<w;x++)b(x);return l}function g_(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,p=e.unit,h=e.angle;if(!i||!i.length||!n)return[];if(Ve(d)||po.isSsr)return hse(i,typeof d=="number"&&Ve(d)?d:0);var g=[],v=u==="top"||u==="bottom"?"width":"height",w=p&&v==="width"?pu(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(k,E){var _=Nt(f)?f(k.value,E):k.value;return v==="width"?fse(pu(_,{fontSize:t,letterSpacing:r}),w,h):pu(_,{fontSize:t,letterSpacing:r})[v]},x=i.length>=2?pn(i[1].coordinate-i[0].coordinate):1,S=pse(s,x,v);return d==="equidistantPreserveStart"?mse(x,S,b,i,l):(d==="preserveStart"||d==="preserveStartEnd"?g=bse(x,S,b,i,l,d==="preserveStartEnd"):g=xse(x,S,b,i,l),g.filter(function(C){return C.isShow}))}var wse=["viewBox"],jse=["viewBox"],_se=["ticks"];function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(this,arguments)}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){y_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nb(e,t){if(e==null)return{};var r=Sse(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u4(n.key),n)}}function Nse(e,t,r){return t&&sR(e.prototype,t),r&&sR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cse(e,t,r){return t=xh(t),Pse(e,c4()?Reflect.construct(t,r||[],xh(e).constructor):t.apply(e,r))}function Pse(e,t){if(t&&(Ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ese(e)}function Ese(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c4=function(){return!!e})()}function xh(e){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xh(e)}function Ase(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g1(e,t)}function g1(e,t){return g1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g1(e,t)}function y_(e,t,r){return t=u4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u4(e){var t=Ose(e,"string");return Ul(t)=="symbol"?t:t+""}function Ose(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cc=(function(e){function t(r){var n;return kse(this,t),n=Cse(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Ase(t,e),Nse(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,l=Nb(n,wse),u=this.props,d=u.viewBox,f=Nb(u,jse);return!dl(s,d)||!dl(l,f)||!dl(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,l=i.y,u=i.width,d=i.height,f=i.orientation,p=i.tickSize,h=i.mirror,g=i.tickMargin,v,w,b,x,S,C,k=h?-1:1,E=n.tickSize||p,_=Ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":v=w=n.coordinate,x=l+ +!h*d,b=x-k*E,C=b-k*g,S=_;break;case"left":b=x=n.coordinate,w=s+ +!h*u,v=w-k*E,S=v-k*g,C=_;break;case"right":b=x=n.coordinate,w=s+ +h*u,v=w+k*E,S=v+k*g,C=_;break;default:v=w=n.coordinate,x=l+ +h*d,b=x+k*E,C=b+k*g,S=_;break}return{line:{x1:v,y1:b,x2:w,y2:x},tick:{x:S,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,l;switch(i){case"left":l=s?"start":"end";break;case"right":l=s?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=s?"start":"end";break;default:l=s?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,l=n.width,u=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,h=dn(dn(dn({},bt(this.props,!1)),bt(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!f||d==="bottom"&&f);h=dn(dn({},h),{},{x1:i,y1:s+g*u,x2:i+l,y2:s+g*u})}else{var v=+(d==="left"&&!f||d==="right"&&f);h=dn(dn({},h),{},{x1:i+v*l,y1:s,x2:i+v*l,y2:s+u})}return H.createElement("line",sl({},h,{className:Ot("recharts-cartesian-axis-line",Un(p,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var l=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,h=u.tickFormatter,g=u.unit,v=g_(dn(dn({},this.props),{},{ticks:n}),i,s),w=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=bt(this.props,!1),S=bt(p,!1),C=dn(dn({},x),{},{fill:"none"},bt(d,!1)),k=v.map(function(E,_){var A=l.getTickLineCoord(E),P=A.line,T=A.tick,M=dn(dn(dn(dn({textAnchor:w,verticalAnchor:b},x),{},{stroke:"none",fill:f},S),T),{},{index:_,payload:E,visibleTicksCount:v.length,tickFormatter:h});return H.createElement(Qt,sl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},io(l.props,E,_)),d&&H.createElement("line",sl({},C,P,{className:Ot("recharts-cartesian-axis-tick-line",Un(d,"className"))})),p&&t.renderTickItem(p,M,"".concat(Nt(h)?h(E.value,_):E.value).concat(g||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,l=i.width,u=i.height,d=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var h=this.props,g=h.ticks,v=Nb(h,_se),w=g;return Nt(d)&&(w=g&&g.length>0?d(this.props):d(v)),l<=0||u<=0||!w||!w.length?null:H.createElement(Qt,{className:Ot("recharts-cartesian-axis",f),ref:function(x){n.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Gr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var l;return H.isValidElement(n)?l=H.cloneElement(n,i):Nt(n)?l=n(i):l=H.createElement(ao,sl({},i,{className:"recharts-cartesian-axis-tick-value"}),s),l}}])})(j.Component);y_(cc,"displayName","CartesianAxis");y_(cc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Tse=["x1","y1","x2","y2","key"],Rse=["offset"];function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){Mse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mse(e,t,r){return t=Dse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dse(e){var t=Ise(e,"string");return lo(t)=="symbol"?t:t+""}function Ise(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hs.apply(this,arguments)}function lR(e,t){if(e==null)return{};var r=$se(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $se(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Lse=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,l=t.width,u=t.height,d=t.ry;return H.createElement("rect",{x:i,y:s,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function d4(e,t){var r;if(H.isValidElement(e))r=H.cloneElement(e,t);else if(Nt(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,l=t.y2,u=t.key,d=lR(t,Tse),f=bt(d,!1);f.offset;var p=lR(f,Rse);r=H.createElement("line",Hs({},p,{x1:n,y1:i,x2:s,y2:l,fill:"none",key:u}))}return r}function Fse(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(u,d){var f=on(on({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return d4(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Bse(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(u,d){var f=on(on({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return d4(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function zse(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var p=u.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==p[0]&&p.unshift(0);var h=p.map(function(g,v){var w=!p[v+1],b=w?i+l-g:p[v+1]-g;if(b<=0)return null;var x=v%t.length;return H.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:b,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Use(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==p[0]&&p.unshift(0);var h=p.map(function(g,v){var w=!p[v+1],b=w?s+u-g:p[v+1]-g;if(b<=0)return null;var x=v%n.length;return H.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:b,height:d,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var qse=function(t,r){var n=t.xAxis,i=t.width,s=t.height,l=t.offset;return f6(g_(on(on(on({},cc.defaultProps),n),{},{ticks:pa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.left,l.left+l.width,r)},Wse=function(t,r){var n=t.yAxis,i=t.width,s=t.height,l=t.offset;return f6(g_(on(on(on({},cc.defaultProps),n),{},{ticks:pa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.top,l.top+l.height,r)},Zo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function f4(e){var t,r,n,i,s,l,u=f_(),d=p_(),f=Oae(),p=on(on({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Zo.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Zo.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Zo.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Zo.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Zo.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Zo.verticalFill,x:Ve(e.x)?e.x:f.left,y:Ve(e.y)?e.y:f.top,width:Ve(e.width)?e.width:f.width,height:Ve(e.height)?e.height:f.height}),h=p.x,g=p.y,v=p.width,w=p.height,b=p.syncWithTicks,x=p.horizontalValues,S=p.verticalValues,C=Pae(),k=Eae();if(!Ve(v)||v<=0||!Ve(w)||w<=0||!Ve(h)||h!==+h||!Ve(g)||g!==+g)return null;var E=p.verticalCoordinatesGenerator||qse,_=p.horizontalCoordinatesGenerator||Wse,A=p.horizontalPoints,P=p.verticalPoints;if((!A||!A.length)&&Nt(_)){var T=x&&x.length,M=_({yAxis:k?on(on({},k),{},{ticks:T?x:k.ticks}):void 0,width:u,height:d,offset:f},T?!0:b);ki(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lo(M),"]")),Array.isArray(M)&&(A=M)}if((!P||!P.length)&&Nt(E)){var R=S&&S.length,D=E({xAxis:C?on(on({},C),{},{ticks:R?S:C.ticks}):void 0,width:u,height:d,offset:f},R?!0:b);ki(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lo(D),"]")),Array.isArray(D)&&(P=D)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(Lse,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),H.createElement(Fse,Hs({},p,{offset:f,horizontalPoints:A,xAxis:C,yAxis:k})),H.createElement(Bse,Hs({},p,{offset:f,verticalPoints:P,xAxis:C,yAxis:k})),H.createElement(zse,Hs({},p,{horizontalPoints:A})),H.createElement(Use,Hs({},p,{verticalPoints:P})))}f4.displayName="CartesianGrid";var Hse=["type","layout","connectNulls","ref"],Vse=["key"];function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function cR(e,t){if(e==null)return{};var r=Kse(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xu.apply(this,arguments)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){wi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function el(e){return Jse(e)||Xse(e)||Yse(e)||Gse()}function Gse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yse(e,t){if(e){if(typeof e=="string")return y1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y1(e,t)}}function Xse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jse(e){if(Array.isArray(e))return y1(e)}function y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h4(n.key),n)}}function Zse(e,t,r){return t&&dR(e.prototype,t),r&&dR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eoe(e,t,r){return t=bh(t),toe(e,p4()?Reflect.construct(t,r||[],bh(e).constructor):t.apply(e,r))}function toe(e,t){if(t&&(ql(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return roe(e)}function roe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p4=function(){return!!e})()}function bh(e){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bh(e)}function noe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v1(e,t)}function v1(e,t){return v1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v1(e,t)}function wi(e,t,r){return t=h4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h4(e){var t=ioe(e,"string");return ql(t)=="symbol"?t:t+""}function ioe(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Js=(function(e){function t(){var r;Qse(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=eoe(this,t,[].concat(i)),wi(r,"state",{isAnimationFinished:!0,totalLength:0}),wi(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),wi(r,"getStrokeDasharray",function(l,u,d){var f=d.reduce(function(S,C){return S+C});if(!f)return r.generateSimpleStrokeDasharray(u,l);for(var p=Math.floor(l/f),h=l%f,g=u-l,v=[],w=0,b=0;w<d.length;b+=d[w],++w)if(b+d[w]>h){v=[].concat(el(d.slice(0,w)),[h-b]);break}var x=v.length%2===0?[0,g]:[g];return[].concat(el(t.repeat(d,p)),el(v),x).map(function(S){return"".concat(S,"px")}).join(", ")}),wi(r,"id",ic("recharts-line-")),wi(r,"pathRef",function(l){r.mainCurve=l}),wi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),wi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return noe(t,e),Zse(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,u=s.xAxis,d=s.yAxis,f=s.layout,p=s.children,h=qn(p,_d);if(!h)return null;var g=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:Lr(b.payload,x)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return H.createElement(Qt,v,h.map(function(w){return H.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,i,s){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,p=u.dataKey,h=bt(this.props,!1),g=bt(d,!0),v=f.map(function(b,x){var S=Mn(Mn(Mn({key:"dot-".concat(x),r:3},h),g),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:p,payload:b.payload,points:f});return t.renderDotItem(d,S)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return H.createElement(Qt,xu({className:"recharts-line-dots",key:"dots"},w),v)}},{key:"renderCurveStatically",value:function(n,i,s,l){var u=this.props,d=u.type,f=u.layout,p=u.connectNulls;u.ref;var h=cR(u,Hse),g=Mn(Mn(Mn({},bt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},l),{},{type:d,layout:f,connectNulls:p});return H.createElement(Zp,xu({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,l=this.props,u=l.points,d=l.strokeDasharray,f=l.isAnimationActive,p=l.animationBegin,h=l.animationDuration,g=l.animationEasing,v=l.animationId,w=l.animateNewValues,b=l.width,x=l.height,S=this.state,C=S.prevPoints,k=S.totalLength;return H.createElement(Yi,{begin:p,duration:h,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var _=E.t;if(C){var A=C.length/u.length,P=u.map(function(q,F){var $=Math.floor(F*A);if(C[$]){var L=C[$],B=Fn(L.x,q.x),Z=Fn(L.y,q.y);return Mn(Mn({},q),{},{x:B(_),y:Z(_)})}if(w){var z=Fn(b*2,q.x),te=Fn(x/2,q.y);return Mn(Mn({},q),{},{x:z(_),y:te(_)})}return Mn(Mn({},q),{},{x:q.x,y:q.y})});return s.renderCurveStatically(P,n,i)}var T=Fn(0,k),M=T(_),R;if(d){var D="".concat(d).split(/[,\s]+/gim).map(function(q){return parseFloat(q)});R=s.getStrokeDasharray(M,k,D)}else R=s.generateSimpleStrokeDasharray(k,M);return s.renderCurveStatically(u,n,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,i){var s=this.props,l=s.points,u=s.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return u&&l&&l.length&&(!f&&p>0||!jd(f,l))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(l,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,l=i.dot,u=i.points,d=i.className,f=i.xAxis,p=i.yAxis,h=i.top,g=i.left,v=i.width,w=i.height,b=i.isAnimationActive,x=i.id;if(s||!u||!u.length)return null;var S=this.state.isAnimationFinished,C=u.length===1,k=Ot("recharts-line",d),E=f&&f.allowDataOverflow,_=p&&p.allowDataOverflow,A=E||_,P=At(x)?this.id:x,T=(n=bt(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=T.r,R=M===void 0?3:M,D=T.strokeWidth,q=D===void 0?2:D,F=TH(l)?l:{},$=F.clipDot,L=$===void 0?!0:$,B=R*2+q;return H.createElement(Qt,{className:k},E||_?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(P)},H.createElement("rect",{x:E?g:g-v/2,y:_?h:h-w/2,width:E?v:v*2,height:_?w:w*2})),!L&&H.createElement("clipPath",{id:"clipPath-dots-".concat(P)},H.createElement("rect",{x:g-B/2,y:h-B/2,width:v+B,height:w+B}))):null,!C&&this.renderCurve(A,P),this.renderErrorBar(A,P),(C||l)&&this.renderDots(A,L,P),(!b||S)&&ga.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(el(n),[0]):n,l=[],u=0;u<i;++u)l=[].concat(el(l),el(s));return l}},{key:"renderDotItem",value:function(n,i){var s;if(H.isValidElement(n))s=H.cloneElement(n,i);else if(Nt(n))s=n(i);else{var l=i.key,u=cR(i,Vse),d=Ot("recharts-line-dot",typeof n!="boolean"?n.className:"");s=H.createElement(om,xu({key:l},u,{className:d}))}return s}}])})(j.PureComponent);wi(Js,"displayName","Line");wi(Js,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!po.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});wi(Js,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,p=t.layout,h=d.map(function(g,v){var w=Lr(g,l);return p==="horizontal"?{x:gO({axis:r,ticks:i,bandSize:u,entry:g,index:v}),y:At(w)?null:n.scale(w),value:w,payload:g}:{x:At(w)?null:r.scale(w),y:gO({axis:n,ticks:s,bandSize:u,entry:g,index:v}),value:w,payload:g}});return Mn({points:h,layout:p},f)});function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function aoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function soe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y4(n.key),n)}}function ooe(e,t,r){return t&&soe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function loe(e,t,r){return t=wh(t),coe(e,m4()?Reflect.construct(t,r||[],wh(e).constructor):t.apply(e,r))}function coe(e,t){if(t&&(Wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uoe(e)}function uoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m4=function(){return!!e})()}function wh(e){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wh(e)}function doe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x1(e,t)}function x1(e,t){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x1(e,t)}function g4(e,t,r){return t=y4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y4(e){var t=foe(e,"string");return Wl(t)=="symbol"?t:t+""}function foe(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b1.apply(this,arguments)}function poe(e){var t=e.xAxisId,r=f_(),n=p_(),i=e4(t);return i==null?null:H.createElement(cc,b1({},i,{className:Ot("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return pa(l,!0)}}))}var xm=(function(e){function t(){return aoe(this,t),loe(this,t,arguments)}return doe(t,e),ooe(t,[{key:"render",value:function(){return H.createElement(poe,this.props)}}])})(H.Component);g4(xm,"displayName","XAxis");g4(xm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function hoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function moe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b4(n.key),n)}}function goe(e,t,r){return t&&moe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yoe(e,t,r){return t=jh(t),voe(e,v4()?Reflect.construct(t,r||[],jh(e).constructor):t.apply(e,r))}function voe(e,t){if(t&&(Hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xoe(e)}function xoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v4=function(){return!!e})()}function jh(e){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jh(e)}function boe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w1(e,t)}function w1(e,t){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w1(e,t)}function x4(e,t,r){return t=b4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b4(e){var t=woe(e,"string");return Hl(t)=="symbol"?t:t+""}function woe(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(this,arguments)}var joe=function(t){var r=t.yAxisId,n=f_(),i=p_(),s=t4(r);return s==null?null:H.createElement(cc,j1({},s,{className:Ot("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return pa(u,!0)}}))},bm=(function(e){function t(){return hoe(this,t),yoe(this,t,arguments)}return boe(t,e),goe(t,[{key:"render",value:function(){return H.createElement(joe,this.props)}}])})(H.Component);x4(bm,"displayName","YAxis");x4(bm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fR(e){return Noe(e)||koe(e)||Soe(e)||_oe()}function _oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Soe(e,t){if(e){if(typeof e=="string")return _1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _1(e,t)}}function koe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Noe(e){if(Array.isArray(e))return _1(e)}function _1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S1=function(t,r,n,i,s){var l=qn(t,m_),u=qn(t,gm),d=[].concat(fR(l),fR(u)),f=qn(t,vm),p="".concat(i,"Id"),h=i[0],g=r;if(d.length&&(g=d.reduce(function(b,x){if(x.props[p]===n&&Hi(x.props,"extendDomain")&&Ve(x.props[h])){var S=x.props[h];return[Math.min(b[0],S),Math.max(b[1],S)]}return b},g)),f.length){var v="".concat(h,"1"),w="".concat(h,"2");g=f.reduce(function(b,x){if(x.props[p]===n&&Hi(x.props,"extendDomain")&&Ve(x.props[v])&&Ve(x.props[w])){var S=x.props[v],C=x.props[w];return[Math.min(b[0],S,C),Math.max(b[1],S,C)]}return b},g)}return s&&s.length&&(g=s.reduce(function(b,x){return Ve(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},g)),g},Cb={exports:{}},pR;function Coe(){return pR||(pR=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function s(d,f,p,h,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new i(p,h||d,g),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],v]:d._events[w].push(v):(d._events[w]=v,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,h;if(this._eventsCount===0)return f;for(h in p=this._events)t.call(p,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,w=new Array(v);g<v;g++)w[g]=h[g].fn;return w},u.prototype.listenerCount=function(f){var p=r?r+f:f,h=this._events[p];return h?h.fn?1:h.length:0},u.prototype.emit=function(f,p,h,g,v,w){var b=r?r+f:f;if(!this._events[b])return!1;var x=this._events[b],S=arguments.length,C,k;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),S){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,h),!0;case 4:return x.fn.call(x.context,p,h,g),!0;case 5:return x.fn.call(x.context,p,h,g,v),!0;case 6:return x.fn.call(x.context,p,h,g,v,w),!0}for(k=1,C=new Array(S-1);k<S;k++)C[k-1]=arguments[k];x.fn.apply(x.context,C)}else{var E=x.length,_;for(k=0;k<E;k++)switch(x[k].once&&this.removeListener(f,x[k].fn,void 0,!0),S){case 1:x[k].fn.call(x[k].context);break;case 2:x[k].fn.call(x[k].context,p);break;case 3:x[k].fn.call(x[k].context,p,h);break;case 4:x[k].fn.call(x[k].context,p,h,g);break;default:if(!C)for(_=1,C=new Array(S-1);_<S;_++)C[_-1]=arguments[_];x[k].fn.apply(x[k].context,C)}}return!0},u.prototype.on=function(f,p,h){return s(this,f,p,h,!1)},u.prototype.once=function(f,p,h){return s(this,f,p,h,!0)},u.prototype.removeListener=function(f,p,h,g){var v=r?r+f:f;if(!this._events[v])return this;if(!p)return l(this,v),this;var w=this._events[v];if(w.fn)w.fn===p&&(!g||w.once)&&(!h||w.context===h)&&l(this,v);else{for(var b=0,x=[],S=w.length;b<S;b++)(w[b].fn!==p||g&&!w[b].once||h&&w[b].context!==h)&&x.push(w[b]);x.length?this._events[v]=x.length===1?x[0]:x:l(this,v)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Cb)),Cb.exports}var Poe=Coe();const Eoe=er(Poe);var Pb=new Eoe,Eb="recharts.syncMouseEvents";function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Aoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ooe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w4(n.key),n)}}function Toe(e,t,r){return t&&Ooe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ab(e,t,r){return t=w4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w4(e){var t=Roe(e,"string");return sd(t)=="symbol"?t:t+""}function Roe(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Moe=(function(){function e(){Aoe(this,e),Ab(this,"activeIndex",0),Ab(this,"coordinateList",[]),Ab(this,"layout","horizontal")}return Toe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,p=r.offset,h=p===void 0?null:p,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,l=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+d+f,g=l+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])})();function Doe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Ve(n)&&Ve(i))return!0}return!1}function Ioe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function j4(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,l=gr(t,r,n,i),u=gr(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function $oe(e,t,r){var n,i,s,l;if(e==="horizontal")n=t.x,s=n,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,p=t.outerRadius,h=t.angle,g=gr(u,d,f,h),v=gr(u,d,p,h);n=g.x,i=g.y,s=v.x,l=v.y}else return j4(t);return[{x:n,y:i},{x:s,y:l}]}function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){Loe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Loe(e,t,r){return t=Foe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Foe(e){var t=Boe(e,"string");return od(t)=="symbol"?t:t+""}function Boe(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zoe(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,h=e.layout,g=e.chartName,v=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!l||g!=="ScatterChart"&&i!=="axis")return null;var w,b=Zp;if(g==="ScatterChart")w=l,b=lne;else if(g==="BarChart")w=Ioe(h,l,d,p),b=l_;else if(h==="radial"){var x=j4(l),S=x.cx,C=x.cy,k=x.radius,E=x.startAngle,_=x.endAngle;w={cx:S,cy:C,startAngle:E,endAngle:_,innerRadius:k,outerRadius:k},b=_6}else w={points:$oe(h,l,d)},b=Zp;var A=sp(sp(sp(sp({stroke:"#ccc",pointerEvents:"none"},d),w),bt(v,!1)),{},{payload:u,payloadIndex:f,className:Ot("recharts-tooltip-cursor",v.className)});return j.isValidElement(v)?j.cloneElement(v,A):j.createElement(b,A)}var Uoe=["item"],qoe=["children","className","width","height","style","compact","title","desc"];function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ol.apply(this,arguments)}function mR(e,t){return Voe(e)||Hoe(e,t)||S4(e,t)||Woe()}function Woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hoe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,l,u=[],d=!0,f=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Voe(e){if(Array.isArray(e))return e}function gR(e,t){if(e==null)return{};var r=Koe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Koe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Goe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yoe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k4(n.key),n)}}function Xoe(e,t,r){return t&&Yoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Joe(e,t,r){return t=_h(t),Qoe(e,_4()?Reflect.construct(t,r||[],_h(e).constructor):t.apply(e,r))}function Qoe(e,t){if(t&&(Vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zoe(e)}function Zoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_4=function(){return!!e})()}function _h(e){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_h(e)}function ele(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k1(e,t)}function k1(e,t){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k1(e,t)}function Kl(e){return nle(e)||rle(e)||S4(e)||tle()}function tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S4(e,t){if(e){if(typeof e=="string")return N1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(e,t)}}function rle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nle(e){if(Array.isArray(e))return N1(e)}function N1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){jt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jt(e,t,r){return t=k4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k4(e){var t=ile(e,"string");return Vl(t)=="symbol"?t:t+""}function ile(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ale={xAxis:["bottom","top"],yAxis:["left","right"]},sle={width:"100%",height:"100%"},N4={x:0,y:0};function op(e){return e}var ole=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},lle=function(t,r,n,i){var s=r.find(function(p){return p&&p.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var l=s.coordinate,u=i.radius;return Ee(Ee(Ee({},i),gr(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var d=s.coordinate,f=i.angle;return Ee(Ee(Ee({},i),gr(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return N4},wm=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Kl(u),Kl(f)):u},[]);return l.length>0?l:t&&t.length&&Ve(i)&&Ve(s)?t.slice(i,s+1):[]};function C4(e){return e==="number"?[0,"auto"]:void 0}var C1=function(t,r,n,i){var s=t.graphicalItems,l=t.tooltipAxis,u=wm(r,t);return n<0||!s||!s.length||n>=u.length?null:s.reduce(function(d,f){var p,h=(p=f.props.data)!==null&&p!==void 0?p:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var v=h===void 0?u:h;g=kp(v,l.dataKey,i)}else g=h&&h[n]||u[n];return g?[].concat(Kl(d),[y6(f,g)]):d},[])},vR=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},l=ole(s,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,p=EZ(l,u,f,d);if(p>=0&&f){var h=f[p]&&f[p].value,g=C1(t,r,p,h),v=lle(n,u,p,s);return{activeTooltipIndex:p,activeLabel:h,activePayload:g,activeCoordinate:v}}return null},cle=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,h=t.children,g=t.stackOffset,v=d6(p,s);return n.reduce(function(w,b){var x,S=b.type.defaultProps!==void 0?Ee(Ee({},b.type.defaultProps),b.props):b.props,C=S.type,k=S.dataKey,E=S.allowDataOverflow,_=S.allowDuplicatedCategory,A=S.scale,P=S.ticks,T=S.includeHidden,M=S[l];if(w[M])return w;var R=wm(t.data,{graphicalItems:i.filter(function(X){var le,ce=l in X.props?X.props[l]:(le=X.type.defaultProps)===null||le===void 0?void 0:le[l];return ce===M}),dataStartIndex:d,dataEndIndex:f}),D=R.length,q,F,$;Doe(S.domain,E,C)&&(q=zw(S.domain,null,E),v&&(C==="number"||A!=="auto")&&($=mu(R,k,"category")));var L=C4(C);if(!q||q.length===0){var B,Z=(B=S.domain)!==null&&B!==void 0?B:L;if(k){if(q=mu(R,k,C),C==="category"&&v){var z=_H(q);_&&z?(F=q,q=uh(0,D)):_||(q=bO(Z,q,b).reduce(function(X,le){return X.indexOf(le)>=0?X:[].concat(Kl(X),[le])},[]))}else if(C==="category")_?q=q.filter(function(X){return X!==""&&!At(X)}):q=bO(Z,q,b).reduce(function(X,le){return X.indexOf(le)>=0||le===""||At(le)?X:[].concat(Kl(X),[le])},[]);else if(C==="number"){var te=MZ(R,i.filter(function(X){var le,ce,Se=l in X.props?X.props[l]:(le=X.type.defaultProps)===null||le===void 0?void 0:le[l],xe="hide"in X.props?X.props.hide:(ce=X.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return Se===M&&(T||!xe)}),k,s,p);te&&(q=te)}v&&(C==="number"||A!=="auto")&&($=mu(R,k,"category"))}else v?q=uh(0,D):u&&u[M]&&u[M].hasStack&&C==="number"?q=g==="expand"?[0,1]:g6(u[M].stackGroups,d,f):q=u6(R,i.filter(function(X){var le=l in X.props?X.props[l]:X.type.defaultProps[l],ce="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return le===M&&(T||!ce)}),C,p,!0);if(C==="number")q=S1(h,q,M,s,P),Z&&(q=zw(Z,q,E));else if(C==="category"&&Z){var re=Z,V=q.every(function(X){return re.indexOf(X)>=0});V&&(q=re)}}return Ee(Ee({},w),{},jt({},M,Ee(Ee({},S),{},{axisType:s,domain:q,categoricalDomain:$,duplicateDomain:F,originalDomain:(x=S.domain)!==null&&x!==void 0?x:L,isCategorical:v,layout:p})))},{})},ule=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,h=t.children,g=wm(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),v=g.length,w=d6(p,s),b=-1;return n.reduce(function(x,S){var C=S.type.defaultProps!==void 0?Ee(Ee({},S.type.defaultProps),S.props):S.props,k=C[l],E=C4("number");if(!x[k]){b++;var _;return w?_=uh(0,v):u&&u[k]&&u[k].hasStack?(_=g6(u[k].stackGroups,d,f),_=S1(h,_,k,s)):(_=zw(E,u6(g,n.filter(function(A){var P,T,M=l in A.props?A.props[l]:(P=A.type.defaultProps)===null||P===void 0?void 0:P[l],R="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return M===k&&!R}),"number",p),i.defaultProps.allowDataOverflow),_=S1(h,_,k,s)),Ee(Ee({},x),{},jt({},k,Ee(Ee({axisType:s},i.defaultProps),{},{hide:!0,orientation:Un(ale,"".concat(s,".").concat(b%2),null),domain:_,originalDomain:E,isCategorical:w,layout:p})))}return x},{})},dle=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.children,h="".concat(i,"Id"),g=qn(p,s),v={};return g&&g.length?v=cle(t,{axes:g,graphicalItems:l,axisType:i,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(v=ule(t,{Axis:s,graphicalItems:l,axisType:i,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),v},fle=function(t){var r=ns(t),n=pa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Dj(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Xp(r,n)}},xR=function(t){var r=t.children,n=t.defaultShowTooltip,i=$n(r,$l),s=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},ple=function(t){return!t||!t.length?!1:t.some(function(r){var n=ha(r&&r.type);return n&&n.indexOf("Bar")>=0})},bR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hle=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,l=s===void 0?{}:s,u=t.yAxisMap,d=u===void 0?{}:u,f=n.width,p=n.height,h=n.children,g=n.margin||{},v=$n(h,$l),w=$n(h,Gs),b=Object.keys(d).reduce(function(_,A){var P=d[A],T=P.orientation;return!P.mirror&&!P.hide?Ee(Ee({},_),{},jt({},T,_[T]+P.width)):_},{left:g.left||0,right:g.right||0}),x=Object.keys(l).reduce(function(_,A){var P=l[A],T=P.orientation;return!P.mirror&&!P.hide?Ee(Ee({},_),{},jt({},T,Un(_,"".concat(T))+P.height)):_},{top:g.top||0,bottom:g.bottom||0}),S=Ee(Ee({},x),b),C=S.bottom;v&&(S.bottom+=v.props.height||$l.defaultProps.height),w&&r&&(S=TZ(S,i,n,r));var k=f-S.left-S.right,E=p-S.top-S.bottom;return Ee(Ee({brushBottom:C},S),{},{width:Math.max(k,0),height:Math.max(E,0)})},mle=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},P4=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,h=t.defaultProps,g=function(S,C){var k=C.graphicalItems,E=C.stackGroups,_=C.offset,A=C.updateId,P=C.dataStartIndex,T=C.dataEndIndex,M=S.barSize,R=S.layout,D=S.barGap,q=S.barCategoryGap,F=S.maxBarSize,$=bR(R),L=$.numericAxisName,B=$.cateAxisName,Z=ple(k),z=[];return k.forEach(function(te,re){var V=wm(S.data,{graphicalItems:[te],dataStartIndex:P,dataEndIndex:T}),X=te.type.defaultProps!==void 0?Ee(Ee({},te.type.defaultProps),te.props):te.props,le=X.dataKey,ce=X.maxBarSize,Se=X["".concat(L,"Id")],xe=X["".concat(B,"Id")],ye={},Ae=d.reduce(function(ke,Oe){var $e=C["".concat(Oe.axisType,"Map")],Fe=X["".concat(Oe.axisType,"Id")];$e&&$e[Fe]||Oe.axisType==="zAxis"||oo();var ct=$e[Fe];return Ee(Ee({},ke),{},jt(jt({},Oe.axisType,ct),"".concat(Oe.axisType,"Ticks"),pa(ct)))},ye),G=Ae[B],ue=Ae["".concat(B,"Ticks")],ee=E&&E[Se]&&E[Se].hasStack&&qZ(te,E[Se].stackGroups),W=ha(te.type).indexOf("Bar")>=0,Y=Xp(G,ue),se=[],me=Z&&AZ({barSize:M,stackGroups:E,totalSize:mle(Ae,B)});if(W){var we,ve,K=At(ce)?F:ce,je=(we=(ve=Xp(G,ue,!0))!==null&&ve!==void 0?ve:K)!==null&&we!==void 0?we:0;se=OZ({barGap:D,barCategoryGap:q,bandSize:je!==Y?je:Y,sizeList:me[xe],maxBarSize:K}),je!==Y&&(se=se.map(function(ke){return Ee(Ee({},ke),{},{position:Ee(Ee({},ke.position),{},{offset:ke.position.offset-je/2})})}))}var Q=te&&te.type&&te.type.getComposedData;Q&&z.push({props:Ee(Ee({},Q(Ee(Ee({},Ae),{},{displayedData:V,props:S,dataKey:le,item:te,bandSize:Y,barPosition:se,offset:_,stackedData:ee,layout:R,dataStartIndex:P,dataEndIndex:T}))),{},jt(jt(jt({key:te.key||"item-".concat(re)},L,Ae[L]),B,Ae[B]),"animationId",A)),childIndex:DH(te,S.children),item:te})}),z},v=function(S,C){var k=S.props,E=S.dataStartIndex,_=S.dataEndIndex,A=S.updateId;if(!RC({props:k}))return null;var P=k.children,T=k.layout,M=k.stackOffset,R=k.data,D=k.reverseStackOrder,q=bR(T),F=q.numericAxisName,$=q.cateAxisName,L=qn(P,n),B=zZ(R,L,"".concat(F,"Id"),"".concat($,"Id"),M,D),Z=d.reduce(function(X,le){var ce="".concat(le.axisType,"Map");return Ee(Ee({},X),{},jt({},ce,dle(k,Ee(Ee({},le),{},{graphicalItems:L,stackGroups:le.axisType===F&&B,dataStartIndex:E,dataEndIndex:_}))))},{}),z=hle(Ee(Ee({},Z),{},{props:k,graphicalItems:L}),C==null?void 0:C.legendBBox);Object.keys(Z).forEach(function(X){Z[X]=p(k,Z[X],z,X.replace("Map",""),r)});var te=Z["".concat($,"Map")],re=fle(te),V=g(k,Ee(Ee({},Z),{},{dataStartIndex:E,dataEndIndex:_,updateId:A,graphicalItems:L,stackGroups:B,offset:z}));return Ee(Ee({formattedGraphicalItems:V,graphicalItems:L,offset:z,stackGroups:B},re),Z)},w=(function(x){function S(C){var k,E,_;return Goe(this,S),_=Joe(this,S,[C]),jt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(_,"accessibilityManager",new Moe),jt(_,"handleLegendBBoxUpdate",function(A){if(A){var P=_.state,T=P.dataStartIndex,M=P.dataEndIndex,R=P.updateId;_.setState(Ee({legendBBox:A},v({props:_.props,dataStartIndex:T,dataEndIndex:M,updateId:R},Ee(Ee({},_.state),{},{legendBBox:A}))))}}),jt(_,"handleReceiveSyncEvent",function(A,P,T){if(_.props.syncId===A){if(T===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(P)}}),jt(_,"handleBrushChange",function(A){var P=A.startIndex,T=A.endIndex;if(P!==_.state.dataStartIndex||T!==_.state.dataEndIndex){var M=_.state.updateId;_.setState(function(){return Ee({dataStartIndex:P,dataEndIndex:T},v({props:_.props,dataStartIndex:P,dataEndIndex:T,updateId:M},_.state))}),_.triggerSyncEvent({dataStartIndex:P,dataEndIndex:T})}}),jt(_,"handleMouseEnter",function(A){var P=_.getMouseInfo(A);if(P){var T=Ee(Ee({},P),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T);var M=_.props.onMouseEnter;Nt(M)&&M(T,A)}}),jt(_,"triggeredAfterMouseMove",function(A){var P=_.getMouseInfo(A),T=P?Ee(Ee({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(T),_.triggerSyncEvent(T);var M=_.props.onMouseMove;Nt(M)&&M(T,A)}),jt(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),jt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),jt(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),jt(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};_.setState(P),_.triggerSyncEvent(P);var T=_.props.onMouseLeave;Nt(T)&&T(P,A)}),jt(_,"handleOuterEvent",function(A){var P=MH(A),T=Un(_.props,"".concat(P));if(P&&Nt(T)){var M,R;/.*touch.*/i.test(P)?R=_.getMouseInfo(A.changedTouches[0]):R=_.getMouseInfo(A),T((M=R)!==null&&M!==void 0?M:{},A)}}),jt(_,"handleClick",function(A){var P=_.getMouseInfo(A);if(P){var T=Ee(Ee({},P),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T);var M=_.props.onClick;Nt(M)&&M(T,A)}}),jt(_,"handleMouseDown",function(A){var P=_.props.onMouseDown;if(Nt(P)){var T=_.getMouseInfo(A);P(T,A)}}),jt(_,"handleMouseUp",function(A){var P=_.props.onMouseUp;if(Nt(P)){var T=_.getMouseInfo(A);P(T,A)}}),jt(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),jt(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),jt(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),jt(_,"handleDoubleClick",function(A){var P=_.props.onDoubleClick;if(Nt(P)){var T=_.getMouseInfo(A);P(T,A)}}),jt(_,"handleContextMenu",function(A){var P=_.props.onContextMenu;if(Nt(P)){var T=_.getMouseInfo(A);P(T,A)}}),jt(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&Pb.emit(Eb,_.props.syncId,A,_.eventEmitterSymbol)}),jt(_,"applySyncEvent",function(A){var P=_.props,T=P.layout,M=P.syncMethod,R=_.state.updateId,D=A.dataStartIndex,q=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(Ee({dataStartIndex:D,dataEndIndex:q},v({props:_.props,dataStartIndex:D,dataEndIndex:q,updateId:R},_.state)));else if(A.activeTooltipIndex!==void 0){var F=A.chartX,$=A.chartY,L=A.activeTooltipIndex,B=_.state,Z=B.offset,z=B.tooltipTicks;if(!Z)return;if(typeof M=="function")L=M(z,A);else if(M==="value"){L=-1;for(var te=0;te<z.length;te++)if(z[te].value===A.activeLabel){L=te;break}}var re=Ee(Ee({},Z),{},{x:Z.left,y:Z.top}),V=Math.min(F,re.x+re.width),X=Math.min($,re.y+re.height),le=z[L]&&z[L].value,ce=C1(_.state,_.props.data,L),Se=z[L]?{x:T==="horizontal"?z[L].coordinate:V,y:T==="horizontal"?X:z[L].coordinate}:N4;_.setState(Ee(Ee({},A),{},{activeLabel:le,activeCoordinate:Se,activePayload:ce,activeTooltipIndex:L}))}else _.setState(A)}),jt(_,"renderCursor",function(A){var P,T=_.state,M=T.isTooltipActive,R=T.activeCoordinate,D=T.activePayload,q=T.offset,F=T.activeTooltipIndex,$=T.tooltipAxisBandSize,L=_.getTooltipEventType(),B=(P=A.props.active)!==null&&P!==void 0?P:M,Z=_.props.layout,z=A.key||"_recharts-cursor";return H.createElement(zoe,{key:z,activeCoordinate:R,activePayload:D,activeTooltipIndex:F,chartName:r,element:A,isActive:B,layout:Z,offset:q,tooltipAxisBandSize:$,tooltipEventType:L})}),jt(_,"renderPolarAxis",function(A,P,T){var M=Un(A,"type.axisType"),R=Un(_.state,"".concat(M,"Map")),D=A.type.defaultProps,q=D!==void 0?Ee(Ee({},D),A.props):A.props,F=R&&R[q["".concat(M,"Id")]];return j.cloneElement(A,Ee(Ee({},F),{},{className:Ot(M,F.className),key:A.key||"".concat(P,"-").concat(T),ticks:pa(F,!0)}))}),jt(_,"renderPolarGrid",function(A){var P=A.props,T=P.radialLines,M=P.polarAngles,R=P.polarRadius,D=_.state,q=D.radiusAxisMap,F=D.angleAxisMap,$=ns(q),L=ns(F),B=L.cx,Z=L.cy,z=L.innerRadius,te=L.outerRadius;return j.cloneElement(A,{polarAngles:Array.isArray(M)?M:pa(L,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(R)?R:pa($,!0).map(function(re){return re.coordinate}),cx:B,cy:Z,innerRadius:z,outerRadius:te,key:A.key||"polar-grid",radialLines:T})}),jt(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,P=_.props,T=P.children,M=P.width,R=P.height,D=_.props.margin||{},q=M-(D.left||0)-(D.right||0),F=l6({children:T,formattedGraphicalItems:A,legendWidth:q,legendContent:f});if(!F)return null;var $=F.item,L=gR(F,Uoe);return j.cloneElement($,Ee(Ee({},L),{},{chartWidth:M,chartHeight:R,margin:D,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),jt(_,"renderTooltip",function(){var A,P=_.props,T=P.children,M=P.accessibilityLayer,R=$n(T,xi);if(!R)return null;var D=_.state,q=D.isTooltipActive,F=D.activeCoordinate,$=D.activePayload,L=D.activeLabel,B=D.offset,Z=(A=R.props.active)!==null&&A!==void 0?A:q;return j.cloneElement(R,{viewBox:Ee(Ee({},B),{},{x:B.left,y:B.top}),active:Z,label:L,payload:Z?$:[],coordinate:F,accessibilityLayer:M})}),jt(_,"renderBrush",function(A){var P=_.props,T=P.margin,M=P.data,R=_.state,D=R.offset,q=R.dataStartIndex,F=R.dataEndIndex,$=R.updateId;return j.cloneElement(A,{key:A.key||"_recharts-brush",onChange:rp(_.handleBrushChange,A.props.onChange),data:M,x:Ve(A.props.x)?A.props.x:D.left,y:Ve(A.props.y)?A.props.y:D.top+D.height+D.brushBottom-(T.bottom||0),width:Ve(A.props.width)?A.props.width:D.width,startIndex:q,endIndex:F,updateId:"brush-".concat($)})}),jt(_,"renderReferenceElement",function(A,P,T){if(!A)return null;var M=_,R=M.clipPathId,D=_.state,q=D.xAxisMap,F=D.yAxisMap,$=D.offset,L=A.type.defaultProps||{},B=A.props,Z=B.xAxisId,z=Z===void 0?L.xAxisId:Z,te=B.yAxisId,re=te===void 0?L.yAxisId:te;return j.cloneElement(A,{key:A.key||"".concat(P,"-").concat(T),xAxis:q[z],yAxis:F[re],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:R})}),jt(_,"renderActivePoints",function(A){var P=A.item,T=A.activePoint,M=A.basePoint,R=A.childIndex,D=A.isRange,q=[],F=P.props.key,$=P.item.type.defaultProps!==void 0?Ee(Ee({},P.item.type.defaultProps),P.item.props):P.item.props,L=$.activeDot,B=$.dataKey,Z=Ee(Ee({index:R,dataKey:B,cx:T.x,cy:T.y,r:4,fill:o_(P.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},bt(L,!1)),Np(L));return q.push(S.renderActiveDot(L,Z,"".concat(F,"-activePoint-").concat(R))),M?q.push(S.renderActiveDot(L,Ee(Ee({},Z),{},{cx:M.x,cy:M.y}),"".concat(F,"-basePoint-").concat(R))):D&&q.push(null),q}),jt(_,"renderGraphicChild",function(A,P,T){var M=_.filterFormatItem(A,P,T);if(!M)return null;var R=_.getTooltipEventType(),D=_.state,q=D.isTooltipActive,F=D.tooltipAxis,$=D.activeTooltipIndex,L=D.activeLabel,B=_.props.children,Z=$n(B,xi),z=M.props,te=z.points,re=z.isRange,V=z.baseLine,X=M.item.type.defaultProps!==void 0?Ee(Ee({},M.item.type.defaultProps),M.item.props):M.item.props,le=X.activeDot,ce=X.hide,Se=X.activeBar,xe=X.activeShape,ye=!!(!ce&&q&&Z&&(le||Se||xe)),Ae={};R!=="axis"&&Z&&Z.props.trigger==="click"?Ae={onClick:rp(_.handleItemMouseEnter,A.props.onClick)}:R!=="axis"&&(Ae={onMouseLeave:rp(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:rp(_.handleItemMouseEnter,A.props.onMouseEnter)});var G=j.cloneElement(A,Ee(Ee({},M.props),Ae));function ue(Oe){return typeof F.dataKey=="function"?F.dataKey(Oe.payload):null}if(ye)if($>=0){var ee,W;if(F.dataKey&&!F.allowDuplicatedCategory){var Y=typeof F.dataKey=="function"?ue:"payload.".concat(F.dataKey.toString());ee=kp(te,Y,L),W=re&&V&&kp(V,Y,L)}else ee=te==null?void 0:te[$],W=re&&V&&V[$];if(xe||Se){var se=A.props.activeIndex!==void 0?A.props.activeIndex:$;return[j.cloneElement(A,Ee(Ee(Ee({},M.props),Ae),{},{activeIndex:se})),null,null]}if(!At(ee))return[G].concat(Kl(_.renderActivePoints({item:M,activePoint:ee,basePoint:W,childIndex:$,isRange:re})))}else{var me,we=(me=_.getItemByXY(_.state.activeCoordinate))!==null&&me!==void 0?me:{graphicalItem:G},ve=we.graphicalItem,K=ve.item,je=K===void 0?A:K,Q=ve.childIndex,ke=Ee(Ee(Ee({},M.props),Ae),{},{activeIndex:Q});return[j.cloneElement(je,ke),null,null]}return re?[G,null,null]:[G,null]}),jt(_,"renderCustomized",function(A,P,T){return j.cloneElement(A,Ee(Ee({key:"recharts-customized-".concat(T)},_.props),_.state))}),jt(_,"renderMap",{CartesianGrid:{handler:op,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:op},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:op},YAxis:{handler:op},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((k=C.id)!==null&&k!==void 0?k:ic("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=o$(_.triggeredAfterMouseMove,(E=C.throttleDelay)!==null&&E!==void 0?E:1e3/60),_.state={},_}return ele(S,x),Xoe(S,[{key:"componentDidMount",value:function(){var k,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,E=k.children,_=k.data,A=k.height,P=k.layout,T=$n(E,xi);if(T){var M=T.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,D=C1(this.state,_,M,R),q=this.state.tooltipTicks[M].coordinate,F=(this.state.offset.top+A)/2,$=P==="horizontal",L=$?{x:q,y:F}:{y:q,x:F},B=this.state.formattedGraphicalItems.find(function(z){var te=z.item;return te.type.name==="Scatter"});B&&(L=Ee(Ee({},L),B.props.points[M].tooltipPosition),D=B.props.points[M].tooltipPayload);var Z={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:R,activePayload:D,activeCoordinate:L};this.setState(Z),this.renderCursor(T),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(k){cw([$n(k.children,xi)],[$n(this.props.children,xi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=$n(this.props.children,xi);if(k&&typeof k.props.shared=="boolean"){var E=k.props.shared?"axis":"item";return u.indexOf(E)>=0?E:s}return s}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var E=this.container,_=E.getBoundingClientRect(),A=wY(_),P={chartX:Math.round(k.pageX-A.left),chartY:Math.round(k.pageY-A.top)},T=_.width/E.offsetWidth||1,M=this.inRange(P.chartX,P.chartY,T);if(!M)return null;var R=this.state,D=R.xAxisMap,q=R.yAxisMap,F=this.getTooltipEventType(),$=vR(this.state,this.props.data,this.props.layout,M);if(F!=="axis"&&D&&q){var L=ns(D).scale,B=ns(q).scale,Z=L&&L.invert?L.invert(P.chartX):null,z=B&&B.invert?B.invert(P.chartY):null;return Ee(Ee({},P),{},{xValue:Z,yValue:z},$)}return $?Ee(Ee({},P),$):null}},{key:"inRange",value:function(k,E){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,P=k/_,T=E/_;if(A==="horizontal"||A==="vertical"){var M=this.state.offset,R=P>=M.left&&P<=M.left+M.width&&T>=M.top&&T<=M.top+M.height;return R?{x:P,y:T}:null}var D=this.state,q=D.angleAxisMap,F=D.radiusAxisMap;if(q&&F){var $=ns(q);return _O({x:P,y:T},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,E=this.getTooltipEventType(),_=$n(k,xi),A={};_&&E==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Np(this.props,this.handleOuterEvent);return Ee(Ee({},P),A)}},{key:"addListener",value:function(){Pb.on(Eb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Pb.removeListener(Eb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,E,_){for(var A=this.state.formattedGraphicalItems,P=0,T=A.length;P<T;P++){var M=A[P];if(M.item===k||M.props.key===k.key||E===ha(M.item.type)&&_===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,E=this.state.offset,_=E.left,A=E.top,P=E.height,T=E.width;return H.createElement("defs",null,H.createElement("clipPath",{id:k},H.createElement("rect",{x:_,y:A,height:P,width:T})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(E,_){var A=mR(_,2),P=A[0],T=A[1];return Ee(Ee({},E),{},jt({},P,T.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(E,_){var A=mR(_,2),P=A[0],T=A[1];return Ee(Ee({},E),{},jt({},P,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[k])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(k){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[k])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(k){var E=this.state,_=E.formattedGraphicalItems,A=E.activeItem;if(_&&_.length)for(var P=0,T=_.length;P<T;P++){var M=_[P],R=M.props,D=M.item,q=D.type.defaultProps!==void 0?Ee(Ee({},D.type.defaultProps),D.props):D.props,F=ha(D.type);if(F==="Bar"){var $=(R.data||[]).find(function(z){return Ure(k,z)});if($)return{graphicalItem:M,payload:$}}else if(F==="RadialBar"){var L=(R.data||[]).find(function(z){return _O(k,z)});if(L)return{graphicalItem:M,payload:L}}else if(fm(M,A)||pm(M,A)||td(M,A)){var B=die({graphicalItem:M,activeTooltipItem:A,itemData:q.data}),Z=q.activeIndex===void 0?B:q.activeIndex;return{graphicalItem:Ee(Ee({},M),{},{childIndex:Z}),payload:td(M,A)?q.data[B]:M.props.data[B]}}}return null}},{key:"render",value:function(){var k=this;if(!RC(this))return null;var E=this.props,_=E.children,A=E.className,P=E.width,T=E.height,M=E.style,R=E.compact,D=E.title,q=E.desc,F=gR(E,qoe),$=bt(F,!1);if(R)return H.createElement(XT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(dw,ol({},$,{width:P,height:T,title:D,desc:q}),this.renderClipPath(),DC(_,this.renderMap)));if(this.props.accessibilityLayer){var L,B;$.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,$.role=(B=this.props.role)!==null&&B!==void 0?B:"application",$.onKeyDown=function(z){k.accessibilityManager.keyboardEvent(z)},$.onFocus=function(){k.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return H.createElement(XT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",ol({className:Ot("recharts-wrapper",A),style:Ee({position:"relative",cursor:"default",width:P,height:T},M)},Z,{ref:function(te){k.container=te}}),H.createElement(dw,ol({},$,{width:P,height:T,title:D,desc:q,style:sle}),this.renderClipPath(),DC(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);jt(w,"displayName",r),jt(w,"defaultProps",Ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),jt(w,"getDerivedStateFromProps",function(x,S){var C=x.dataKey,k=x.data,E=x.children,_=x.width,A=x.height,P=x.layout,T=x.stackOffset,M=x.margin,R=S.dataStartIndex,D=S.dataEndIndex;if(S.updateId===void 0){var q=xR(x);return Ee(Ee(Ee({},q),{},{updateId:0},v(Ee(Ee({props:x},q),{},{updateId:0}),S)),{},{prevDataKey:C,prevData:k,prevWidth:_,prevHeight:A,prevLayout:P,prevStackOffset:T,prevMargin:M,prevChildren:E})}if(C!==S.prevDataKey||k!==S.prevData||_!==S.prevWidth||A!==S.prevHeight||P!==S.prevLayout||T!==S.prevStackOffset||!dl(M,S.prevMargin)){var F=xR(x),$={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},L=Ee(Ee({},vR(S,k,P)),{},{updateId:S.updateId+1}),B=Ee(Ee(Ee({},F),$),L);return Ee(Ee(Ee({},B),v(Ee({props:x},B),S)),{},{prevDataKey:C,prevData:k,prevWidth:_,prevHeight:A,prevLayout:P,prevStackOffset:T,prevMargin:M,prevChildren:E})}if(!cw(E,S.prevChildren)){var Z,z,te,re,V=$n(E,$l),X=V&&(Z=(z=V.props)===null||z===void 0?void 0:z.startIndex)!==null&&Z!==void 0?Z:R,le=V&&(te=(re=V.props)===null||re===void 0?void 0:re.endIndex)!==null&&te!==void 0?te:D,ce=X!==R||le!==D,Se=!At(k),xe=Se&&!ce?S.updateId:S.updateId+1;return Ee(Ee({updateId:xe},v(Ee(Ee({props:x},S),{},{updateId:xe,dataStartIndex:X,dataEndIndex:le}),S)),{},{prevChildren:E,dataStartIndex:X,dataEndIndex:le})}return null}),jt(w,"renderActiveDot",function(x,S,C){var k;return j.isValidElement(x)?k=j.cloneElement(x,S):Nt(x)?k=x(S):k=H.createElement(om,S),H.createElement(Qt,{className:"recharts-active-dot",key:C},k)});var b=j.forwardRef(function(S,C){return H.createElement(w,ol({},S,{ref:C}))});return b.displayName=w.displayName,b},gle=P4({chartName:"LineChart",GraphicalChild:Js,axisComponents:[{axisType:"xAxis",AxisComp:xm},{axisType:"yAxis",AxisComp:bm}],formatAxisMap:hae}),yle=P4({chartName:"PieChart",GraphicalChild:Ca,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:dm},{axisType:"radiusAxis",AxisComp:cm}],formatAxisMap:ZZ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Ob={trial:{tier:"trial",label:"Trial",features:{canExportReports:!0,canBulkImport:!1,canMarketplaceTemplates:!0},limits:{projects:2,units:50,exportsPerMonth:5}},starter:{tier:"starter",label:"Starter",features:{canExportReports:!0,canBulkImport:!0,canMarketplaceTemplates:!0},limits:{projects:5,units:250,exportsPerMonth:50}},growth:{tier:"growth",label:"Growth",features:{canExportReports:!0,canBulkImport:!0,canMarketplaceTemplates:!0},limits:{projects:20,units:2e3,exportsPerMonth:200}},enterprise:{tier:"enterprise",label:"Enterprise",features:{canExportReports:!0,canBulkImport:!0,canMarketplaceTemplates:!0},limits:{projects:null,units:null,exportsPerMonth:null}}},E4=e=>typeof e=="object"&&e!==null,wR=e=>new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1)),vle=e=>e?Ob[e]??Ob.trial:Ob.trial,v_=(e,t=new Date)=>{const r=E4(e==null?void 0:e.usage)?e==null?void 0:e.usage:{},n=typeof r.exports_this_month=="number"?r.exports_this_month:0,i=typeof r.exports_reset_at=="string"?r.exports_reset_at:null,s=i?new Date(i):null,l=!s||s.getUTCFullYear()!==t.getUTCFullYear()||s.getUTCMonth()!==t.getUTCMonth();return{exportsThisMonth:n,resetAt:i,shouldReset:l}},xle=(e,t=new Date)=>{const r=v_(e,t),i=(r.shouldReset?0:r.exportsThisMonth)+1,s=r.shouldReset?wR(t).toISOString():r.resetAt??wR(t).toISOString(),l=E4(e==null?void 0:e.usage)?e==null?void 0:e.usage:{};return{nextSettings:{...e??{},usage:{...l,exports_this_month:i,exports_reset_at:s}},nextExports:i}};function ble({selectedProject:e,units:t,projects:r,organizationId:n,organizationSettings:i,subscriptionPlan:s,onUsageUpdated:l}){const[u,d]=j.useState("30d"),[f,p]=j.useState("revenue"),{payments:h}=Ih(),g=j.useMemo(()=>v_(i),[i]),v=s.limits.exportsPerMonth,w=!s.features.canExportReports,b=e==="All Projects"?t:t.filter(Y=>Y.project===e),x=j.useMemo(()=>new Set(b.map(Y=>Y.id)),[b]),S=j.useMemo(()=>{const Y=cd();return Y.setHours(0,0,0,0),Y},[]),C=j.useMemo(()=>{const Y=new Date(S);return u==="7d"?Y.setDate(Y.getDate()-6):u==="30d"?Y.setDate(Y.getDate()-29):u==="90d"?Y.setDate(Y.getDate()-89):Y.setMonth(Y.getMonth()-11,1),Y},[u,S]),k=Y=>Y.toLocaleDateString("en-US",{month:"short",day:"2-digit"}),E=Y=>Y.toLocaleDateString("en-US",{month:"short",year:"2-digit"}),_=j.useMemo(()=>{const Y=[];if(u==="12m")for(let we=0;we<12;we+=1){const ve=new Date(S.getFullYear(),S.getMonth()-11+we,1),K=new Date(ve.getFullYear(),ve.getMonth()+1,1);Y.push({label:E(ve),start:ve,end:K,revenue:0,target:0,collections:0})}else if(u==="90d"){let we=new Date(C);for(;we<=S;){const ve=new Date(we),K=new Date(ve);K.setDate(K.getDate()+7),Y.push({label:`Wk of ${k(ve)}`,start:ve,end:K,revenue:0,target:0,collections:0}),we=K}}else{const we=u==="7d"?7:30;for(let ve=0;ve<we;ve+=1){const K=new Date(C);K.setDate(K.getDate()+ve);const je=new Date(K);je.setDate(je.getDate()+1),Y.push({label:k(K),start:K,end:je,revenue:0,target:0,collections:0})}}const se=(we,ve,K)=>{const je=Y.find(Q=>we>=Q.start&&we<Q.end);je&&(je[K]+=ve)};b.forEach(we=>{var K;const ve=(K=we.paymentTerms)==null?void 0:K.schedule;!ve||ve.length===0||ve.forEach(je=>{const Q=new Date(je.dueDate);Q.setHours(0,0,0,0),!(Q<C||Q>S)&&(se(Q,je.amount,"revenue"),se(Q,je.amount,"target"))})}),h.forEach(we=>{if(!x.has(we.unitId))return;const ve=new Date(we.date);ve.setHours(0,0,0,0),!(ve<C||ve>S)&&se(ve,we.amount,"collections")});const me=b.reduce((we,ve)=>{var K;return we+(((K=ve.paymentTerms)==null?void 0:K.arrears)??0)},0);return Y.length>0&&me>0&&(Y[Y.length-1].target+=me),Y.map(we=>({month:we.label,revenue:we.revenue,target:we.target,collections:we.collections}))},[u,S,x,b,h,C]),A=j.useMemo(()=>{const Y={"Bank Transfer":"#EF4444",GCash:"#F59E0B",Cash:"#10B981",Check:"#3B82F6","Credit Card":"#8B5CF6",PayMaya:"#EC4899"},se=new Map;h.forEach(we=>{if(!x.has(we.unitId))return;const ve=new Date(we.date);ve.setHours(0,0,0,0),!(ve<C||ve>S)&&se.set(we.method,(se.get(we.method)??0)+we.amount)});const me=Array.from(se.values()).reduce((we,ve)=>we+ve,0);return Array.from(se.entries()).map(([we,ve])=>({name:we,amount:ve,value:me>0?Math.round(ve/me*100):0,color:Y[we]??"#9CA3AF"})).sort((we,ve)=>ve.amount-we.amount)},[S,x,h,C]),P=e==="All Projects"?r:[e],T=j.useMemo(()=>{const Y=new Map(t.map(me=>[me.id,me.project])),se=h.reduce((me,we)=>{const ve=Y.get(we.unitId);return ve&&(me[ve]=(me[ve]??0)+we.amount),me},{});return P.map(me=>{const we=t.filter(ke=>ke.project===me),ve=we.length,K=se[me]??0,je=we.filter(ke=>ke.buyer!==null).reduce((ke,Oe)=>ke+Oe.sellingPrice,0),Q=je>0?Math.round(K/je*100):0;return{project:me,units:ve,collected:K,target:je,rate:Q}})},[h,P,t]),M=Y=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(Y),R=async()=>{if(!n)return;const{nextSettings:Y}=xle(i),{error:se}=await pe.from("organizations").update({settings:Y}).eq("id",n);if(se){ie.error("Export recorded but usage update failed",{description:se.message});return}l==null||l()},D=async()=>{if(!s.features.canExportReports)return ie.error("Exports are unavailable on your plan.",{description:"Upgrade your subscription to enable reporting exports."}),!1;const Y=g.shouldReset?0:g.exportsThisMonth;return v!==null&&Y>=v?(ie.error("Monthly export limit reached.",{description:`Your ${s.label} plan allows ${v} exports per month.`}),!1):!0},q=async Y=>{await D()&&(ie.success(`Exporting report as ${Y.toUpperCase()}`,{description:`Report_${f}_${u}.${Y}`}),await R())},F=async(Y,se,me)=>{if(!await D())return;const we=[se,...me].map(Q=>Q.map(ke=>`"${String(ke).replace(/"/g,'""')}"`).join(",")).join(`
`),ve=new Blob([we],{type:"text/csv"}),K=URL.createObjectURL(ve),je=document.createElement("a");je.href=K,je.download=Y,je.click(),URL.revokeObjectURL(K),await R()},$=_.reduce((Y,se)=>Y+se.revenue,0),L=_.reduce((Y,se)=>Y+se.target,0),B=_.reduce((Y,se)=>Y+se.collections,0),Z=L>0?(B/L*100).toFixed(1):"0.0",z=$>0?(B/$*100).toFixed(1):"0.0",te=u==="7d"?"Last 7 Days":u==="30d"?"Last 30 Days":u==="90d"?"Last 90 Days":"Last 12 Months",re=_[_.length-1],V=_[_.length-2],X=(re==null?void 0:re.collections)??0,le=(V==null?void 0:V.collections)??0,ce=le>0?(X-le)/le*100:0,Se=A.reduce((Y,se)=>Y+se.amount,0),xe=T.length>0?(T.reduce((Y,se)=>Y+se.rate,0)/T.length).toFixed(1):"0.0",ye=j.useMemo(()=>P.map(se=>{const me=t.filter(Oe=>Oe.project===se),we=new Set(me.map(Oe=>Oe.id)),ve=me.reduce((Oe,$e)=>{var ut;const ct=(((ut=$e.paymentTerms)==null?void 0:ut.schedule)??[]).filter(_t=>{const mt=new Date(_t.dueDate);return mt.setHours(0,0,0,0),mt>=C&&mt<=S});return Oe+ct.reduce((_t,mt)=>_t+mt.amount,0)},0),K=h.reduce((Oe,$e)=>{if(!we.has($e.unitId))return Oe;const Fe=new Date($e.date);return Fe.setHours(0,0,0,0),Fe<C||Fe>S?Oe:Oe+$e.amount},0),je=me.reduce((Oe,$e)=>{var Fe;return Oe+(((Fe=$e.paymentTerms)==null?void 0:Fe.arrears)??0)},0),Q=K-ve,ke=ve>0?Math.round(K/ve*100):0;return{project:se,scheduled:ve,collected:K,arrears:je,variance:Q,collectionRate:ke}}),[S,h,P,C,t]),Ae=j.useMemo(()=>P.map(Y=>{const se=t.filter(ve=>ve.project===Y),me={"1-30":0,"31-60":0,"61-90":0,"90+":0};se.forEach(ve=>{var Q,ke;const K=((Q=ve.paymentTerms)==null?void 0:Q.daysLate)??0,je=((ke=ve.paymentTerms)==null?void 0:ke.arrears)??0;je<=0||K<=0||(K<=30?me["1-30"]+=je:K<=60?me["31-60"]+=je:K<=90?me["61-90"]+=je:me["90+"]+=je)});const we=Object.values(me).reduce((ve,K)=>ve+K,0);return{project:Y,buckets:me,total:we}}),[P,t]),G=j.useMemo(()=>{const Y=h.reduce((se,me)=>(se[me.unitId]=(se[me.unitId]??0)+me.amount,se),{});return b.filter(se=>se.buyer!==null).map(se=>{var K;const me=Y[se.id]??0,we=Math.max(se.sellingPrice-me,0),ve=se.sellingPrice>0?Math.round(me/se.sellingPrice*100):0;return{id:se.id,unit:se.blockLot,project:se.project,customer:((K=se.buyer)==null?void 0:K.name)??"",sellingPrice:se.sellingPrice,collected:me,balance:we,rate:ve}}).sort((se,me)=>me.rate-se.rate)},[b,h]),ue=async()=>{const Y=["project","scheduled_due","collected","arrears","variance","collection_rate"],se=ye.map(me=>[me.project,me.scheduled,me.collected,me.arrears,me.variance,`${me.collectionRate}%`]);await F(`cashflow_report_${u}.csv`,Y,se)},ee=async()=>{const Y=["project","1_30","31_60","61_90","90_plus","total"],se=Ae.map(me=>[me.project,me.buckets["1-30"],me.buckets["31-60"],me.buckets["61-90"],me.buckets["90+"],me.total]);await F(`ar_aging_${u}.csv`,Y,se)},W=async()=>{const Y=["unit","project","customer","selling_price","collected","balance","collection_rate"],se=G.map(me=>[me.unit,me.project,me.customer,me.sellingPrice,me.collected,me.balance,`${me.rate}%`]);await F(`unit_profitability_${u}.csv`,Y,se)};return a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Reports & Analytics"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e==="All Projects"?"Portfolio-wide performance metrics":`${e} performance`})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>q("pdf"),disabled:w,className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"}),"PDF"]}),a.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>q("excel"),disabled:w,className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"}),"Excel"]}),a.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>q("csv"),disabled:w,className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"}),"CSV"]})]})]}),a.jsx(Ne,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pn,{className:"w-5 h-5 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Time Period:"}),a.jsx("div",{className:"flex gap-1 ml-2",children:["7d","30d","90d","12m"].map(Y=>a.jsx("button",{onClick:()=>d(Y),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${u===Y?"bg-red-50 text-red-600 border border-red-200":"text-gray-600 hover:bg-gray-50"}`,children:Y==="7d"?"Last 7 Days":Y==="30d"?"Last 30 Days":Y==="90d"?"Last 90 Days":"Last 12 Months"},Y))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ld,{className:"w-5 h-5 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Report Type:"}),a.jsx("div",{className:"flex gap-1 ml-2",children:["revenue","collections","performance"].map(Y=>a.jsx("button",{onClick:()=>p(Y),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${f===Y?"bg-red-50 text-red-600 border border-red-200":"text-gray-600 hover:bg-gray-50"}`,children:Y.charAt(0).toUpperCase()+Y.slice(1)},Y))})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center",children:a.jsx(Yr,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Expected Revenue"}),a.jsx("p",{className:"text-xs text-gray-500",children:te})]})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M($)}),a.jsx("div",{className:"mt-2 flex items-center gap-1",children:a.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Scheduled dues for selected period"})})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-50 flex items-center justify-center",children:a.jsx(E2,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Achievement Rate"}),a.jsx("p",{className:"text-xs text-gray-500",children:"vs Scheduled + Arrears"})]})]}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Z,"%"]}),a.jsx("div",{className:"mt-2 flex items-center gap-1",children:a.jsx("span",{className:"text-sm text-orange-600 font-medium",children:"Collection progress vs backlog"})})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-50 flex items-center justify-center",children:a.jsx($r,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Collections"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Actual received"})]})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M(B)}),a.jsx("div",{className:"mt-2 flex items-center gap-1",children:a.jsxs("span",{className:"text-sm text-orange-600 font-medium",children:[z,"% collection rate"]})})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-50 flex items-center justify-center",children:a.jsx(mp,{className:"w-6 h-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:(re==null?void 0:re.month)??"Current Period"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Current period collections"})]})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M(X)}),a.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[ce>=0?a.jsx(zb,{className:"w-4 h-4 text-green-600"}):a.jsx(E2,{className:"w-4 h-4 text-red-600"}),a.jsxs("span",{className:`text-sm font-medium ${ce>=0?"text-green-600":"text-red-600"}`,children:[ce>=0?"+":"",ce.toFixed(1),"% vs previous period"]})]})]})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Revenue & Collections Trend"}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Performance for ",te.toLowerCase()]})]}),a.jsx(Ze,{className:"bg-blue-50 text-blue-700 border-blue-200",children:te})]}),a.jsx(nA,{width:"100%",height:400,children:a.jsxs(gle,{data:_,children:[a.jsx(f4,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),a.jsx(xm,{dataKey:"month",stroke:"#6B7280",style:{fontSize:"12px"}}),a.jsx(bm,{stroke:"#6B7280",style:{fontSize:"12px"},tickFormatter:Y=>`${Y/1e3}k`}),a.jsx(xi,{contentStyle:{backgroundColor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"8px",padding:"12px"},formatter:Y=>M(Y)}),a.jsx(Gs,{}),a.jsx(Js,{type:"monotone",dataKey:"revenue",stroke:"#EF4444",strokeWidth:3,name:"Expected",dot:{fill:"#EF4444",r:4}}),a.jsx(Js,{type:"monotone",dataKey:"target",stroke:"#9CA3AF",strokeWidth:2,strokeDasharray:"5 5",name:"Target (incl. arrears)",dot:{fill:"#9CA3AF",r:3}}),a.jsx(Js,{type:"monotone",dataKey:"collections",stroke:"#10B981",strokeWidth:2,name:"Collected",dot:{fill:"#10B981",r:3}})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Ne,{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(eB,{className:"w-5 h-5 text-red-600"}),"Payment Method Distribution"]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Total: ",M(Se)]})]})}),a.jsx(nA,{width:"100%",height:300,children:a.jsxs(yle,{children:[a.jsx(Ca,{data:A,cx:"50%",cy:"50%",labelLine:!1,label:({name:Y,value:se})=>`${Y} (${se}%)`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:A.map((Y,se)=>a.jsx(Yh,{fill:Y.color},`cell-${se}`))}),a.jsx(xi,{formatter:(Y,se,me)=>[`${Y}% (${M(me.payload.amount)})`,se]})]})}),a.jsx("div",{className:"mt-4 space-y-2",children:A.map(Y=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Y.color}}),a.jsx("span",{className:"text-gray-700",children:Y.name})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-gray-600",children:[Y.value,"%"]}),a.jsx("span",{className:"font-medium text-gray-900",children:M(Y.amount)})]})]},Y.name))})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(mp,{className:"w-5 h-5 text-red-600"}),"Project Performance"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Collection rates by project"})]})}),a.jsx("div",{className:"space-y-5",children:T.map(Y=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:Y.project}),a.jsxs("p",{className:"text-xs text-gray-600",children:[Y.units," units"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-gray-900",children:M(Y.collected)}),a.jsxs("p",{className:"text-xs text-gray-600",children:["of ",M(Y.target)]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-red-600 rounded-full",style:{width:`${Y.rate}%`}})}),a.jsxs(Ze,{className:"bg-green-50 text-green-700 border-green-200 text-xs",children:[Y.rate,"%"]})]})]},Y.project))}),a.jsx(ar,{className:"my-4"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Portfolio Average:"}),a.jsxs(Ze,{className:"bg-blue-50 text-blue-700 border-blue-200",children:[xe,"%"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Cashflow by Project"}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Scheduled vs collected for ",te.toLowerCase()]})]}),a.jsxs(Pe,{variant:"outline",size:"sm",onClick:ue,disabled:w,className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"}),"Export CSV"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-gray-500 border-b",children:[a.jsx("th",{className:"py-3 pr-4",children:"Project"}),a.jsx("th",{className:"py-3 pr-4",children:"Scheduled"}),a.jsx("th",{className:"py-3 pr-4",children:"Collected"}),a.jsx("th",{className:"py-3 pr-4",children:"Arrears"}),a.jsx("th",{className:"py-3 pr-4",children:"Variance"}),a.jsx("th",{className:"py-3 pr-4",children:"Collection Rate"})]})}),a.jsx("tbody",{children:ye.map(Y=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsx("td",{className:"py-3 pr-4 font-medium text-gray-900",children:Y.project}),a.jsx("td",{className:"py-3 pr-4 text-gray-700",children:M(Y.scheduled)}),a.jsx("td",{className:"py-3 pr-4 text-gray-700",children:M(Y.collected)}),a.jsx("td",{className:"py-3 pr-4 text-gray-700",children:M(Y.arrears)}),a.jsx("td",{className:`py-3 pr-4 font-medium ${Y.variance>=0?"text-green-600":"text-red-600"}`,children:M(Y.variance)}),a.jsx("td",{className:"py-3 pr-4",children:a.jsxs(Ze,{className:Y.collectionRate>=80?"bg-green-50 text-green-700 border-green-200":"bg-orange-50 text-orange-700 border-orange-200",children:[Y.collectionRate,"%"]})})]},Y.project))})]})})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"AR Aging Buckets"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Outstanding arrears by delinquency window"})]}),a.jsxs(Pe,{variant:"outline",size:"sm",onClick:ee,disabled:w,className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"}),"Export CSV"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-gray-500 border-b",children:[a.jsx("th",{className:"py-3 pr-4",children:"Project"}),a.jsx("th",{className:"py-3 pr-4",children:"1-30"}),a.jsx("th",{className:"py-3 pr-4",children:"31-60"}),a.jsx("th",{className:"py-3 pr-4",children:"61-90"}),a.jsx("th",{className:"py-3 pr-4",children:"90+"}),a.jsx("th",{className:"py-3 pr-4",children:"Total"})]})}),a.jsx("tbody",{children:Ae.map(Y=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsx("td",{className:"py-3 pr-4 font-medium text-gray-900",children:Y.project}),a.jsx("td",{className:"py-3 pr-4 text-gray-700",children:M(Y.buckets["1-30"])}),a.jsx("td",{className:"py-3 pr-4 text-gray-700",children:M(Y.buckets["31-60"])}),a.jsx("td",{className:"py-3 pr-4 text-gray-700",children:M(Y.buckets["61-90"])}),a.jsx("td",{className:"py-3 pr-4 text-gray-700",children:M(Y.buckets["90+"])}),a.jsx("td",{className:"py-3 pr-4 font-medium text-gray-900",children:M(Y.total)})]},Y.project))})]})})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Unit Profitability Summary"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Selling price vs collected per unit"})]}),a.jsxs(Pe,{variant:"outline",size:"sm",onClick:W,disabled:w,className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"}),"Export CSV"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-xs uppercase tracking-wide text-gray-500 border-b",children:[a.jsx("th",{className:"py-3 pr-4",children:"Unit"}),a.jsx("th",{className:"py-3 pr-4",children:"Project"}),a.jsx("th",{className:"py-3 pr-4",children:"Customer"}),a.jsx("th",{className:"py-3 pr-4",children:"Selling Price"}),a.jsx("th",{className:"py-3 pr-4",children:"Collected"}),a.jsx("th",{className:"py-3 pr-4",children:"Balance"}),a.jsx("th",{className:"py-3 pr-4",children:"Collected %"})]})}),a.jsx("tbody",{children:G.map(Y=>a.jsxs("tr",{className:"border-b last:border-b-0",children:[a.jsx("td",{className:"py-3 pr-4 font-medium text-gray-900",children:Y.unit}),a.jsx("td",{className:"py-3 pr-4 text-gray-700",children:Y.project}),a.jsx("td",{className:"py-3 pr-4 text-gray-700",children:Y.customer}),a.jsx("td",{className:"py-3 pr-4 text-gray-700",children:M(Y.sellingPrice)}),a.jsx("td",{className:"py-3 pr-4 text-gray-700",children:M(Y.collected)}),a.jsx("td",{className:"py-3 pr-4 text-gray-700",children:M(Y.balance)}),a.jsx("td",{className:"py-3 pr-4",children:a.jsxs(Ze,{className:Y.rate>=80?"bg-green-50 text-green-700 border-green-200":"bg-orange-50 text-orange-700 border-orange-200",children:[Y.rate,"%"]})})]},Y.id))})]})})]})]})]})}var x_="Switch",[wle]=_a(x_),[jle,_le]=wle(x_),A4=j.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:l,disabled:u,value:d="on",onCheckedChange:f,form:p,...h}=e,[g,v]=j.useState(null),w=jr(t,k=>v(k)),b=j.useRef(!1),x=g?p||!!g.closest("form"):!0,[S=!1,C]=to({prop:i,defaultProp:s,onChange:f});return a.jsxs(jle,{scope:r,checked:S,disabled:u,children:[a.jsx(It.button,{type:"button",role:"switch","aria-checked":S,"aria-required":l,"data-state":R4(S),"data-disabled":u?"":void 0,disabled:u,value:d,...h,ref:w,onClick:qt(e.onClick,k=>{C(E=>!E),x&&(b.current=k.isPropagationStopped(),b.current||k.stopPropagation())})}),x&&a.jsx(Sle,{control:g,bubbles:!b.current,name:n,value:d,checked:S,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});A4.displayName=x_;var O4="SwitchThumb",T4=j.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=_le(O4,r);return a.jsx(It.span,{"data-state":R4(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});T4.displayName=O4;var Sle=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,s=j.useRef(null),l=sj(r),u=rj(t);return j.useEffect(()=>{const d=s.current,f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[l,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function R4(e){return e?"checked":"unchecked"}var kle=A4,Nle=T4;function ts({className:e,...t}){return a.jsx(kle,{"data-slot":"switch",className:Yt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(Nle,{"data-slot":"switch-thumb",className:Yt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var Tb="rovingFocusGroup.onEntryFocus",Cle={bubbles:!1,cancelable:!0},jm="RovingFocusGroup",[P1,M4,Ple]=SM(jm),[Ele,D4]=_a(jm,[Ple]),[Ale,Ole]=Ele(jm),I4=j.forwardRef((e,t)=>a.jsx(P1.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(P1.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Tle,{...e,ref:t})})}));I4.displayName=jm;var Tle=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...h}=e,g=j.useRef(null),v=jr(t,g),w=K1(s),[b=null,x]=to({prop:l,defaultProp:u,onChange:d}),[S,C]=j.useState(!1),k=Vi(f),E=M4(r),_=j.useRef(!1),[A,P]=j.useState(0);return j.useEffect(()=>{const T=g.current;if(T)return T.addEventListener(Tb,k),()=>T.removeEventListener(Tb,k)},[k]),a.jsx(Ale,{scope:r,orientation:n,dir:w,loop:i,currentTabStopId:b,onItemFocus:j.useCallback(T=>x(T),[x]),onItemShiftTab:j.useCallback(()=>C(!0),[]),onFocusableItemAdd:j.useCallback(()=>P(T=>T+1),[]),onFocusableItemRemove:j.useCallback(()=>P(T=>T-1),[]),children:a.jsx(It.div,{tabIndex:S||A===0?-1:0,"data-orientation":n,...h,ref:v,style:{outline:"none",...e.style},onMouseDown:qt(e.onMouseDown,()=>{_.current=!0}),onFocus:qt(e.onFocus,T=>{const M=!_.current;if(T.target===T.currentTarget&&M&&!S){const R=new CustomEvent(Tb,Cle);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=E().filter(B=>B.focusable),q=D.find(B=>B.active),F=D.find(B=>B.id===b),L=[q,F,...D].filter(Boolean).map(B=>B.ref.current);F4(L,p)}}_.current=!1}),onBlur:qt(e.onBlur,()=>C(!1))})})}),$4="RovingFocusGroupItem",L4=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...l}=e,u=os(),d=s||u,f=Ole($4,r),p=f.currentTabStopId===d,h=M4(r),{onFocusableItemAdd:g,onFocusableItemRemove:v}=f;return j.useEffect(()=>{if(n)return g(),()=>v()},[n,g,v]),a.jsx(P1.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:a.jsx(It.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:qt(e.onMouseDown,w=>{n?f.onItemFocus(d):w.preventDefault()}),onFocus:qt(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:qt(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=Dle(w,f.orientation,f.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=h().filter(C=>C.focusable).map(C=>C.ref.current);if(b==="last")S.reverse();else if(b==="prev"||b==="next"){b==="prev"&&S.reverse();const C=S.indexOf(w.currentTarget);S=f.loop?Ile(S,C+1):S.slice(C+1)}setTimeout(()=>F4(S))}})})})});L4.displayName=$4;var Rle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Mle(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Dle(e,t,r){const n=Mle(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Rle[n]}function F4(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Ile(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var $le=I4,Lle=L4,b_="Tabs",[Fle]=_a(b_,[D4]),B4=D4(),[Ble,w_]=Fle(b_),z4=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,p=K1(u),[h,g]=to({prop:n,onChange:i,defaultProp:s});return a.jsx(Ble,{scope:r,baseId:os(),value:h,onValueChange:g,orientation:l,dir:p,activationMode:d,children:a.jsx(It.div,{dir:p,"data-orientation":l,...f,ref:t})})});z4.displayName=b_;var U4="TabsList",q4=j.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,s=w_(U4,r),l=B4(r);return a.jsx($le,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(It.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});q4.displayName=U4;var W4="TabsTrigger",H4=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,l=w_(W4,r),u=B4(r),d=G4(l.baseId,n),f=Y4(l.baseId,n),p=n===l.value;return a.jsx(Lle,{asChild:!0,...u,focusable:!i,active:p,children:a.jsx(It.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...s,ref:t,onMouseDown:qt(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?l.onValueChange(n):h.preventDefault()}),onKeyDown:qt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&l.onValueChange(n)}),onFocus:qt(e.onFocus,()=>{const h=l.activationMode!=="manual";!p&&!i&&h&&l.onValueChange(n)})})})});H4.displayName=W4;var V4="TabsContent",K4=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...l}=e,u=w_(V4,r),d=G4(u.baseId,n),f=Y4(u.baseId,n),p=n===u.value,h=j.useRef(p);return j.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(tc,{present:i||p,children:({present:g})=>a.jsx(It.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&s})})});K4.displayName=V4;function G4(e,t){return`${e}-trigger-${t}`}function Y4(e,t){return`${e}-content-${t}`}var zle=z4,Ule=q4,qle=H4,Wle=K4;function X4({className:e,...t}){return a.jsx(zle,{"data-slot":"tabs",className:Yt("flex flex-col gap-2",e),...t})}function J4({className:e,...t}){return a.jsx(Ule,{"data-slot":"tabs-list",className:Yt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Li({className:e,...t}){return a.jsx(qle,{"data-slot":"tabs-trigger",className:Yt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Fi({className:e,...t}){return a.jsx(Wle,{"data-slot":"tabs-content",className:Yt("flex-1 outline-none",e),...t})}function Hle({currentRole:e,organization:t,subscriptionPlan:r,usageCounts:n}){const[i,s]=j.useState("company"),[l,u]=j.useState(!1),[d,f]=j.useState(!1),[p,h]=j.useState([]),[g,v]=j.useState(!0),[w,b]=j.useState(null),[x,S]=j.useState(!1),[C,k]=j.useState(""),[E,_]=j.useState([]),[A,P]=j.useState(!1),[T,M]=j.useState({}),[R,D]=j.useState(""),[q,F]=j.useState(""),[$,L]=j.useState(""),[B,Z]=j.useState(""),[z,te]=j.useState(""),[re,V]=j.useState(""),[X,le]=j.useState(""),[ce,Se]=j.useState(""),[xe,ye]=j.useState(""),[Ae,G]=j.useState(""),[ue,ee]=j.useState(!0),[W,Y]=j.useState(!0),[se,me]=j.useState(!0),[we,ve]=j.useState(!0),[K,je]=j.useState(!0),[Q,ke]=j.useState(!0),[Oe,$e]=j.useState("PHP"),[Fe,ct]=j.useState("MM/DD/YYYY"),[ut,_t]=j.useState("Asia/Manila"),[mt,Ge]=j.useState("January"),it="Current",wt="production",Pt=Ce=>typeof Ce=="object"&&Ce!==null,dt=e==="Encoder",sr=e==="Executive",Kt=e==="Manager",Wt=e==="Executive"||e==="Manager",Tt=Ce=>Ce===null?"Unlimited":Ce.toLocaleString("en-PH"),dr=(t==null?void 0:t.subscription_status)??"active",he=Ce=>{switch(Ce){case"admin":return"Executive";case"manager":return"Manager";case"viewer":return"Encoder";default:return Ce}},Be=Ce=>{switch(Ce){case"admin":return"bg-purple-100 text-purple-700 border-purple-300";case"manager":return"bg-blue-100 text-blue-700 border-blue-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},Ye=Ce=>{const Je=Ce.trim().split(/\s+/);return Je.length===1?Je[0].slice(0,2).toUpperCase():`${Je[0][0]}${Je[Je.length-1][0]}`.toUpperCase()};j.useEffect(()=>{if(t&&(D(t.name??""),F(t.contact_email??""),L(t.contact_phone??""),Z(t.address??""),Pt(t.settings))){const Ce=t.settings,Je=Pt(Ce.payment_terms)?Ce.payment_terms:{},et=Pt(Ce.notifications)?Ce.notifications:{},gt=Pt(Ce.system_preferences)?Ce.system_preferences:{};F(t.contact_email??(typeof Ce.company_email=="string"?Ce.company_email:"")),L(t.contact_phone??(typeof Ce.company_phone=="string"?Ce.company_phone:"")),Z(t.address??(typeof Ce.company_address=="string"?Ce.company_address:"")),te(typeof Ce.company_website=="string"?Ce.company_website:""),V(typeof Je.down_payment_percent=="number"?String(Je.down_payment_percent):""),le(typeof Je.installment_months=="number"?String(Je.installment_months):""),Se(typeof Je.interest_rate=="number"?String(Je.interest_rate):""),ye(typeof Je.late_fee_percent=="number"?String(Je.late_fee_percent):""),G(typeof Je.grace_period_days=="number"?String(Je.grace_period_days):""),ee(typeof et.email_notifications=="boolean"?et.email_notifications:!0),Y(typeof et.sms_notifications=="boolean"?et.sms_notifications:!0),me(typeof et.payment_reminders=="boolean"?et.payment_reminders:!0),ve(typeof et.overdue_alerts=="boolean"?et.overdue_alerts:!0),je(typeof et.weekly_reports=="boolean"?et.weekly_reports:!0),ke(typeof et.monthly_reports=="boolean"?et.monthly_reports:!0),$e(typeof gt.currency=="string"?gt.currency:"PHP"),ct(typeof gt.date_format=="string"?gt.date_format:"MM/DD/YYYY"),_t(typeof gt.timezone=="string"?gt.timezone:"Asia/Manila"),Ge(typeof gt.fiscal_year_start=="string"?gt.fiscal_year_start:"January")}},[t]),j.useEffect(()=>{x&&k((t==null?void 0:t.org_code)??"")},[x,t==null?void 0:t.org_code]);const de=async()=>{v(!0);const{data:Ce,error:Je}=await pe.from("users").select("id, full_name, email, role").order("created_at",{ascending:!0});Je?ie.error("Failed to load users",{description:Je.message}):h(Ce||[]),v(!1)},qe=async()=>{if(!(t!=null&&t.id))return;P(!0);const{data:Ce,error:Je}=await pe.from("org_join_requests").select("id, user_id, email, full_name, role_requested, status, created_at").eq("organization_id",t.id).eq("status","pending").order("created_at",{ascending:!1});if(Je)ie.error("Failed to load join requests",{description:Je.message});else{const et=Ce||[];_(et);const gt={};et.forEach(Xt=>{const ne=Xt.role_requested;gt[Xt.id]=ne&&["admin","manager","viewer"].includes(ne)?ne:"viewer"}),M(gt)}P(!1)};j.useEffect(()=>{de(),qe()},[t==null?void 0:t.id]);const Te=async(Ce,Je)=>{if(!sr&&!Kt){ie.error("Permission Denied",{description:"Only Executive or Manager accounts can update roles."});return}b(Ce);const{error:et}=await pe.rpc("admin_update_user_role",{p_user_id:Ce,p_role:Je});et?ie.error("Role update failed",{description:et.message}):(await de(),ie.success("Role updated")),b(null)},He=async Ce=>{const Je=T[Ce]??"viewer",{error:et}=await pe.rpc("admin_approve_join_request",{p_request_id:Ce,p_role:Je});if(et){ie.error("Approval failed",{description:et.message});return}ie.success("Access approved"),await de(),await qe()},Xe=async Ce=>{const{error:Je}=await pe.rpc("admin_reject_join_request",{p_request_id:Ce,p_reason:null});if(Je){ie.error("Rejection failed",{description:Je.message});return}ie.success("Request rejected"),await qe()},Et=async Ce=>{if(dt){ie.error("Permission Denied",{description:"Encoder role cannot modify settings"});return}if(!(t!=null&&t.id)){ie.error("Organization not loaded",{description:"Refresh the page and try again."});return}const Je={},et=Pt(t.settings)?{...t.settings}:{};Ce==="Company"&&(Je.name=R.trim(),Je.contact_email=q.trim(),Je.contact_phone=$.trim(),Je.address=B.trim(),et.company_email=q.trim(),et.company_phone=$.trim(),et.company_address=B.trim(),et.company_website=z.trim()),Ce==="Payment"&&(et.payment_terms={down_payment_percent:Number(re||0),installment_months:Number(X||0),interest_rate:Number(ce||0),late_fee_percent:Number(xe||0),grace_period_days:Number(Ae||0)}),Ce==="Notifications"&&(et.notifications={email_notifications:ue,sms_notifications:W,payment_reminders:se,overdue_alerts:we,weekly_reports:K,monthly_reports:Q}),Ce==="System"&&(et.system_preferences={currency:Oe,date_format:Fe,timezone:ut,fiscal_year_start:mt}),Je.settings=et,u(!0);const{error:gt}=await pe.from("organizations").update(Je).eq("id",t.id);gt?ie.error("Save failed",{description:gt.message}):ie.success(`${Ce} settings saved`,{description:"Changes are now visible across your workspace."}),u(!1)},Ht=()=>{if(dt){ie.error("Permission Denied",{description:"Encoder role cannot modify settings"});return}ie.error("Logo upload not configured",{description:"Add your logo through the organization settings API."})},Ct=async()=>{if(!t){ie.error("Organization not loaded",{description:"Please wait for organization data to load before seeding."});return}if(!Wt){ie.error("Permission Denied",{description:"Only Executives or Managers can seed simulation data."});return}if(!window.confirm("This will add a simulation project, units, customers, and payments to your current organization. Continue?"))return;f(!0);const{data:Je,error:et}=await pe.rpc("seed_current_org",{p_profile:"standard"});if(et){const gt=et.message||"Unable to run simulation seed.",Xt=gt.toLowerCase().includes("seed_current_org")?"Apply the latest Supabase functions.sql to create seed_current_org, then retry.":gt;ie.error("Simulation seed failed",{description:Xt})}else{const gt=typeof Je=="object"&&Je!==null?Je.counts:null,Xt=gt&&typeof gt=="object"?`Projects: ${gt.projects??0}, Units: ${gt.units??0}, Customers: ${gt.customers??0}`:"Simulation data created.";ie.success("Simulation data ready",{description:Xt})}f(!1)};return a.jsxs("div",{className:"p-8 space-y-6",children:[dt&&a.jsx(Ne,{className:"p-4 bg-amber-50 border-amber-200",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ln,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Limited Access"}),a.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Your role (Encoder) has view-only access to settings. Contact an Executive or Manager to make changes."})]})]})}),a.jsxs(Ne,{className:"p-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Subscription & Usage"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Current plan limits for projects, units, and exports."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ze,{className:"bg-blue-50 text-blue-700 border-blue-200",children:r.label}),a.jsx(Ze,{className:"bg-gray-50 text-gray-700 border-gray-200",children:dr})]})]}),a.jsx(ar,{className:"my-3"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Projects"}),a.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[n.projects," / ",Tt(r.limits.projects)]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Units"}),a.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[n.units," / ",Tt(r.limits.units)]})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Exports this month"}),a.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[n.exportsThisMonth," / ",Tt(r.limits.exportsPerMonth)]})]})]})]}),a.jsxs(X4,{value:i,onValueChange:s,children:[a.jsxs(J4,{className:"grid w-full grid-cols-5 bg-gray-100 p-1",children:[a.jsxs(Li,{value:"company",className:"flex items-center gap-2",children:[a.jsx(fn,{className:"w-4 h-4"}),"Company"]}),a.jsxs(Li,{value:"payment",className:"flex items-center gap-2",children:[a.jsx(Lb,{className:"w-4 h-4"}),"Payment Terms"]}),a.jsxs(Li,{value:"users",className:"flex items-center gap-2",children:[a.jsx(Zs,{className:"w-4 h-4"}),"Users"]}),a.jsxs(Li,{value:"notifications",className:"flex items-center gap-2",children:[a.jsx(as,{className:"w-4 h-4"}),"Notifications"]}),a.jsxs(Li,{value:"system",className:"flex items-center gap-2",children:[a.jsx(ju,{className:"w-4 h-4"}),"System"]})]}),a.jsx(Fi,{value:"company",className:"space-y-6 mt-6",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center",children:a.jsx(fn,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Company Information"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Basic company details and contact information"})]})]}),a.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[a.jsx(We,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Company Logo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-24 h-24 rounded-xl bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-2xl font-bold",children:"EL"})}),a.jsxs("div",{children:[a.jsxs(Pe,{variant:"outline",size:"sm",onClick:Ht,disabled:dt,className:"flex items-center gap-2",children:[a.jsx(gp,{className:"w-4 h-4"}),"Upload New Logo"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Recommended: 400x400px, PNG or JPG, max 2MB"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"companyName",className:"flex items-center gap-2 mb-2",children:[a.jsx(fn,{className:"w-4 h-4 text-gray-500"}),"Company Name"]}),a.jsx(Ke,{id:"companyName",value:R,onChange:Ce=>D(Ce.target.value),disabled:dt,placeholder:"Organization name"})]}),a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"companyEmail",className:"flex items-center gap-2 mb-2",children:[a.jsx(Qs,{className:"w-4 h-4 text-gray-500"}),"Email Address"]}),a.jsx(Ke,{id:"companyEmail",type:"email",value:q,onChange:Ce=>F(Ce.target.value),disabled:dt,placeholder:"Email address"})]}),a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"companyPhone",className:"flex items-center gap-2 mb-2",children:[a.jsx(wu,{className:"w-4 h-4 text-gray-500"}),"Phone Number"]}),a.jsx(Ke,{id:"companyPhone",value:$,onChange:Ce=>L(Ce.target.value),disabled:dt,placeholder:"Phone number"})]}),a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"companyWebsite",className:"flex items-center gap-2 mb-2",children:[a.jsx(N2,{className:"w-4 h-4 text-gray-500"}),"Website"]}),a.jsx(Ke,{id:"companyWebsite",value:z,onChange:Ce=>te(Ce.target.value),disabled:dt,placeholder:"Website"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs(We,{htmlFor:"companyAddress",className:"flex items-center gap-2 mb-2",children:[a.jsx(rM,{className:"w-4 h-4 text-gray-500"}),"Business Address"]}),a.jsx(Ke,{id:"companyAddress",value:B,onChange:Ce=>Z(Ce.target.value),disabled:dt,placeholder:"Street, city, province"})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsxs(Pe,{onClick:()=>Et("Company"),disabled:l||dt,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700",children:[a.jsx(If,{className:"w-4 h-4"}),l?"Saving...":"Save Changes"]})})]})}),a.jsx(Fi,{value:"payment",className:"space-y-6 mt-6",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-50 flex items-center justify-center",children:a.jsx(Lb,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Default Payment Terms"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Configure standard payment terms for new units"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"downPayment",className:"flex items-center gap-2 mb-2",children:[a.jsx(Yr,{className:"w-4 h-4 text-gray-500"}),"Down Payment (%)"]}),a.jsx(Ke,{id:"downPayment",type:"number",value:re,onChange:Ce=>V(Ce.target.value),disabled:dt,placeholder:"Down payment (%)"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Percentage of total price required upfront"})]}),a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"installmentMonths",className:"flex items-center gap-2 mb-2",children:[a.jsx(Pn,{className:"w-4 h-4 text-gray-500"}),"Installment Period (Months)"]}),a.jsx(Ke,{id:"installmentMonths",type:"number",value:X,onChange:Ce=>le(Ce.target.value),disabled:dt,placeholder:"Installment months"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Standard payment plan duration"})]}),a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"interestRate",className:"flex items-center gap-2 mb-2",children:[a.jsx(KB,{className:"w-4 h-4 text-gray-500"}),"Interest Rate (% per annum)"]}),a.jsx(Ke,{id:"interestRate",type:"number",value:ce,onChange:Ce=>Se(Ce.target.value),disabled:dt,placeholder:"Interest rate (%)"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Annual interest rate (0 for no interest)"})]}),a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"lateFee",className:"flex items-center gap-2 mb-2",children:[a.jsx(ln,{className:"w-4 h-4 text-gray-500"}),"Late Payment Fee (%)"]}),a.jsx(Ke,{id:"lateFee",type:"number",value:xe,onChange:Ce=>ye(Ce.target.value),disabled:dt,placeholder:"Late fee (%)"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Percentage penalty for late payments"})]}),a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"gracePeriod",className:"flex items-center gap-2 mb-2",children:[a.jsx(Si,{className:"w-4 h-4 text-gray-500"}),"Grace Period (Days)"]}),a.jsx(Ke,{id:"gracePeriod",type:"number",value:Ae,onChange:Ce=>G(Ce.target.value),disabled:dt,placeholder:"Grace period (days)"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Days before late fee is applied"})]})]}),a.jsx(ar,{className:"my-6"}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium text-blue-900 mb-3 flex items-center gap-2",children:[a.jsx($r,{className:"w-4 h-4"}),"Example Calculation (1,000,000 unit)"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-700",children:"Down Payment"}),a.jsxs("p",{className:"font-semibold text-blue-900",children:["",(1e6*(parseInt(re)/100)).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-700",children:"Balance"}),a.jsxs("p",{className:"font-semibold text-blue-900",children:["",(1e6*(1-parseInt(re)/100)).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-700",children:"Monthly Payment"}),a.jsxs("p",{className:"font-semibold text-blue-900",children:["",Math.round(1e6*(1-parseInt(re)/100)/parseInt(X)).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-700",children:"Total Duration"}),a.jsxs("p",{className:"font-semibold text-blue-900",children:[X," months (",Math.round(parseInt(X)/12)," years)"]})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsxs(Pe,{onClick:()=>Et("Payment Terms"),disabled:l||dt,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700",children:[a.jsx(If,{className:"w-4 h-4"}),l?"Saving...":"Save Changes"]})})]})}),a.jsx(Fi,{value:"users",className:"space-y-6 mt-6",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-50 flex items-center justify-center",children:a.jsx(Zs,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage roles for your organization users"})]})]}),(t==null?void 0:t.org_code)&&a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 text-xs text-gray-600",children:["Org ID: ",a.jsx("span",{className:"font-semibold text-gray-900",children:t.org_code})]}),a.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>{if(!(t!=null&&t.slug)){ie.error("Organization slug missing",{description:"Update your organization details first."});return}S(!0)},disabled:!sr,children:"Add User"})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Pending access requests"}),A&&a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600",children:"Loading requests..."}),!A&&E.length===0&&a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600",children:"No pending requests."}),!A&&E.map(Ce=>a.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border border-gray-200 bg-white p-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:Ce.full_name||Ce.email}),a.jsx("p",{className:"text-xs text-gray-500",children:Ce.email})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(Ft,{value:T[Ce.id]??"viewer",onValueChange:Je=>M(et=>({...et,[Ce.id]:Je})),disabled:!sr&&!Kt,children:[a.jsx(zt,{className:"h-8 w-[150px]",children:a.jsx(Bt,{placeholder:"Select role"})}),a.jsxs(Ut,{children:[sr&&a.jsx(Ie,{value:"admin",children:"Executive"}),a.jsx(Ie,{value:"manager",children:"Manager"}),a.jsx(Ie,{value:"viewer",children:"Encoder"})]})]}),a.jsx(Pe,{size:"sm",onClick:()=>He(Ce.id),disabled:!sr&&!Kt,children:"Approve"}),a.jsx(Pe,{size:"sm",variant:"outline",onClick:()=>Xe(Ce.id),disabled:!sr&&!Kt,children:"Reject"})]})]},Ce.id))]}),a.jsxs("div",{className:"space-y-3",children:[g&&a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600",children:"Loading users..."}),!g&&p.length===0&&a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 text-sm text-gray-600",children:"No users found in this organization."}),!g&&p.map(Ce=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-semibold",children:Ye(Ce.full_name)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:Ce.full_name}),a.jsx("p",{className:"text-sm text-gray-600",children:Ce.email})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ze,{className:Be(Ce.role),children:he(Ce.role)}),(()=>{const Je=sr||Kt&&Ce.role==="viewer";return a.jsxs(Ft,{value:Ce.role,onValueChange:et=>Te(Ce.id,et),disabled:!Je||w===Ce.id,children:[a.jsx(zt,{className:"h-8 w-[150px]",children:a.jsx(Bt,{placeholder:"Select role"})}),a.jsxs(Ut,{children:[sr&&a.jsx(Ie,{value:"admin",children:"Executive"}),a.jsx(Ie,{value:"manager",children:"Manager"}),a.jsx(Ie,{value:"viewer",children:"Encoder"})]})]})})(),a.jsxs(Ze,{className:"bg-green-100 text-green-700 border-green-300 flex items-center gap-1",children:[a.jsx(Ks,{className:"w-3 h-3"}),"Active"]})]})]},Ce.id))]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-900",children:[a.jsx("strong",{children:"Note:"})," Share the Org ID so teammates can request access during signup."]})})]})}),a.jsx(Fi,{value:"notifications",className:"space-y-6 mt-6",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-50 flex items-center justify-center",children:a.jsx(as,{className:"w-6 h-6 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Notification Preferences"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Configure how and when you receive notifications"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Communication Channels"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Qs,{className:"w-5 h-5 text-gray-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates via email"})]})]}),a.jsx(ts,{checked:ue,onCheckedChange:ee,disabled:dt})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(wu,{className:"w-5 h-5 text-gray-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"SMS Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive alerts via text message"})]})]}),a.jsx(ts,{checked:W,onCheckedChange:Y,disabled:dt})]})]})]}),a.jsx(ar,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Alert Types"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Si,{className:"w-5 h-5 text-gray-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Payment Reminders"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Notify customers before payment due dates"})]})]}),a.jsx(ts,{checked:se,onCheckedChange:me,disabled:dt})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ln,{className:"w-5 h-5 text-gray-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Overdue Alerts"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Alert on missed or late payments"})]})]}),a.jsx(ts,{checked:we,onCheckedChange:ve,disabled:dt})]})]})]}),a.jsx(ar,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Scheduled Reports"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($r,{className:"w-5 h-5 text-gray-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Weekly Summary"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive weekly performance reports"})]})]}),a.jsx(ts,{checked:K,onCheckedChange:je,disabled:dt})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($r,{className:"w-5 h-5 text-gray-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Monthly Reports"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Detailed monthly analytics and insights"})]})]}),a.jsx(ts,{checked:Q,onCheckedChange:ke,disabled:dt})]})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsxs(Pe,{onClick:()=>Et("Notification"),disabled:l||dt,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700",children:[a.jsx(If,{className:"w-4 h-4"}),l?"Saving...":"Save Preferences"]})})]})}),a.jsx(Fi,{value:"system",className:"space-y-6 mt-6",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-50 flex items-center justify-center",children:a.jsx(ju,{className:"w-6 h-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"System Preferences"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Configure regional and display settings"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"currency",className:"flex items-center gap-2 mb-2",children:[a.jsx(Yr,{className:"w-4 h-4 text-gray-500"}),"Currency"]}),a.jsxs("select",{id:"currency",value:Oe,onChange:Ce=>$e(Ce.target.value),disabled:dt,className:"w-full h-10 px-3 border border-gray-200 rounded-lg text-sm bg-white disabled:bg-gray-50 disabled:text-gray-500",children:[a.jsx("option",{value:"PHP",children:"Philippine Peso ()"}),a.jsx("option",{value:"USD",children:"US Dollar ($)"}),a.jsx("option",{value:"EUR",children:"Euro ()"})]})]}),a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"dateFormat",className:"flex items-center gap-2 mb-2",children:[a.jsx(Pn,{className:"w-4 h-4 text-gray-500"}),"Date Format"]}),a.jsxs("select",{id:"dateFormat",value:Fe,onChange:Ce=>ct(Ce.target.value),disabled:dt,className:"w-full h-10 px-3 border border-gray-200 rounded-lg text-sm bg-white disabled:bg-gray-50 disabled:text-gray-500",children:[a.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),a.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),a.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"timezone",className:"flex items-center gap-2 mb-2",children:[a.jsx(N2,{className:"w-4 h-4 text-gray-500"}),"Timezone"]}),a.jsxs("select",{id:"timezone",value:ut,onChange:Ce=>_t(Ce.target.value),disabled:dt,className:"w-full h-10 px-3 border border-gray-200 rounded-lg text-sm bg-white disabled:bg-gray-50 disabled:text-gray-500",children:[a.jsx("option",{value:"Asia/Manila",children:"Asia/Manila (GMT+8)"}),a.jsx("option",{value:"Asia/Singapore",children:"Asia/Singapore (GMT+8)"}),a.jsx("option",{value:"Asia/Hong_Kong",children:"Asia/Hong Kong (GMT+8)"})]})]}),a.jsxs("div",{children:[a.jsxs(We,{htmlFor:"fiscalYear",className:"flex items-center gap-2 mb-2",children:[a.jsx(Pn,{className:"w-4 h-4 text-gray-500"}),"Fiscal Year Start"]}),a.jsxs("select",{id:"fiscalYear",value:mt,onChange:Ce=>Ge(Ce.target.value),disabled:dt,className:"w-full h-10 px-3 border border-gray-200 rounded-lg text-sm bg-white disabled:bg-gray-50 disabled:text-gray-500",children:[a.jsx("option",{value:"January",children:"January"}),a.jsx("option",{value:"April",children:"April"}),a.jsx("option",{value:"July",children:"July"}),a.jsx("option",{value:"October",children:"October"})]})]})]}),Wt&&a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"my-6"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Simulation Data"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Seed a realistic dataset for this organization to run a full end-to-end test."}),a.jsxs("div",{className:"mt-4 flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50 p-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Seed current org"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Adds a simulation project, units, customers, schedules, and payments."})]}),a.jsx(Pe,{onClick:Ct,disabled:d,className:"flex items-center gap-2 bg-gray-900 hover:bg-gray-800",children:d?"Seeding...":"Seed Current Org"})]})]})]}),a.jsx(ar,{className:"my-6"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"System Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-gray-600",children:"Version"}),a.jsx("p",{className:"font-semibold text-gray-900",children:it})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-gray-600",children:"Last Updated"}),a.jsx("p",{className:"font-semibold text-gray-900",children:"Live data"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-gray-600",children:"Database"}),a.jsx("p",{className:"font-semibold text-gray-900",children:"Supabase"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-gray-600",children:"Environment"}),a.jsx("p",{className:"font-semibold text-gray-900",children:wt})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsxs(Pe,{onClick:()=>Et("System"),disabled:l||dt,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700",children:[a.jsx(If,{className:"w-4 h-4"}),l?"Saving...":"Save Preferences"]})})]})})]}),a.jsx(ei,{open:x,onOpenChange:S,children:a.jsxs(ti,{className:"sm:max-w-[520px]",children:[a.jsxs(ri,{children:[a.jsx(ni,{children:"Invite a user"}),a.jsx(ii,{children:"Share this Org ID so new teammates can request access during signup."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"inviteLink",children:"Org ID"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ke,{id:"inviteLink",value:C,readOnly:!0}),a.jsx(Pe,{type:"button",variant:"outline",onClick:async()=>{if(C)try{await navigator.clipboard.writeText(C),ie.success("Org ID copied")}catch{ie.error("Copy failed",{description:"Select and copy the Org ID manually."})}},children:"Copy"})]})]}),a.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3 text-xs text-gray-600",children:'Ask the user to choose "Join Org" during signup and paste this Org ID.'})]})]})})]})}const jR="documents";function Vle({currentRole:e,organizationId:t}){const[r,n]=j.useState("grid"),[i,s]=j.useState(""),[l,u]=j.useState("all"),[d,f]=j.useState("all"),[p,h]=j.useState([]),[g,v]=j.useState(!1),[w,b]=j.useState(null),[x,S]=j.useState(0),[C,k]=j.useState(!1),[E,_]=j.useState(null),[A,P]=j.useState("contracts"),[T,M]=j.useState(null),[R,D]=j.useState(""),[q,F]=j.useState(!1),[$,L]=j.useState([]),[B,Z]=j.useState(null);j.useEffect(()=>{if(!t){h([]),v(!1),b(null);return}let W=!0;return(async()=>{try{v(!0),b(null);const{data:se,error:me}=await pe.from("documents").select(`
            id,
            file_name,
            file_type,
            file_size,
            storage_path,
            document_type,
            description,
            created_at,
            unit:units(block_lot),
            uploaded_by
          `).eq("organization_id",t).order("created_at",{ascending:!1}).limit(500);if(me)throw me;const we=se??[],ve=Array.from(new Set(we.map(Q=>Q.uploaded_by).filter(Q=>!!Q)));let K=new Map;if(ve.length>0){const{data:Q,error:ke}=await pe.from("users").select("id, full_name, role").in("id",ve);if(ke)throw ke;(Q??[]).forEach(Oe=>{K.set(Oe.id,Oe)})}const je=we.map(Q=>{var Fe;const ke=te(Q.document_type,Q.file_name),Oe=Q.uploaded_by?K.get(Q.uploaded_by):null,$e=((Oe==null?void 0:Oe.full_name)??"System").trim()||"System";return{id:Q.id,name:Q.file_name,category:ke,type:Q.file_type.toUpperCase(),size:re(Q.file_size),uploadedBy:$e,uploadedAt:Q.created_at,unitNumber:((Fe=Q.unit)==null?void 0:Fe.block_lot)??void 0,description:Q.description??void 0,storagePath:Q.storage_path}});if(!W)return;h(je)}catch(se){if(!W)return;b(se instanceof Error?se.message:"Unable to load documents.")}finally{W&&v(!1)}})(),()=>{W=!1}},[t,x]),j.useEffect(()=>{if(!t){L([]);return}let W=!0;return(async()=>{const{data:se,error:me}=await pe.from("units").select("id, block_lot").eq("organization_id",t).order("block_lot",{ascending:!0});if(me||!W)return;const we=(se??[]).map(ve=>({id:ve.id,label:ve.block_lot??""}));L(we)})(),()=>{W=!1}},[t]),j.useEffect(()=>{let W=!0;return(async()=>{var me;const{data:se}=await pe.auth.getUser();W&&Z(((me=se==null?void 0:se.user)==null?void 0:me.id)??null)})(),()=>{W=!1}},[]);const z=W=>{switch(W){case"contracts":return $r;case"receipts":return py;case"statements":return $r;case"legal":return py;default:return py}},te=(W,Y)=>{const se=`${W??""} ${Y}`.toLowerCase();return se.includes("contract")?"contracts":se.includes("receipt")?"receipts":se.includes("statement")||se.includes("soa")?"statements":se.includes("legal")||se.includes("title")||se.includes("deed")?"legal":"other"},re=W=>{if(!W||W<=0)return"";const Y=W/1024;return Y<1024?`${Y.toFixed(1)} KB`:`${(Y/1024).toFixed(1)} MB`},V=W=>{const Y=W.trim();return Y?Y.split(" ").map(se=>se[0]).filter(Boolean).slice(0,2).join(""):"NA"},X=W=>{switch(W){case"contracts":return{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"};case"receipts":return{bg:"bg-green-50",text:"text-green-700",border:"border-green-200"};case"statements":return{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200"};case"legal":return{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200"};default:return{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"}}},le=W=>new Date(W).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),ce=()=>{k(!0)},Se=async()=>{if(!t){ie.error("Upload failed",{description:"Organization not loaded."});return}if(!E){ie.error("Upload failed",{description:"Select a file to upload."});return}if(e==="Encoder"&&A==="legal"){ie.error("Permission Denied",{description:"Encoder role cannot upload legal documents"});return}try{F(!0);const W=E.name.replace(/[^a-zA-Z0-9._-]/g,"_"),Y=T?`units/${T}`:"units/unassigned",se=`organizations/${t}/${Y}/${A}/${Date.now()}_${W}`,{error:me}=await pe.storage.from(jR).upload(se,E,{contentType:E.type||void 0,upsert:!1});if(me)throw me;const{error:we}=await pe.from("documents").insert({organization_id:t,unit_id:T,uploaded_by:B,file_name:E.name,file_type:E.type||"application/octet-stream",file_size:E.size,storage_path:se,document_type:A,description:R.trim()||null});if(we)throw we;ie.success("Document uploaded",{description:"Your file is now available in the document library."}),k(!1),_(null),P("contracts"),M(null),D(""),S(ve=>ve+1)}catch(W){ie.error("Upload failed",{description:W instanceof Error?W.message:"Please try again."})}finally{F(!1)}},xe=async W=>{if(!W.storagePath){ie.error("Download failed",{description:"Missing storage path."});return}try{const{data:Y,error:se}=await pe.storage.from(jR).createSignedUrl(W.storagePath,60);if(se||!(Y!=null&&Y.signedUrl))throw se??new Error("Unable to create signed URL.");window.open(Y.signedUrl,"_blank","noopener")}catch(Y){ie.error("Download failed",{description:Y instanceof Error?Y.message:"Please try again."})}},ye=async W=>{await xe(W)},Ae=W=>{if(e!=="Executive"){ie.error("Permission Denied",{description:"Only Executives can delete documents"});return}ie.success(`Deleted ${W.name}`,{description:"Document moved to trash"})},G=p.filter(W=>{var Y,se;return!(i&&!W.name.toLowerCase().includes(i.toLowerCase())&&!((Y=W.description)!=null&&Y.toLowerCase().includes(i.toLowerCase()))&&!((se=W.unitNumber)!=null&&se.toLowerCase().includes(i.toLowerCase()))||l!=="all"&&W.category!==l||d!=="all"&&W.unitNumber!==d)}),ue=Array.from(new Set(p.map(W=>W.unitNumber).filter(Boolean))).sort(),ee={contracts:p.filter(W=>W.category==="contracts").length,receipts:p.filter(W=>W.category==="receipts").length,statements:p.filter(W=>W.category==="statements").length,legal:p.filter(W=>W.category==="legal").length,other:p.filter(W=>W.category==="other").length};return a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsx(ei,{open:C,onOpenChange:k,children:a.jsxs(ti,{className:"sm:max-w-[560px]",children:[a.jsxs(ri,{children:[a.jsx(ni,{children:"Upload Document"}),a.jsx(ii,{children:"Store contracts, receipts, and statements for unit records."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(We,{htmlFor:"documentFile",children:"File"}),a.jsx(Ke,{id:"documentFile",type:"file",accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx",onChange:W=>{var Y;return _(((Y=W.target.files)==null?void 0:Y[0])??null)}}),E&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",E.name]})]}),a.jsxs("div",{children:[a.jsx(We,{children:"Category"}),a.jsxs(Ft,{value:A,onValueChange:W=>P(W),children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:"Select category"})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"contracts",children:"Contracts"}),a.jsx(Ie,{value:"receipts",children:"Receipts"}),a.jsx(Ie,{value:"statements",children:"Statements"}),a.jsx(Ie,{value:"legal",children:"Legal"}),a.jsx(Ie,{value:"other",children:"Other"})]})]})]}),a.jsxs("div",{children:[a.jsx(We,{children:"Unit (optional)"}),a.jsxs(Ft,{value:T??"none",onValueChange:W=>M(W==="none"?null:W),children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:"Select unit"})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"none",children:"Unassigned"}),$.map(W=>a.jsx(Ie,{value:W.id,children:W.label},W.id))]})]})]}),a.jsxs("div",{children:[a.jsx(We,{htmlFor:"documentDescription",children:"Description (optional)"}),a.jsx(qi,{id:"documentDescription",value:R,onChange:W=>D(W.target.value),placeholder:"Add any notes about this document.",rows:3})]})]}),a.jsxs(rI,{children:[a.jsx(Pe,{variant:"outline",onClick:()=>k(!1),disabled:q,children:"Cancel"}),a.jsx(Pe,{onClick:Se,disabled:q,className:"bg-red-600 hover:bg-red-700",children:q?"Uploading...":"Upload Document"})]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Document Management"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Upload, organize, and manage all project documents"})]}),a.jsxs(Pe,{onClick:ce,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700",children:[a.jsx(gp,{className:"w-4 h-4"}),"Upload Document"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:["contracts","receipts","statements","legal","other"].map(W=>{const Y=X(W),se=z(W);return a.jsx(Ne,{className:`p-4 cursor-pointer transition-all ${l===W?`${Y.bg} border-2 ${Y.border}`:"hover:shadow-md"}`,onClick:()=>u(l===W?"all":W),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg ${Y.bg} flex items-center justify-center`,children:a.jsx(se,{className:`w-5 h-5 ${Y.text}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ee[W]}),a.jsx("p",{className:"text-xs text-gray-600 capitalize",children:W})]})]})},W)})}),a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(si,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),a.jsx(Ke,{placeholder:"Search documents by name, unit, or description...",value:i,onChange:W=>s(W.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ld,{className:"w-5 h-5 text-gray-500"}),a.jsxs("select",{value:d,onChange:W=>f(W.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[a.jsx("option",{value:"all",children:"All Units"}),ue.map(W=>a.jsx("option",{value:W,children:W},W))]})]}),a.jsxs("div",{className:"flex items-center gap-1 border border-gray-200 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>n("grid"),className:`p-2 rounded transition-colors ${r==="grid"?"bg-red-50 text-red-600":"text-gray-600 hover:bg-gray-50"}`,children:a.jsx(L1,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>n("list"),className:`p-2 rounded transition-colors ${r==="list"?"bg-red-50 text-red-600":"text-gray-600 hover:bg-gray-50"}`,children:a.jsx(F1,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:G.length})," documents"]})]}),l!=="all"&&a.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[a.jsx(Ze,{className:`${X(l).bg} ${X(l).text} ${X(l).border}`,children:l.charAt(0).toUpperCase()+l.slice(1)}),a.jsx("button",{onClick:()=>u("all"),className:"text-sm text-gray-600 hover:text-gray-900",children:"Clear filter"})]})]}),g?a.jsx(Ne,{className:"p-6 text-sm text-gray-600",children:"Loading documents..."}):w?a.jsx(Ne,{className:"p-6 text-sm text-red-600",children:w}):r==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G.map(W=>{const Y=X(W.category),se=z(W.category);return a.jsxs(Ne,{className:"p-5 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${Y.bg} flex items-center justify-center flex-shrink-0`,children:a.jsx(se,{className:`w-6 h-6 ${Y.text}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate mb-1",children:W.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ze,{className:`${Y.bg} ${Y.text} ${Y.border} text-xs`,children:W.category}),W.unitNumber&&a.jsx(Ze,{variant:"outline",className:"text-xs",children:W.unitNumber})]})]})]}),W.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:W.description}),a.jsx(ar,{className:"my-4"}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Size"}),a.jsx("span",{className:"font-medium text-gray-900",children:W.size})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Type"}),a.jsx("span",{className:"font-medium text-gray-900",children:W.type})]}),W.version&&a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Version"}),a.jsxs("span",{className:"font-medium text-gray-900",children:["v",W.version]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm",children:[a.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white text-xs font-semibold",children:V(W.uploadedBy)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-gray-700 truncate",children:W.uploadedBy}),a.jsx("p",{className:"text-gray-500 text-xs",children:le(W.uploadedAt)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>ye(W),className:"flex-1 flex items-center justify-center gap-2",children:[a.jsx(bu,{className:"w-4 h-4"}),"Preview"]}),a.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>xe(W),className:"flex-1 flex items-center justify-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"}),"Download"]}),e==="Executive"&&a.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Ae(W),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(_u,{className:"w-4 h-4"})})]})]},W.id)})}):a.jsx(Ne,{className:"divide-y divide-gray-200",children:G.map(W=>{const Y=X(W.category),se=z(W.category);return a.jsx("div",{className:"p-5 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${Y.bg} flex items-center justify-center flex-shrink-0`,children:a.jsx(se,{className:`w-6 h-6 ${Y.text}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:W.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ze,{className:`${Y.bg} ${Y.text} ${Y.border} text-xs`,children:W.category}),W.unitNumber&&a.jsx(Ze,{variant:"outline",className:"text-xs",children:W.unitNumber})]})]}),W.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:W.description}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white text-xs font-semibold",children:V(W.uploadedBy)}),a.jsx("span",{children:W.uploadedBy})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Si,{className:"w-4 h-4"}),a.jsx("span",{children:le(W.uploadedAt)})]}),a.jsx("span",{children:W.size}),a.jsx("span",{children:W.type}),W.version&&a.jsxs("span",{children:["v",W.version]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>ye(W),className:"flex items-center gap-2",children:[a.jsx(bu,{className:"w-4 h-4"}),"Preview"]}),a.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>xe(W),className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"}),"Download"]}),e==="Executive"&&a.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Ae(W),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(_u,{className:"w-4 h-4"})})]})]})},W.id)})}),!g&&!w&&G.length===0&&a.jsxs(Ne,{className:"p-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-50 flex items-center justify-center mx-auto mb-4",children:a.jsx(si,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"No documents found"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Try adjusting your filters or search query"}),a.jsxs(Pe,{onClick:ce,className:"bg-red-600 hover:bg-red-700",children:[a.jsx(gp,{className:"w-4 h-4 mr-2"}),"Upload First Document"]})]})]})}const Kle={admin:"Executive",manager:"Manager",viewer:"Encoder",encoder:"Encoder"},Q4={payment_recorded:"Payment Recorded",payment_intent_created:"Payment Request Submitted",payment_intent_approved:"Payment Request Approved",payment_intent_rejected:"Payment Request Rejected",payment_intent_assigned:"Payment Request Assigned",unit_status_changed:"Unit Status Updated",document_uploaded:"Document Uploaded",document_deleted:"Document Deleted",customer_portal_login_success:"Portal Login Success",customer_portal_login_failed:"Portal Login Failed",user_login:"User Login",user_logout:"User Logout",report_exported:"Report Exported",settings_changed:"Settings Changed"},Gle=(e,t)=>{var S,C;const r=e.changes??{},n=r.unit_id??(e.entity_type==="unit"?e.entity_id??void 0:void 0),i=n?t.get(n):void 0,s=typeof r.amount=="number"?r.amount:void 0,l=typeof r.reference_number=="string"?r.reference_number:void 0,u=typeof r.payment_method=="string"?r.payment_method:void 0,d=typeof r.file_name=="string"?r.file_name:void 0,f=typeof r.from=="string"?r.from:void 0,p=typeof r.to=="string"?r.to:void 0,h=typeof r.attempts=="number"?r.attempts:void 0,g=((S=e.user)==null?void 0:S.full_name)??"System",v=Kle[((C=e.user)==null?void 0:C.role)??""]??"Executive";let w=Q4[e.action]??e.action.replace(/_/g," "),b,x="success";switch(e.action){case"payment_recorded":w=`Recorded payment${i?` for Unit ${i}`:""}`,b=[u,l].filter(Boolean).join("  ")||"Payment received";break;case"payment_intent_created":w=`Payment request submitted${i?` for Unit ${i}`:""}`,b=[u,l].filter(Boolean).join("  ")||"Awaiting approval",x="warning";break;case"payment_intent_assigned":w=`Payment request assigned${i?` for Unit ${i}`:""}`,b="Assigned to a reviewer",x="warning";break;case"payment_intent_approved":w=`Payment request approved${i?` for Unit ${i}`:""}`,b="Approved by admin";break;case"payment_intent_rejected":w=`Payment request rejected${i?` for Unit ${i}`:""}`,b="Rejected by admin",x="error";break;case"unit_status_changed":w=`Updated unit status${i?` for Unit ${i}`:""}`,b=[f&&`From ${f}`,p&&`To ${p}`].filter(Boolean).join("  ")||void 0;break;case"document_uploaded":w=`Uploaded document${i?` for Unit ${i}`:""}`,b=d??"Document uploaded";break;case"document_deleted":w=`Deleted document${i?` for Unit ${i}`:""}`,b=d??"Document deleted",x="error";break;case"customer_portal_login_failed":w=`Customer portal login failed${i?` for Unit ${i}`:""}`,b=h?`${h} failed attempt${h===1?"":"s"}`:void 0,x="warning";break;case"customer_portal_login_success":w=`Customer portal login success${i?` for Unit ${i}`:""}`,b="Customer authenticated";break}return{id:e.id,type:e.action,description:w,user:g,userRole:v,timestamp:e.created_at,details:b,amount:s,unitNumber:i,status:x}};function Yle({currentRole:e}){const[t,r]=j.useState(""),[n,i]=j.useState("all"),[s,l]=j.useState("all"),[u,d]=j.useState("week"),[f,p]=j.useState([]),[h,g]=j.useState(!0),[v,w]=j.useState(null);j.useEffect(()=>{let P=!0;const T=async()=>{try{g(!0),w(null);const{data:R,error:D}=await pe.from("activity_logs").select("id, action, entity_type, entity_id, changes, created_at, user:users(full_name, role)").order("created_at",{ascending:!1}).limit(200);if(D)throw D;const q=R??[],F=new Set;q.forEach(L=>{const B=L.changes??{},Z=typeof B.unit_id=="string"?B.unit_id:null;Z&&F.add(Z),L.entity_type==="unit"&&L.entity_id&&F.add(L.entity_id)});let $=new Map;if(F.size>0){const{data:L,error:B}=await pe.from("units").select("id, block_lot").in("id",Array.from(F));if(B)throw B;$=new Map((L??[]).map(Z=>[Z.id,Z.block_lot]))}if(!P)return;p(q.map(L=>Gle(L,$)))}catch(R){yn(R,{source:"ActivityLogView.fetchActivityLogs"}),P&&w(R)}finally{P&&g(!1)}};T();const M=pe.channel("activity_logs_changes").on("postgres_changes",{event:"*",schema:"public",table:"activity_logs"},T).subscribe();return()=>{P=!1,M.unsubscribe()}},[]);const b=P=>P.startsWith("payment_")||P.startsWith("payment_intent")?Yr:P.startsWith("unit_")?$r:P.startsWith("document_")?gp:P.startsWith("customer_portal_login")?DB:P==="user_logout"?B1:P==="settings_changed"?ju:P==="report_exported"?Nn:ln,x=P=>P.startsWith("payment_")||P.startsWith("payment_intent")?{bg:"bg-green-50",text:"text-green-600",border:"border-green-200"}:P.startsWith("unit_")?{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200"}:P.startsWith("document_")?{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200"}:P.startsWith("customer_portal_login")?{bg:"bg-amber-50",text:"text-amber-600",border:"border-amber-200"}:P==="report_exported"?{bg:"bg-indigo-50",text:"text-indigo-600",border:"border-indigo-200"}:{bg:"bg-gray-50",text:"text-gray-600",border:"border-gray-200"},S=P=>{switch(P){case"success":return a.jsx(yl,{className:"w-4 h-4 text-green-600"});case"warning":return a.jsx(ln,{className:"w-4 h-4 text-amber-600"});case"error":return a.jsx(ln,{className:"w-4 h-4 text-red-600"});default:return null}},C=P=>{const T=new Date(P),R=new Date().getTime()-T.getTime(),D=Math.floor(R/6e4),q=Math.floor(R/36e5),F=Math.floor(R/864e5);return D<60?`${D} ${D===1?"minute":"minutes"} ago`:q<24?`${q} ${q===1?"hour":"hours"} ago`:F<7?`${F} ${F===1?"day":"days"} ago`:T.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},k=P=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(P),E=()=>{ie.success("Exporting activity log",{description:`Activity_Log_${u}.csv`})},_=j.useMemo(()=>{const P=new Set(f.map(T=>T.type));return Array.from(P).sort((T,M)=>T.localeCompare(M))},[f]),A=f.filter(P=>{var T,M;if(t&&!P.description.toLowerCase().includes(t.toLowerCase())&&!((T=P.details)!=null&&T.toLowerCase().includes(t.toLowerCase()))&&!((M=P.unitNumber)!=null&&M.toLowerCase().includes(t.toLowerCase()))||n!=="all"&&P.type!==n||s!=="all"&&P.userRole!==s)return!1;if(u!=="all"){const R=new Date(P.timestamp),D=new Date,q=new Date(D.getFullYear(),D.getMonth(),D.getDate());if(u==="today"){if(R<q)return!1}else if(u==="week"){const F=new Date(q);if(F.setDate(F.getDate()-7),R<F)return!1}else if(u==="month"){const F=new Date(q);if(F.setDate(F.getDate()-30),R<F)return!1}}return!0});return a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Activity Log"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Complete audit trail of all system activities"})]}),a.jsxs(Pe,{variant:"outline",size:"sm",onClick:E,className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"}),"Export Log"]})]}),a.jsx(Ne,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(si,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),a.jsx(Ke,{placeholder:"Search activities, units, or details...",value:t,onChange:P=>r(P.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pn,{className:"w-5 h-5 text-gray-500"}),a.jsx("div",{className:"flex gap-1",children:["today","week","month","all"].map(P=>a.jsx("button",{onClick:()=>d(P),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${u===P?"bg-red-50 text-red-600 border border-red-200":"text-gray-600 hover:bg-gray-50 border border-transparent"}`,children:P==="today"?"Today":P==="week"?"This Week":P==="month"?"This Month":"All Time"},P))})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ld,{className:"w-5 h-5 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Activity Type:"}),a.jsxs("select",{value:n,onChange:P=>i(P.target.value),className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm bg-white",children:[a.jsx("option",{value:"all",children:"All Types"}),_.map(P=>a.jsx("option",{value:P,children:Q4[P]??P.replace(/_/g," ")},P))]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xl,{className:"w-5 h-5 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"User Role:"}),a.jsxs("select",{value:s,onChange:P=>l(P.target.value),className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm bg-white",children:[a.jsx("option",{value:"all",children:"All Users"}),a.jsx("option",{value:"Executive",children:"Executive"}),a.jsx("option",{value:"Manager",children:"Manager"}),a.jsx("option",{value:"Encoder",children:"Encoder"})]})]}),a.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold text-gray-900",children:A.length})," activities"]})]})]})}),a.jsxs("div",{className:"space-y-3",children:[h&&a.jsx(Ne,{className:"p-6 text-sm text-gray-600",children:"Loading activity log..."}),v&&!h&&a.jsx(Ne,{className:"p-6 text-sm text-red-600",children:"Unable to load activity logs. Please refresh or check permissions."}),!h&&!v&&A.map((P,T)=>{const M=b(P.type),R=x(P.type);return a.jsx(Ne,{className:"p-5 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${R.bg} flex items-center justify-center flex-shrink-0`,children:a.jsx(M,{className:`w-6 h-6 ${R.text}`})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("div",{className:"flex items-start justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:P.description}),P.status&&S(P.status)]}),P.details&&a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:P.details}),a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white text-xs font-semibold",children:P.user.split(" ").map(D=>D[0]).join("")}),a.jsx("span",{className:"text-sm text-gray-700",children:P.user}),a.jsx(Ze,{className:P.userRole==="Executive"?"bg-purple-100 text-purple-700 border-purple-300 text-xs":P.userRole==="Manager"?"bg-blue-100 text-blue-700 border-blue-300 text-xs":"bg-gray-100 text-gray-700 border-gray-300 text-xs",children:P.userRole})]}),P.unitNumber&&a.jsx(Ze,{variant:"outline",className:"text-xs",children:P.unitNumber}),P.amount&&a.jsx("span",{className:"text-sm font-semibold text-green-700",children:k(P.amount)}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 ml-auto",children:[a.jsx(Si,{className:"w-4 h-4"}),C(P.timestamp)]})]})]})})})]})},P.id)})]}),!h&&!v&&A.length===0&&a.jsxs(Ne,{className:"p-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-50 flex items-center justify-center mx-auto mb-4",children:a.jsx(si,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"No activities found"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Try adjusting your filters or search query"})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Activity Summary"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-700",children:f.filter(P=>P.type==="payment_recorded").length}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Payments Recorded"})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-700",children:f.filter(P=>P.type==="unit_status_changed").length}),a.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Unit Status Updates"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-700",children:f.filter(P=>P.type==="document_uploaded").length}),a.jsx("p",{className:"text-sm text-purple-600 mt-1",children:"Documents Uploaded"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-700",children:f.filter(P=>P.type==="customer_portal_login_success").length}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Portal Logins"})]})]})]})]})}function Xle({currentRole:e,organizationId:t,selectedProject:r,projectOptions:n}){const[i,s]=j.useState("templates"),[l,u]=j.useState("all"),[d,f]=j.useState(""),[p,h]=j.useState([]),[g,v]=j.useState(!1),[w,b]=j.useState(null),[x,S]=j.useState(!1),[C,k]=j.useState(null),[E,_]=j.useState({name:"",type:"sms",trigger:"custom",subject:"",content:"",isActive:!0}),[A,P]=j.useState([]),[T,M]=j.useState(!1),[R,D]=j.useState(null),[q,F]=j.useState(!1),[$,L]=j.useState({projectId:"",title:"",message:"",status:"draft",sendToCustomers:!1,notifyChannel:"sms",publishAt:"",expiresAt:""}),[B,Z]=j.useState(!1),[z,te]=j.useState([]),[re,V]=j.useState(!1),[X,le]=j.useState(null),[ce,Se]=j.useState(!1),[xe,ye]=j.useState({projectId:"",title:"",message:"",status:"draft",sendToCustomers:!1,notifyChannel:"sms",remindAt:"",expiresAt:""}),[Ae,G]=j.useState(!1),[ue,ee]=j.useState([]),[W,Y]=j.useState(!1),[se,me]=j.useState(null),[we,ve]=j.useState([]),[K,je]=j.useState(!1),[Q,ke]=j.useState(null),[Oe,$e]=j.useState(!1),[Fe,ct]=j.useState({name:"",templateId:"",type:"sms",scheduledFor:"",projectId:"",status:"all"}),[ut,_t]=j.useState(!1),mt=[{value:"all",label:"All Statuses"},{value:"overdue",label:"Overdue"},{value:"at_risk",label:"At Risk"},{value:"critical",label:"Critical"},{value:"in_payment_cycle",label:"In Payment Cycle"},{value:"available",label:"Available"},{value:"fully_paid",label:"Fully Paid"}],Ge=e==="Encoder",it=j.useMemo(()=>{var U;return r==="All Projects"?null:((U=n.find(_e=>_e.name===r))==null?void 0:U.id)??null},[n,r]),wt=async()=>{if(!t){ve([]),je(!1);return}try{je(!0),ke(null);const{data:U,error:_e}=await pe.from("communications_dispatch").select("id, name, channel, status, scheduled_for, sent_at, recipients_count, template:template_configs(name)").eq("organization_id",t).order("created_at",{ascending:!1});if(_e)throw _e;const yt=(U??[]).map(St=>{var Me;return{id:St.id,name:St.name,type:St.channel??"sms",template:((Me=St.template)==null?void 0:Me.name)??"Template",recipients:St.recipients_count??0,scheduledFor:St.scheduled_for??void 0,sentAt:St.sent_at??void 0,status:St.status??"draft"}});ve(yt)}catch(U){ke(U instanceof Error?U.message:"Unable to load campaigns.")}finally{je(!1)}},Pt=U=>{switch(U){case"payment_reminder":return"Payment Reminder";case"payment_received":return"Payment Received";case"overdue_alert":return"Overdue Alert";case"welcome":return"Welcome";case"statement":return"Statement";case"custom":return"Custom"}},dt=U=>{switch(U){case"payment_reminder":return{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"};case"payment_received":return{bg:"bg-green-50",text:"text-green-700",border:"border-green-200"};case"overdue_alert":return{bg:"bg-red-50",text:"text-red-700",border:"border-red-200"};case"welcome":return{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200"};case"statement":return{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200"};case"custom":return{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"}}},sr=U=>{switch(U){case"draft":return{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"};case"scheduled":return{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"};case"sent":return{bg:"bg-green-50",text:"text-green-700",border:"border-green-200"}}},Kt=U=>new Date(U).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),Wt=()=>{_({name:"",type:"sms",trigger:"custom",subject:"",content:"",isActive:!0}),k(null)},Tt=async()=>{if(!t){h([]),v(!1);return}try{v(!0),b(null);const{data:U,error:_e}=await pe.from("template_configs").select("id, name, template_type, config, created_at, updated_at").eq("organization_id",t).eq("template_type","communication").order("updated_at",{ascending:!1});if(_e)throw _e;const yt=(U??[]).map(St=>{const Me=St.config??{},tr=Me.type??"sms",Lt=Me.trigger??"custom",Mt=Me.subject??"",or=Me.content??"",rr=Me.is_active!==!1,Cr=St.updated_at??St.created_at??new Date().toISOString();return{id:St.id,name:St.name,type:tr,trigger:Lt,subject:Mt,content:or,isActive:rr,lastModified:Cr,modifiedBy:"System",usageCount:0}});h(yt)}catch(U){b(U instanceof Error?U.message:"Unable to load templates.")}finally{v(!1)}};j.useEffect(()=>{Tt()},[t]),j.useEffect(()=>{wt()},[t]);const dr=U=>{switch(U){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"published":return"bg-green-50 text-green-700 border-green-200";case"archived":return"bg-amber-50 text-amber-700 border-amber-200"}},he=U=>{switch(U){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"published":return"bg-blue-50 text-blue-700 border-blue-200";case"archived":return"bg-amber-50 text-amber-700 border-amber-200"}},Be=U=>{switch(U){case"new":return"bg-red-50 text-red-700 border-red-200";case"reviewed":return"bg-amber-50 text-amber-700 border-amber-200";case"resolved":return"bg-green-50 text-green-700 border-green-200"}},Ye=async()=>{if(!t){P([]),M(!1);return}try{M(!0),D(null);let U=pe.from("project_announcements").select(`
          id,
          project_id,
          title,
          message,
          status,
          publish_at,
          expires_at,
          send_to_customers,
          notify_channel,
          created_at,
          project:projects(name)
        `).eq("organization_id",t).order("created_at",{ascending:!1});it&&(U=U.eq("project_id",it));const{data:_e,error:yt}=await U;if(yt)throw yt;P(_e??[])}catch(U){D(U instanceof Error?U.message:"Unable to load announcements.")}finally{M(!1)}};j.useEffect(()=>{Ye()},[t,it]);const de=async()=>{if(!t){te([]),V(!1);return}try{V(!0),le(null);let U=pe.from("project_reminders").select(`
          id,
          project_id,
          title,
          message,
          status,
          remind_at,
          expires_at,
          send_to_customers,
          notify_channel,
          created_at,
          project:projects(name)
        `).eq("organization_id",t).order("remind_at",{ascending:!1}).order("created_at",{ascending:!1});it&&(U=U.eq("project_id",it));const{data:_e,error:yt}=await U;if(yt)throw yt;te(_e??[])}catch(U){le(U instanceof Error?U.message:"Unable to load reminders.")}finally{V(!1)}};j.useEffect(()=>{de()},[t,it]);const qe=async()=>{if(!t){ee([]),Y(!1);return}try{Y(!0),me(null);let U=pe.from("project_feedback").select(`
          id,
          project_id,
          unit_id,
          subject,
          message,
          status,
          created_at,
          project:projects(name)
        `).eq("organization_id",t).order("created_at",{ascending:!1});it&&(U=U.eq("project_id",it));const{data:_e,error:yt}=await U;if(yt)throw yt;ee(_e??[])}catch(U){me(U instanceof Error?U.message:"Unable to load feedback.")}finally{Y(!1)}};j.useEffect(()=>{qe()},[t,it]);const Te=()=>{if(Ge){ie.error("Permission Denied",{description:"Encoder role cannot create templates"});return}Wt(),S(!0)},He=U=>{if(Ge){ie.error("Permission Denied",{description:"Encoder role cannot edit templates"});return}k(U),_({name:U.name,type:U.type,trigger:U.trigger,subject:U.subject??"",content:U.content,isActive:U.isActive}),S(!0)},Xe=U=>{if(!t)return;const _e={type:U.type,trigger:U.trigger,subject:U.subject??null,content:U.content,is_active:U.isActive};pe.from("template_configs").insert({organization_id:t,name:`${U.name} Copy`,template_type:"communication",config:_e}).then(({error:yt})=>{if(yt){ie.error("Failed to duplicate template",{description:yt.message});return}ie.success("Template duplicated",{description:`Created copy of "${U.name}"`}),Tt()})},Et=U=>{if(e!=="Executive"){ie.error("Permission Denied",{description:"Only Executives can delete templates"});return}pe.from("template_configs").delete().eq("id",U.id).then(({error:_e})=>{if(_e){ie.error("Failed to delete template",{description:_e.message});return}ie.success("Template deleted",{description:`"${U.name}" has been removed`}),Tt()})},Ht=U=>{if(Ge){ie.error("Permission Denied",{description:"Encoder role cannot modify templates"});return}const _e={type:U.type,trigger:U.trigger,subject:U.subject??null,content:U.content,is_active:!U.isActive};pe.from("template_configs").update({config:_e}).eq("id",U.id).then(({error:yt})=>{if(yt){ie.error("Failed to update template",{description:yt.message});return}ie.success(U.isActive?"Template deactivated":"Template activated",{description:U.name}),Tt()})},Ct=()=>{if(Ge){ie.error("Permission Denied",{description:"Encoder role cannot create campaigns"});return}ct({name:"",templateId:"",type:"sms",scheduledFor:"",projectId:"",status:"all"}),$e(!0)},Ce=U=>{if(e==="Encoder"){ie.error("Permission Denied",{description:"Encoder role cannot send campaigns"});return}pe.rpc("communications_dispatch_run",{p_dispatch_id:U.id}).then(({data:_e,error:yt})=>{if(yt){ie.error("Unable to send campaign",{description:yt.message});return}const St=typeof _e=="number"?_e:U.recipients;ie.success("Campaign queued",{description:`${St} messages queued for delivery`}),wt()})},Je=async()=>{if(!t)return;if(!Fe.name.trim()||!Fe.templateId){ie.error("Missing details",{description:"Name and template are required."});return}const U=Fe.scheduledFor?"scheduled":"draft",_e={project_id:Fe.projectId||null,status:Fe.status!=="all"?Fe.status:null},{data:yt,error:St}=await pe.from("communications_dispatch").insert({organization_id:t,name:Fe.name.trim(),template_id:Fe.templateId,channel:Fe.type,status:U,scheduled_for:Fe.scheduledFor||null,recipients_count:0,audience_filter:_e}).select("id").single();if(St){ie.error("Unable to create campaign",{description:St.message});return}if(yt!=null&&yt.id){const{error:Me}=await pe.rpc("communications_dispatch_refresh_recipients",{p_dispatch_id:yt.id});Me&&ie.error("Recipients count not updated",{description:Me.message})}ie.success("Campaign created",{description:Fe.name.trim()}),$e(!1),wt()},et=async()=>{if(e==="Encoder"){ie.error("Permission Denied",{description:"Encoder role cannot run dispatches"});return}try{_t(!0);const{data:U,error:_e}=await pe.rpc("communications_dispatch_run_due");if(_e)throw _e;ie.success("Dispatch run complete",{description:`${U??0} messages queued`}),wt()}catch(U){ie.error("Dispatch run failed",{description:U instanceof Error?U.message:"Please try again."})}finally{_t(!1)}},gt=()=>{L({projectId:"",title:"",message:"",status:"draft",sendToCustomers:!1,notifyChannel:"sms",publishAt:"",expiresAt:""})},Xt=()=>{ye({projectId:"",title:"",message:"",status:"draft",sendToCustomers:!1,notifyChannel:"sms",remindAt:"",expiresAt:""})},ne=async()=>{if(Ge){ie.error("Permission Denied",{description:"Encoder role cannot create announcements"});return}if(!t){ie.error("Organization not found",{description:"Please sign in again."});return}if(!$.projectId||!$.title.trim()||!$.message.trim()){ie.error("Missing details",{description:"Project, title, and message are required."});return}if($.sendToCustomers&&$.status!=="published"){ie.error("Publish before sending",{description:"Announcements must be published before sending."});return}try{Z(!0);const{error:U}=await pe.from("project_announcements").insert([{organization_id:t,project_id:$.projectId,title:$.title.trim(),message:$.message.trim(),status:$.status,send_to_customers:$.sendToCustomers,notify_channel:$.notifyChannel,publish_at:$.publishAt||null,expires_at:$.expiresAt||null}]);if(U)throw U;ie.success("Announcement created",{description:"Customer portal will show this update."}),F(!1),gt(),Ye()}catch(U){ie.error("Unable to create announcement",{description:U instanceof Error?U.message:"Please try again."})}finally{Z(!1)}},tt=async()=>{if(Ge){ie.error("Permission Denied",{description:"Encoder role cannot create reminders"});return}if(!t){ie.error("Organization not found",{description:"Please sign in again."});return}if(!xe.projectId||!xe.title.trim()||!xe.message.trim()){ie.error("Missing details",{description:"Project, title, and message are required."});return}if(xe.sendToCustomers&&xe.status!=="published"){ie.error("Publish before sending",{description:"Reminders must be published before sending."});return}try{G(!0);const{error:U}=await pe.from("project_reminders").insert([{organization_id:t,project_id:xe.projectId,title:xe.title.trim(),message:xe.message.trim(),status:xe.status,send_to_customers:xe.sendToCustomers,notify_channel:xe.notifyChannel,remind_at:xe.remindAt||null,expires_at:xe.expiresAt||null}]);if(U)throw U;ie.success("Reminder created",{description:"Customers will see this reminder in the portal."}),Se(!1),Xt(),de()}catch(U){ie.error("Unable to create reminder",{description:U instanceof Error?U.message:"Please try again."})}finally{G(!1)}},ze=async()=>{if(!t)return;if(!E.name.trim()||!E.content.trim()){ie.error("Missing details",{description:"Name and content are required."});return}const U={organization_id:t,name:E.name.trim(),template_type:"communication",config:{type:E.type,trigger:E.trigger,subject:E.type==="email"?E.subject.trim():null,content:E.content.trim(),is_active:E.isActive}};try{if(C){const{error:_e}=await pe.from("template_configs").update(U).eq("id",C.id);if(_e)throw _e;ie.success("Template updated",{description:E.name})}else{const{error:_e}=await pe.from("template_configs").insert(U);if(_e)throw _e;ie.success("Template created",{description:E.name})}S(!1),Wt(),Tt()}catch(_e){ie.error("Failed to save template",{description:_e instanceof Error?_e.message:"Please try again."})}},ht=p.filter(U=>!(l!=="all"&&U.type!==l||d&&!U.name.toLowerCase().includes(d.toLowerCase())&&!U.content.toLowerCase().includes(d.toLowerCase())));return a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Communications"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage SMS and email templates for automated customer communications"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[i==="templates"&&a.jsxs(Pe,{onClick:Te,disabled:Ge,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700",children:[a.jsx(z1,{className:"w-4 h-4"}),"New Template"]}),i==="campaigns"&&a.jsxs(a.Fragment,{children:[a.jsxs(Pe,{onClick:et,disabled:Ge||ut,variant:"outline",className:"flex items-center gap-2",children:[a.jsx(Si,{className:"w-4 h-4"}),ut?"Running...":"Run Due"]}),a.jsxs(Pe,{onClick:Ct,disabled:Ge,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700",children:[a.jsx(Hc,{className:"w-4 h-4"}),"New Campaign"]})]}),i==="announcements"&&a.jsxs(Pe,{onClick:()=>F(!0),disabled:Ge,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700",children:[a.jsx(up,{className:"w-4 h-4"}),"New Announcement"]}),i==="reminders"&&a.jsxs(Pe,{onClick:()=>Se(!0),disabled:Ge,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700",children:[a.jsx(as,{className:"w-4 h-4"}),"New Reminder"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(Ne,{className:"p-5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center",children:a.jsx(Bb,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.filter(U=>U.type==="sms").length}),a.jsx("p",{className:"text-sm text-gray-600",children:"SMS Templates"})]})]})}),a.jsx(Ne,{className:"p-5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-50 flex items-center justify-center",children:a.jsx(Qs,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.filter(U=>U.type==="email").length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Email Templates"})]})]})}),a.jsx(Ne,{className:"p-5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-50 flex items-center justify-center",children:a.jsx(yl,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.filter(U=>U.isActive).length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Active"})]})]})}),a.jsx(Ne,{className:"p-5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-50 flex items-center justify-center",children:a.jsx(Hc,{className:"w-6 h-6 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:we.filter(U=>U.status==="sent").length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Sent Campaigns"})]})]})})]}),a.jsxs(X4,{value:i,onValueChange:U=>s(U),children:[a.jsxs(J4,{className:"grid w-full grid-cols-3 md:grid-cols-5 bg-gray-100 p-1",children:[a.jsxs(Li,{value:"templates",className:"flex items-center gap-2",children:[a.jsx($r,{className:"w-4 h-4"}),"Templates (",p.length,")"]}),a.jsxs(Li,{value:"campaigns",className:"flex items-center gap-2",children:[a.jsx(Hc,{className:"w-4 h-4"}),"Campaigns (",we.length,")"]}),a.jsxs(Li,{value:"announcements",className:"flex items-center gap-2",children:[a.jsx(up,{className:"w-4 h-4"}),"Announcements (",A.length,")"]}),a.jsxs(Li,{value:"reminders",className:"flex items-center gap-2",children:[a.jsx(as,{className:"w-4 h-4"}),"Reminders (",z.length,")"]}),a.jsxs(Li,{value:"feedback",className:"flex items-center gap-2",children:[a.jsx(Fb,{className:"w-4 h-4"}),"Feedback (",ue.length,")"]})]}),a.jsxs(Fi,{value:"templates",className:"space-y-6 mt-6",children:[g&&a.jsx(Ne,{className:"p-4",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Loading templates..."})}),w&&a.jsx(Ne,{className:"p-4",children:a.jsx("p",{className:"text-sm text-red-600",children:w})}),a.jsx(Ne,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(si,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),a.jsx(Ke,{placeholder:"Search templates...",value:d,onChange:U=>f(U.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ld,{className:"w-5 h-5 text-gray-500"}),a.jsx("div",{className:"flex gap-1",children:["all","sms","email"].map(U=>a.jsx("button",{onClick:()=>u(U),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${l===U?"bg-red-50 text-red-600 border border-red-200":"text-gray-600 hover:bg-gray-50 border border-transparent"}`,children:U==="all"?"All":U==="sms"?"SMS":"Email"},U))})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:ht.length})," templates"]})]})}),a.jsx("div",{className:"space-y-3",children:ht.map(U=>{const _e=dt(U.trigger);return a.jsx(Ne,{className:"p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${U.type==="sms"?"bg-blue-50":"bg-purple-50"} flex items-center justify-center flex-shrink-0`,children:U.type==="sms"?a.jsx(Bb,{className:`w-6 h-6 ${U.type==="sms"?"text-blue-600":"text-purple-600"}`}):a.jsx(Qs,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"flex items-start justify-between gap-4 mb-2",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:U.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ze,{className:`${_e.bg} ${_e.text} ${_e.border} text-xs`,children:Pt(U.trigger)}),a.jsx(Ze,{className:U.isActive?"bg-green-100 text-green-700 border-green-300 text-xs":"bg-gray-100 text-gray-700 border-gray-300 text-xs",children:U.isActive?"Active":"Inactive"}),a.jsx(Ze,{variant:"outline",className:"text-xs",children:U.type.toUpperCase()})]})]})}),U.subject&&a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Subject: ",U.subject]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-3 border border-gray-200",children:a.jsx("p",{className:"text-sm text-gray-700 font-mono whitespace-pre-wrap",children:U.content})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Zs,{className:"w-4 h-4"}),a.jsxs("span",{children:[U.usageCount," sent"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Si,{className:"w-4 h-4"}),a.jsxs("span",{children:["Modified ",Kt(U.lastModified)]})]}),a.jsxs("span",{children:["by ",U.modifiedBy]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Ht(U),disabled:Ge,children:U.isActive?"Deactivate":"Activate"}),a.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>Xe(U),className:"flex items-center gap-2",children:[a.jsx(yB,{className:"w-4 h-4"}),"Duplicate"]}),a.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>He(U),disabled:Ge,className:"flex items-center gap-2",children:[a.jsx(nM,{className:"w-4 h-4"}),"Edit"]}),e==="Executive"&&a.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Et(U),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(_u,{className:"w-4 h-4"})})]})]})]})]})},U.id)})})]}),a.jsxs(Fi,{value:"campaigns",className:"space-y-6 mt-6",children:[K&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Loading campaigns..."})}),Q&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-red-600",children:Q})}),a.jsx("div",{className:"space-y-3",children:we.map(U=>{const _e=sr(U.status);return a.jsx(Ne,{className:"p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${U.type==="sms"?"bg-blue-50":"bg-purple-50"} flex items-center justify-center flex-shrink-0`,children:a.jsx(Hc,{className:`w-6 h-6 ${U.type==="sms"?"text-blue-600":"text-purple-600"}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:U.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ze,{className:`${_e.bg} ${_e.text} ${_e.border} text-xs`,children:U.status.charAt(0).toUpperCase()+U.status.slice(1)}),a.jsx(Ze,{variant:"outline",className:"text-xs",children:U.type.toUpperCase()})]})]}),U.status==="draft"&&a.jsxs(Pe,{size:"sm",onClick:()=>Ce(U),disabled:e==="Encoder",className:"bg-red-600 hover:bg-red-700 flex items-center gap-2",children:[a.jsx(Hc,{className:"w-4 h-4"}),"Send Now"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Template"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:U.template})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Recipients"}),a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[U.recipients," customers"]})]}),U.status==="scheduled"&&U.scheduledFor&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Scheduled For"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:Kt(U.scheduledFor)})]}),U.status==="sent"&&U.sentAt&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Sent At"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:Kt(U.sentAt)})]})]})]})]})},U.id)})})]}),a.jsxs(Fi,{value:"announcements",className:"space-y-6 mt-6",children:[!t&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Organization not found. Please sign in again."})}),t&&T&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Loading announcements..."})}),t&&R&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-red-600",children:R})}),t&&!T&&!R&&A.length===0&&a.jsx(Ne,{className:"p-6",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["No announcements yet for ",r==="All Projects"?"your projects":r,"."]})}),t&&!T&&!R&&A.length>0&&a.jsx("div",{className:"space-y-3",children:A.map(U=>{var Lt;const _e=((Lt=U.project)==null?void 0:Lt.name)??"Unknown Project",yt=U.message.length>180?`${U.message.slice(0,180)}...`:U.message,St=U.publish_at?Kt(U.publish_at):"Not scheduled",Me=U.expires_at?Kt(U.expires_at):"No expiry",tr=U.send_to_customers?`Delivery: ${(U.notify_channel??"sms").toUpperCase()}`:"Delivery: Portal only";return a.jsx(Ne,{className:"p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-50 flex items-center justify-center flex-shrink-0",children:a.jsx(up,{className:"w-6 h-6 text-amber-600"})}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:U.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Ze,{className:`${dr(U.status)} text-xs`,children:U.status.charAt(0).toUpperCase()+U.status.slice(1)}),a.jsx(Ze,{variant:"outline",className:"text-xs",children:_e})]})]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Created ",Kt(U.created_at)]})]}),a.jsx("p",{className:"text-sm text-gray-700",children:yt}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Pn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Publish: ",St]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Si,{className:"w-4 h-4"}),a.jsxs("span",{children:["Expires: ",Me]})]}),a.jsx(Ze,{variant:"outline",className:"text-xs",children:tr})]})]})]})},U.id)})})]}),a.jsxs(Fi,{value:"reminders",className:"space-y-6 mt-6",children:[!t&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Organization not found. Please sign in again."})}),t&&re&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Loading reminders..."})}),t&&X&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-red-600",children:X})}),t&&!re&&!X&&z.length===0&&a.jsx(Ne,{className:"p-6",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["No reminders yet for ",r==="All Projects"?"your projects":r,"."]})}),t&&!re&&!X&&z.length>0&&a.jsx("div",{className:"space-y-3",children:z.map(U=>{var Lt;const _e=((Lt=U.project)==null?void 0:Lt.name)??"Unknown Project",yt=U.message.length>180?`${U.message.slice(0,180)}...`:U.message,St=U.remind_at?Kt(U.remind_at):"Not scheduled",Me=U.expires_at?Kt(U.expires_at):"No expiry",tr=U.send_to_customers?`Delivery: ${(U.notify_channel??"sms").toUpperCase()}`:"Delivery: Portal only";return a.jsx(Ne,{className:"p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center flex-shrink-0",children:a.jsx(as,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:U.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Ze,{className:`${he(U.status)} text-xs`,children:U.status.charAt(0).toUpperCase()+U.status.slice(1)}),a.jsx(Ze,{variant:"outline",className:"text-xs",children:_e})]})]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Created ",Kt(U.created_at)]})]}),a.jsx("p",{className:"text-sm text-gray-700",children:yt}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Pn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Remind: ",St]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Si,{className:"w-4 h-4"}),a.jsxs("span",{children:["Expires: ",Me]})]}),a.jsx(Ze,{variant:"outline",className:"text-xs",children:tr})]})]})]})},U.id)})})]}),a.jsxs(Fi,{value:"feedback",className:"space-y-6 mt-6",children:[!t&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Organization not found. Please sign in again."})}),t&&W&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Loading feedback..."})}),t&&se&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-red-600",children:se})}),t&&!W&&!se&&ue.length===0&&a.jsx(Ne,{className:"p-6",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["No customer feedback yet for ",r==="All Projects"?"your projects":r,"."]})}),t&&!W&&!se&&ue.length>0&&a.jsx("div",{className:"space-y-3",children:ue.map(U=>{var St;const _e=((St=U.project)==null?void 0:St.name)??"Unknown Project",yt=U.message.length>200?`${U.message.slice(0,200)}...`:U.message;return a.jsx(Ne,{className:"p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-50 flex items-center justify-center flex-shrink-0",children:a.jsx(Fb,{className:"w-6 h-6 text-red-600"})}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:U.subject}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Ze,{className:`${Be(U.status)} text-xs`,children:U.status.charAt(0).toUpperCase()+U.status.slice(1)}),a.jsx(Ze,{variant:"outline",className:"text-xs",children:_e})]})]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Received ",Kt(U.created_at)]})]}),a.jsx("p",{className:"text-sm text-gray-700",children:yt})]})]})},U.id)})})]})]}),a.jsx(ei,{open:x,onOpenChange:U=>!U&&S(!1),children:a.jsxs(ti,{className:"max-w-xl",children:[a.jsxs(ri,{children:[a.jsx(ni,{children:C?"Edit Template":"New Template"}),a.jsx(ii,{children:"Configure the message content used for automated customer communication."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Template Name"}),a.jsx(Ke,{value:E.name,onChange:U=>_(_e=>({..._e,name:U.target.value})),placeholder:"Payment Reminder - 3 Days Before"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Type"}),a.jsxs(Ft,{value:E.type,onValueChange:U=>_(_e=>({..._e,type:U})),children:[a.jsx(zt,{children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"sms",children:"SMS"}),a.jsx(Ie,{value:"email",children:"Email"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Trigger"}),a.jsxs(Ft,{value:E.trigger,onValueChange:U=>_(_e=>({..._e,trigger:U})),children:[a.jsx(zt,{children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"payment_reminder",children:"Payment Reminder"}),a.jsx(Ie,{value:"payment_received",children:"Payment Received"}),a.jsx(Ie,{value:"overdue_alert",children:"Overdue Alert"}),a.jsx(Ie,{value:"welcome",children:"Welcome"}),a.jsx(Ie,{value:"statement",children:"Statement"}),a.jsx(Ie,{value:"custom",children:"Custom"})]})]})]})]}),E.type==="email"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Subject"}),a.jsx(Ke,{value:E.subject,onChange:U=>_(_e=>({..._e,subject:U.target.value})),placeholder:"Payment Received - Unit {unit_number}"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Message"}),a.jsx(qi,{value:E.content,onChange:U=>_(_e=>({..._e,content:U.target.value})),placeholder:"Write the message to send customers.",rows:6})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:E.isActive,onChange:U=>_(_e=>({..._e,isActive:U.target.checked}))}),a.jsx("span",{children:"Active"})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Pe,{variant:"outline",onClick:()=>{S(!1),Wt()},children:"Cancel"}),a.jsx(Pe,{onClick:ze,className:"bg-red-600 hover:bg-red-700",children:C?"Save Changes":"Create Template"})]})]})]})}),a.jsx(ei,{open:Oe,onOpenChange:$e,children:a.jsxs(ti,{className:"max-w-xl",children:[a.jsxs(ri,{children:[a.jsx(ni,{children:"New Campaign"}),a.jsx(ii,{children:"Schedule an SMS or email blast for a project audience."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Campaign Name"}),a.jsx(Ke,{value:Fe.name,onChange:U=>ct(_e=>({..._e,name:U.target.value})),placeholder:"August Payment Reminders"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Channel"}),a.jsxs(Ft,{value:Fe.type,onValueChange:U=>ct(_e=>({..._e,type:U})),children:[a.jsx(zt,{children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"sms",children:"SMS"}),a.jsx(Ie,{value:"email",children:"Email"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Template"}),a.jsxs(Ft,{value:Fe.templateId,onValueChange:U=>ct(_e=>({..._e,templateId:U})),children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:"Select template"})}),a.jsx(Ut,{children:p.filter(U=>U.type===Fe.type).map(U=>a.jsx(Ie,{value:U.id,children:U.name},U.id))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Project (optional)"}),a.jsxs(Ft,{value:Fe.projectId,onValueChange:U=>ct(_e=>({..._e,projectId:U})),children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:"All projects"})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"",children:"All projects"}),n.map(U=>a.jsx(Ie,{value:U.id,children:U.name},U.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Unit Status (optional)"}),a.jsxs(Ft,{value:Fe.status,onValueChange:U=>ct(_e=>({..._e,status:U})),children:[a.jsx(zt,{children:a.jsx(Bt,{})}),a.jsx(Ut,{children:mt.map(U=>a.jsx(Ie,{value:U.value,children:U.label},U.value))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Schedule (optional)"}),a.jsx(Ke,{type:"datetime-local",value:Fe.scheduledFor,onChange:U=>ct(_e=>({..._e,scheduledFor:U.target.value}))})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Pe,{variant:"outline",onClick:()=>$e(!1),children:"Cancel"}),a.jsx(Pe,{onClick:Je,className:"bg-red-600 hover:bg-red-700",children:"Create Campaign"})]})]})]})}),a.jsx(ei,{open:q,onOpenChange:F,children:a.jsxs(ti,{className:"max-w-xl",children:[a.jsxs(ri,{children:[a.jsx(ni,{children:"Create Announcement"}),a.jsx(ii,{children:"Share project updates with customers in the portal."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Project"}),a.jsxs(Ft,{value:$.projectId,onValueChange:U=>L(_e=>({..._e,projectId:U})),children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:"Select a project"})}),a.jsx(Ut,{children:n.map(U=>a.jsx(Ie,{value:U.id,children:U.name},U.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Title"}),a.jsx(Ke,{value:$.title,onChange:U=>L(_e=>({..._e,title:U.target.value})),placeholder:"Turnover schedule update"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Message"}),a.jsx(qi,{value:$.message,onChange:U=>L(_e=>({..._e,message:U.target.value})),placeholder:"Share what customers should know about the project.",rows:5})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Status"}),a.jsxs(Ft,{value:$.status,onValueChange:U=>L(_e=>({..._e,status:U})),children:[a.jsx(zt,{children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"draft",children:"Draft"}),a.jsx(Ie,{value:"published",children:"Published"}),a.jsx(Ie,{value:"archived",children:"Archived"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Publish date"}),a.jsx(Ke,{type:"date",value:$.publishAt,onChange:U=>L(_e=>({..._e,publishAt:U.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Expires"}),a.jsx(Ke,{type:"date",value:$.expiresAt,onChange:U=>L(_e=>({..._e,expiresAt:U.target.value}))})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg border border-gray-200 bg-gray-50 p-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ts,{checked:$.sendToCustomers,onCheckedChange:U=>L(_e=>({..._e,sendToCustomers:U}))}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Send to customers"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Queue this announcement for delivery."})]})]}),$.sendToCustomers&&a.jsx("div",{className:"ml-auto min-w-[180px]",children:a.jsxs(Ft,{value:$.notifyChannel,onValueChange:U=>L(_e=>({..._e,notifyChannel:U})),children:[a.jsx(zt,{children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"sms",children:"SMS"}),a.jsx(Ie,{value:"email",children:"Email"})]})]})})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Pe,{variant:"outline",onClick:()=>{F(!1),gt()},disabled:B,children:"Cancel"}),a.jsx(Pe,{onClick:ne,disabled:B,className:"bg-red-600 hover:bg-red-700",children:B?"Saving...":"Save Announcement"})]})]})]})}),a.jsx(ei,{open:ce,onOpenChange:Se,children:a.jsxs(ti,{className:"max-w-xl",children:[a.jsxs(ri,{children:[a.jsx(ni,{children:"Create Reminder"}),a.jsx(ii,{children:"Post a project reminder for customers."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Project"}),a.jsxs(Ft,{value:xe.projectId,onValueChange:U=>ye(_e=>({..._e,projectId:U})),children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:"Select a project"})}),a.jsx(Ut,{children:n.map(U=>a.jsx(Ie,{value:U.id,children:U.name},U.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Title"}),a.jsx(Ke,{value:xe.title,onChange:U=>ye(_e=>({..._e,title:U.target.value})),placeholder:"Construction site entry reminder"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Message"}),a.jsx(qi,{value:xe.message,onChange:U=>ye(_e=>({..._e,message:U.target.value})),placeholder:"Share instructions or upcoming reminders for the project.",rows:5})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Status"}),a.jsxs(Ft,{value:xe.status,onValueChange:U=>ye(_e=>({..._e,status:U})),children:[a.jsx(zt,{children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"draft",children:"Draft"}),a.jsx(Ie,{value:"published",children:"Published"}),a.jsx(Ie,{value:"archived",children:"Archived"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Remind date"}),a.jsx(Ke,{type:"date",value:xe.remindAt,onChange:U=>ye(_e=>({..._e,remindAt:U.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Expires"}),a.jsx(Ke,{type:"date",value:xe.expiresAt,onChange:U=>ye(_e=>({..._e,expiresAt:U.target.value}))})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg border border-gray-200 bg-gray-50 p-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ts,{checked:xe.sendToCustomers,onCheckedChange:U=>ye(_e=>({..._e,sendToCustomers:U}))}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Send to customers"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Queue this reminder for delivery."})]})]}),xe.sendToCustomers&&a.jsx("div",{className:"ml-auto min-w-[180px]",children:a.jsxs(Ft,{value:xe.notifyChannel,onValueChange:U=>ye(_e=>({..._e,notifyChannel:U})),children:[a.jsx(zt,{children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"sms",children:"SMS"}),a.jsx(Ie,{value:"email",children:"Email"})]})]})})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Pe,{variant:"outline",onClick:()=>{Se(!1),Xt()},disabled:Ae,children:"Cancel"}),a.jsx(Pe,{onClick:tt,disabled:Ae,className:"bg-red-600 hover:bg-red-700",children:Ae?"Saving...":"Save Reminder"})]})]})]})})]})}const Jle={unit_id:"unit_code",block_lot:"unit_code",project:"project_name",project_code:"project_name",buyer:"customer_name",customer:"customer_name",customer_phone:"phone",customer_email:"email",total_value:"total_amount",contract_value:"total_amount",contract_amount:"total_amount",monthly:"monthly_amount",monthly_due:"monthly_amount",months:"total_months",start_date:"payment_start_date",payment_start:"payment_start_date"},Qle=e=>e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),Zle=e=>{const t=[];let r="",n=[],i=!1;for(let s=0;s<e.length;s+=1){const l=e[s],u=e[s+1];if(l==='"'&&i&&u==='"'){r+='"',s+=1;continue}if(l==='"'){i=!i;continue}if(l===","&&!i){n.push(r),r="";continue}if((l===`
`||l==="\r")&&!i){l==="\r"&&u===`
`&&(s+=1),n.push(r),n.some(d=>d.trim()!=="")&&t.push(n),n=[],r="";continue}r+=l}return n.push(r),n.some(s=>s.trim()!=="")&&t.push(n),t},ece=e=>e.trim().replace(/[^a-zA-Z0-9\s]/g,"").split(/\s+/).filter(Boolean).map(t=>t[0]).join("").toUpperCase().slice(0,6)||"PROJECT",tl=e=>{if(!e)return null;const t=e.replace(/[,\s]/g,""),r=Number(t);return Number.isNaN(r)?null:r},lp=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t.toISOString().split("T")[0]};function tce({currentRole:e,organizationId:t,unitLabel:r="Unit",customerLabel:n="Customer",subscriptionPlan:i,units:s=[]}){var Ae;const[l,u]=j.useState(null),[d,f]=j.useState([]),[p,h]=j.useState("all"),[g,v]=j.useState(null),[w,b]=j.useState(null),[x,S]=j.useState([]),[C,k]=j.useState(!1),[E,_]=j.useState([]),[A,P]=j.useState(!1),[T,M]=j.useState(null),R=e==="Encoder",D=!i.features.canBulkImport,q=r.endsWith("s")?r:`${r}s`,F=j.useMemo(()=>s.map(G=>{var ve,K,je,Q,ke,Oe,$e;const ue=((ve=G.paymentTerms)==null?void 0:ve.daysLate)??0;let ee="low";ue>60?ee="high":ue>30&&(ee="medium");const W=((K=G.paymentTerms)==null?void 0:K.totalMonths)??0,Y=((je=G.paymentTerms)==null?void 0:je.monthlyAmount)??0,se=((Q=G.paymentTerms)==null?void 0:Q.monthsPaid)??0,me=W>0?W*Y:G.sellingPrice,we=Math.max(me-se*Y,0)+(((ke=G.paymentTerms)==null?void 0:ke.arrears)??0);return{id:G.id,unitNumber:G.blockLot,buyer:((Oe=G.buyer)==null?void 0:Oe.name)??"Unassigned",customerId:(($e=G.buyer)==null?void 0:$e.id)??null,project:G.project,status:G.status,risk:ee,balance:we,daysLate:ue}}),[s]),$=j.useMemo(()=>p==="active"?F.filter(G=>G.status.toLowerCase()!=="available"):p==="overdue"?F.filter(G=>G.daysLate>0||G.status.toLowerCase().includes("overdue")):p==="high_risk"?F.filter(G=>G.risk==="high"):F,[p,F]),L=j.useMemo(()=>F.filter(G=>d.includes(G.id)),[d,F]);j.useEffect(()=>{if(!t){_([]),M(null);return}let G=!0;const ue=async()=>{try{P(!0),M(null);const{data:W,error:Y}=await pe.from("communications_dispatch").select("id,name,status,recipients_count,created_at,sent_at,created_by:users(full_name)").eq("organization_id",t).order("created_at",{ascending:!1}).limit(20);if(Y)throw Y;if(!G)return;const me=(W??[]).map(we=>{var K;let ve="pending";return we.status==="sent"?ve="completed":we.status==="failed"?ve="failed":we.status==="scheduled"?ve="pending":we.status==="processing"&&(ve="running"),{id:we.id,name:we.name,type:"send_reminders",targetCount:we.recipients_count??0,status:ve,progress:ve==="running"?50:ve==="completed"?100:0,createdAt:we.created_at,createdBy:((K=we.created_by)==null?void 0:K.full_name)??"System",completedAt:we.sent_at??void 0}});_(me)}catch(W){yn(W,{source:"BulkOperationsView.fetchTasks",organizationId:t}),G&&M(W instanceof Error?W.message:"Unable to load bulk operations.")}finally{G&&P(!1)}};ue();const ee=pe.channel("bulk_operations_dispatch").on("postgres_changes",{event:"*",schema:"public",table:"communications_dispatch"},ue).subscribe();return()=>{G=!1,ee.unsubscribe()}},[t]);const B=[{type:"send_reminders",name:"Send Payment Reminders",description:"Send SMS/email reminders to customers with upcoming payments",icon:Pn,color:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200"}},{type:"generate_statements",name:"Generate Statements",description:"Create and send monthly statements to selected customers",icon:$r,color:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200"}},{type:"send_receipts",name:"Send Payment Receipts",description:"Email official receipts for recent payments",icon:Qs,color:{bg:"bg-green-50",text:"text-green-600",border:"border-green-200"}},{type:"export_data",name:"Export Customer Data",description:"Download selected units and payment data as CSV/Excel",icon:Nn,color:{bg:"bg-amber-50",text:"text-amber-600",border:"border-amber-200"}},{type:"bulk_email",name:"Send Bulk Email",description:"Send custom email to multiple customers at once",icon:Qs,color:{bg:"bg-indigo-50",text:"text-indigo-600",border:"border-indigo-200"}},{type:"bulk_sms",name:"Send Bulk SMS",description:"Send custom SMS message to selected customers",icon:Bb,color:{bg:"bg-pink-50",text:"text-pink-600",border:"border-pink-200"}}],Z=j.useMemo(()=>["project_name","unit_code","customer_name","phone","email","total_amount","downpayment","monthly_amount","total_months","payment_start_date","status","unit_type","phase","move_in_date","legacy_id","notes"],[]),z=()=>{d.length===$.length?f([]):f($.map(G=>G.id))},te=G=>{d.includes(G)?f(d.filter(ue=>ue!==G)):f([...d,G])},re=async()=>{var Y;if(R){ie.error("Permission Denied",{description:"Encoder role cannot execute bulk operations"});return}if(d.length===0){ie.error("No units selected",{description:"Please select at least one unit to proceed"});return}if(!l){ie.error("No operation selected",{description:"Please select an operation type"});return}const G=B.find(se=>se.type===l);if(!G){ie.error("Operation unavailable",{description:"Please select a valid operation."});return}if(l==="export_data"){const se=["unit_number","project","buyer","status","risk","balance","days_late"],me=L.map(Q=>[Q.unitNumber,Q.project,Q.buyer,Q.status,Q.risk,Q.balance.toString(),Q.daysLate.toString()]),we=[se.join(","),...me.map(Q=>Q.map(ke=>`"${ke}"`).join(","))].join(`
`),ve=new Blob([we],{type:"text/csv"}),K=URL.createObjectURL(ve),je=document.createElement("a");je.href=K,je.download=`bulk_export_${new Date().toISOString().split("T")[0]}.csv`,je.click(),URL.revokeObjectURL(K),ie.success("Export ready",{description:`${d.length} ${q.toLowerCase()} exported.`}),f([]),u(null);return}if(!t){ie.error("Organization not found",{description:"Please sign in again before running bulk operations."});return}const ue=L.filter(se=>se.customerId);if(ue.length===0){ie.error("No customer assignments",{description:`Assign a ${n.toLowerCase()} before sending communications.`});return}const W={send_reminders:{type:"sms",subject:"Payment Reminder"},generate_statements:{type:"email",subject:"Monthly Statement"},send_receipts:{type:"email",subject:"Payment Receipt"},bulk_email:{type:"email",subject:"Message from your developer"},bulk_sms:{type:"sms",subject:"Update from your developer"}}[l];if(!W){ie.error("Unsupported operation",{description:"This operation is not configured yet."});return}try{const{data:se}=await pe.auth.getUser(),me=((Y=se==null?void 0:se.user)==null?void 0:Y.id)??null,we=ue.map(K=>({organization_id:t,unit_id:K.id,customer_id:K.customerId,created_by:me,type:W.type,subject:W.subject,message:`${W.subject}: ${r} ${K.unitNumber} has an update. Please check your portal or contact support.`,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()})),{error:ve}=await pe.from("communications").insert(we);if(ve)throw ve;ie.success("Bulk operation queued",{description:`${G.name} queued for ${ue.length} ${q.toLowerCase()}.`}),f([]),u(null)}catch(se){yn(se,{source:"BulkOperationsView.handleExecute",operation:l}),ie.error("Bulk operation failed",{description:se instanceof Error?se.message:"Please try again."})}},V=()=>{const G=`${Z.join(",")}
`,ue=new Blob([G],{type:"text/csv"}),ee=URL.createObjectURL(ue),W=document.createElement("a");W.href=ee,W.download="nexsys_bulk_import_template.csv",W.click(),URL.revokeObjectURL(ee)},X=async()=>{var G,ue,ee,W,Y,se;if(D){ie.error("Bulk import is locked on your plan.",{description:`Upgrade your ${i.label} plan to enable CSV imports.`});return}if(!t){ie.error("Organization not found. Please sign in again.");return}if(!g){ie.error("Please select a CSV file to import.");return}k(!0),S([]),b(null);try{const me=await g.text(),we=Zle(me);if(we.length<2)throw new Error("CSV is empty or missing data rows.");const K=we[0].map(de=>Qle(de)).map(de=>Jle[de]??de),Q=["project_name","unit_code"].filter(de=>!K.includes(de));if(Q.length>0)throw new Error(`Missing required columns: ${Q.join(", ")}`);const ke=we.slice(1).map(de=>{const qe={};return K.forEach((Te,He)=>{var Xe;qe[Te]=((Xe=de[He])==null?void 0:Xe.trim())??""}),qe}),{data:Oe,error:$e}=await pe.from("projects").select("id,name").eq("organization_id",t);if($e)throw $e;const{data:Fe,error:ct}=await pe.from("customers").select("id,full_name,phone,email").eq("organization_id",t);if(ct)throw ct;const{data:ut,error:_t}=await pe.from("entity_fields").select("id,field_key,label,data_type,is_required,entity_type").eq("organization_id",t).eq("is_active",!0);if(_t)throw _t;const{data:mt,error:Ge}=await pe.from("entity_statuses").select("status_key,label,is_active").eq("organization_id",t).eq("entity_type","unit");if(Ge)throw Ge;const it=new Map((Oe??[]).map(de=>[de.name.toLowerCase(),de.id])),wt=new Map((Fe??[]).map(de=>[`${de.full_name.toLowerCase()}|${de.phone??""}|${de.email??""}`,de.id])),Pt=ut.filter(de=>de.entity_type==="unit"),dt=ut.filter(de=>de.entity_type==="customer"),sr=new Map(Pt.map(de=>[de.field_key,de])),Kt=new Map(dt.map(de=>[de.field_key,de])),Wt=new Map;mt.forEach(de=>{de.is_active!==!1&&(Wt.set(de.status_key.toLowerCase(),de.status_key),Wt.set(de.label.toLowerCase(),de.status_key))});let Tt=0,dr=0,he=0,Be=0;const Ye=[];for(let de=0;de<ke.length;de+=1){const qe=ke[de],Te=de+2,He=(G=qe.project_name)==null?void 0:G.trim(),Xe=(ue=qe.unit_code)==null?void 0:ue.trim();if(!He||!Xe){Ye.push(`Row ${Te}: missing project_name or unit_code.`);continue}let Et=it.get(He.toLowerCase());if(!Et){const Lt=ece(He),{data:Mt,error:or}=await pe.from("projects").insert({organization_id:t,name:He,code:Lt,total_units:0,units_sold:0,units_available:0}).select("id").single();if(or||!Mt){Ye.push(`Row ${Te}: failed to create project "${He}".`);continue}Et=Mt.id,it.set(He.toLowerCase(),Et),he+=1}let Ht=null;const Ct=(ee=qe.customer_name)==null?void 0:ee.trim(),Ce=((W=qe.phone)==null?void 0:W.trim())??"",Je=((Y=qe.email)==null?void 0:Y.trim())??"";if(Ct){const Lt=`${Ct.toLowerCase()}|${Ce}|${Je}`;if(Ht=wt.get(Lt)??null,!Ht){const{data:Mt,error:or}=await pe.from("customers").insert({organization_id:t,full_name:Ct,phone:Ce||null,email:Je||null}).select("id").single();if(or||!Mt){Ye.push(`Row ${Te}: failed to create customer "${Ct}".`);continue}Ht=Mt.id,wt.set(Lt,Ht),dr+=1}}const et=(se=qe.status)==null?void 0:se.trim(),gt=et?Wt.get(et.toLowerCase()):null,Xt=tl(qe.total_amount),ne=tl(qe.downpayment),tt=tl(qe.monthly_amount),ze=tl(qe.total_months),ht=lp(qe.payment_start_date),U=lp(qe.move_in_date),_e=Xt!==null?Math.max(Xt-(ne??0),0):null,yt={organization_id:t,project_id:Et,customer_id:Ht,block_lot:Xe,unit_type:qe.unit_type||null,phase:qe.phase||null,legacy_id:qe.legacy_id||null,total_amount:Xt,selling_price:Xt,downpayment:ne,balance:_e,monthly_amount:tt,total_months:ze,months_paid:0,payment_start_date:ht,next_due_date:ht,move_in_date:U,status:gt??"available",notes:qe.notes?[qe.notes]:[]},{data:St,error:Me}=await pe.from("units").insert(yt).select("id").single();if(Me||!St){Ye.push(`Row ${Te}: failed to create ${r.toLowerCase()} "${Xe}".`);continue}Tt+=1;const tr=Object.entries(qe).filter(([Lt,Mt])=>Mt&&sr.has(Lt)).map(([Lt,Mt])=>{const or=sr.get(Lt);let rr=Mt;return or.data_type==="number"&&(rr=tl(Mt)??Mt),or.data_type==="date"&&(rr=lp(Mt)),{organization_id:t,entity_type:"unit",entity_id:St.id,field_id:or.id,value:rr}});if(tr.length>0&&await pe.from("entity_values").upsert(tr,{onConflict:"entity_id,field_id"}),Ht){const Lt=Object.entries(qe).filter(([Mt,or])=>or&&(Kt.has(Mt)||Kt.has(Mt.replace(/^customer_/,"")))).map(([Mt,or])=>{const rr=Kt.has(Mt)?Mt:Mt.replace(/^customer_/,""),Cr=Kt.get(rr);if(!Cr)return null;let Pa=or;return Cr.data_type==="number"&&(Pa=tl(or)??or),Cr.data_type==="date"&&(Pa=lp(or)),{organization_id:t,entity_type:"customer",entity_id:Ht,field_id:Cr.id,value:Pa}}).filter(Boolean);Lt.length>0&&await pe.from("entity_values").upsert(Lt,{onConflict:"entity_id,field_id"})}if(tt!==null&&ze&&ht){const Lt=Array.from({length:ze},(or,rr)=>{const Cr=new Date(ht);return Cr.setMonth(Cr.getMonth()+rr),{organization_id:t,unit_id:St.id,month_number:rr+1,month_name:Cr.toLocaleString("en-US",{month:"short",year:"numeric"}),due_date:Cr.toISOString().split("T")[0],amount:tt,status:"unpaid"}}),{error:Mt}=await pe.from("payment_schedules").insert(Lt);Mt||(Be+=Lt.length)}}S(Ye),b({rows:ke.length,unitsCreated:Tt,customersCreated:dr,projectsCreated:he,schedulesCreated:Be,errors:Ye.length}),Ye.length>0?ie.error("Import finished with errors",{description:`${Ye.length} rows failed.`}):ie.success("Import complete",{description:`${Tt} ${q.toLowerCase()} created.`})}catch(me){ie.error("Bulk import failed",{description:me instanceof Error?me.message:"Please try again."})}finally{k(!1)}},le=G=>{if(e!=="Executive"&&e!=="Manager"){ie.error("Permission Denied",{description:"Only Executives and Managers can cancel tasks"});return}ie.success("Task cancelled",{description:G.name})},ce=G=>{switch(G){case"pending":return{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"};case"running":return{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"};case"completed":return{bg:"bg-green-50",text:"text-green-700",border:"border-green-200"};case"failed":return{bg:"bg-red-50",text:"text-red-700",border:"border-red-200"}}},Se=G=>{switch(G){case"pending":return ln;case"running":return P2;case"completed":return yl;case"failed":return k2}},xe=G=>new Date(G).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ye=G=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(G);return a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Bulk Operations"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Execute batch operations on multiple units simultaneously"})]}),R&&a.jsxs(Ze,{className:"bg-amber-50 text-amber-700 border-amber-200 flex items-center gap-2",children:[a.jsx(ln,{className:"w-4 h-4"}),"Read-Only Access"]})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-900",children:["Bulk Import (",q,")"]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Upload a CSV to create projects, ",q.toLowerCase(),", customers, and schedules in one pass."]})]}),a.jsx(Pe,{variant:"outline",onClick:V,children:"Download CSV Template"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-3",children:[a.jsx("input",{type:"file",accept:".csv",onChange:G=>{var ee;const ue=((ee=G.target.files)==null?void 0:ee[0])??null;v(ue),b(null),S([])},className:"block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-gray-100 file:text-gray-700 hover:file:bg-gray-200"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Required columns: project_name, unit_code. Optional: customer_name, phone, email, total_amount, downpayment, monthly_amount, total_months, payment_start_date, status."}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Pe,{onClick:X,disabled:C||!g||R||D,className:"bg-red-600 hover:bg-red-700",children:C?"Importing...":"Import CSV"}),R&&a.jsx("span",{className:"text-xs text-amber-700",children:"Read-only role cannot import."}),!R&&D&&a.jsx("span",{className:"text-xs text-amber-700",children:"Upgrade required to unlock bulk import."})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Import Output"}),w?a.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[a.jsxs("div",{children:["Rows processed: ",w.rows]}),a.jsxs("div",{children:[q," created: ",w.unitsCreated]}),a.jsxs("div",{children:["Customers created: ",w.customersCreated]}),a.jsxs("div",{children:["Projects created: ",w.projectsCreated]}),a.jsxs("div",{children:["Schedules created: ",w.schedulesCreated]}),a.jsxs("div",{className:w.errors>0?"text-red-600":"text-green-700",children:["Errors: ",w.errors]})]}):a.jsx("div",{className:"text-sm text-gray-500",children:"No import run yet."})]})]}),x.length>0&&a.jsxs("div",{className:"mt-4 max-h-40 overflow-y-auto border border-red-100 bg-red-50 rounded-lg p-3 text-sm text-red-700",children:[x.slice(0,20).map(G=>a.jsx("div",{children:G},G)),x.length>20&&a.jsxs("div",{className:"text-red-600 mt-2",children:["and ",x.length-20," more."]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[a.jsxs(Ne,{className:"p-5",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Select Operation"}),a.jsx("div",{className:"space-y-2",children:B.map(G=>{const ue=G.icon,ee=l===G.type;return a.jsx("button",{onClick:()=>u(G.type),disabled:R,className:`w-full p-4 rounded-lg border-2 text-left transition-all ${ee?`${G.color.bg} ${G.color.border}`:"border-gray-200 hover:border-gray-300 bg-white"} ${R?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg ${G.color.bg} flex items-center justify-center flex-shrink-0`,children:a.jsx(ue,{className:`w-5 h-5 ${G.color.text}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`font-semibold mb-1 ${ee?G.color.text:"text-gray-900"}`,children:G.name}),a.jsx("p",{className:"text-xs text-gray-600",children:G.description})]})]})},G.type)})})]}),l&&a.jsxs(Ne,{className:"p-5 bg-blue-50 border-blue-200",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Selection Summary"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:"Selected Units:"}),a.jsx("span",{className:"font-semibold text-blue-900",children:d.length})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-blue-700",children:"Operation:"}),a.jsx("span",{className:"font-semibold text-blue-900",children:(Ae=B.find(G=>G.type===l))==null?void 0:Ae.name})]})]}),a.jsx(ar,{className:"my-4 bg-blue-200"}),a.jsxs(Pe,{onClick:re,disabled:d.length===0||R,className:"w-full bg-blue-600 hover:bg-blue-700 flex items-center justify-center gap-2",children:[a.jsx(P2,{className:"w-4 h-4"}),"Execute Operation"]})]})]}),a.jsx("div",{className:"lg:col-span-2 space-y-4",children:a.jsxs(Ne,{className:"p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Select Units"}),a.jsx(Pe,{variant:"outline",size:"sm",onClick:z,disabled:R,children:d.length===$.length?"Deselect All":"Select All"})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200",children:[a.jsx(ld,{className:"w-4 h-4 text-gray-500"}),a.jsx("button",{onClick:()=>h("all"),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${p==="all"?"bg-red-50 text-red-700 border border-red-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Projects"}),a.jsx("button",{onClick:()=>h("active"),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${p==="active"?"bg-red-50 text-red-700 border border-red-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Active Only"}),a.jsx("button",{onClick:()=>h("overdue"),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${p==="overdue"?"bg-red-50 text-red-700 border border-red-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Overdue"}),a.jsx("button",{onClick:()=>h("high_risk"),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${p==="high_risk"?"bg-red-50 text-red-700 border border-red-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"High Risk"})]}),a.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[$.length===0&&a.jsxs("div",{className:"text-sm text-gray-500",children:["No ",q.toLowerCase()," match this filter."]}),$.map(G=>{const ue=d.includes(G.id),ee=G.risk==="high"?"text-red-600":G.risk==="medium"?"text-amber-600":"text-green-600";return a.jsx("div",{onClick:()=>!R&&te(G.id),className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${ue?"bg-red-50 border-red-200":"bg-white border-gray-200 hover:border-gray-300"} ${R?"opacity-50 cursor-not-allowed":""}`,children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(_p,{checked:ue,onCheckedChange:()=>!R&&te(G.id),disabled:R,className:"flex-shrink-0"}),a.jsxs("div",{className:"flex-1 grid grid-cols-5 gap-4 items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:G.unitNumber}),a.jsx("p",{className:"text-xs text-gray-600",children:G.buyer})]}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-700",children:G.project})}),a.jsx("div",{children:a.jsx(Ze,{className:G.status.toLowerCase().includes("available")?"bg-gray-100 text-gray-700 border-gray-300 text-xs":"bg-green-100 text-green-700 border-green-300 text-xs",children:G.status})}),a.jsx("div",{children:a.jsxs("p",{className:`text-sm font-medium ${ee}`,children:[G.risk.charAt(0).toUpperCase()+G.risk.slice(1)," Risk"]})}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:ye(G.balance)}),a.jsx("p",{className:"text-xs text-gray-600",children:"Balance"})]})]})]})},G.id)})]})]})})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Recent Bulk Operations"}),a.jsx("div",{className:"space-y-3",children:A?a.jsx("div",{className:"text-sm text-gray-500",children:"Loading bulk operations..."}):T?a.jsx("div",{className:"text-sm text-red-600",children:T}):E.length===0?a.jsx("div",{className:"text-sm text-gray-500",children:"No bulk operations have been queued yet."}):E.map(G=>{const ue=ce(G.status),ee=Se(G.status);return a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${ue.bg} flex items-center justify-center flex-shrink-0`,children:a.jsx(ee,{className:`w-6 h-6 ${ue.text}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:G.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[G.targetCount," units  Created by ",G.createdBy," on ",xe(G.createdAt)]})]}),a.jsx(Ze,{className:`${ue.bg} ${ue.text} ${ue.border}`,children:G.status.charAt(0).toUpperCase()+G.status.slice(1)})]}),G.status==="running"&&a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600",children:"Progress"}),a.jsxs("span",{className:"font-semibold text-gray-900",children:[G.progress,"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:`${G.progress}%`}})})]}),G.status==="completed"&&G.successCount!==void 0&&a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 text-green-700",children:[a.jsx(yl,{className:"w-4 h-4"}),a.jsxs("span",{children:[G.successCount," successful"]})]}),G.failureCount>0&&a.jsxs("div",{className:"flex items-center gap-1 text-red-700",children:[a.jsx(k2,{className:"w-4 h-4"}),a.jsxs("span",{children:[G.failureCount," failed"]})]}),a.jsxs("span",{className:"text-gray-600",children:["Completed at ",xe(G.completedAt)]})]}),G.status==="running"&&(e==="Executive"||e==="Manager")&&a.jsx("div",{className:"mt-2",children:a.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>le(G),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Cancel Task"})})]})]})},G.id)})})]})]})}const rce=e=>{const t=e.trim().replace(/[^a-zA-Z0-9\s-]/g,"").replace(/\s+/g,"-").toUpperCase();return t?t.slice(0,12):""};function nce({isOpen:e,onClose:t,organizationId:r,onCreated:n,subscriptionPlan:i,projectCount:s}){const[l,u]=j.useState(""),[d,f]=j.useState(""),[p,h]=j.useState(""),[g,v]=j.useState(!1),w=j.useMemo(()=>rce(l),[l]),b=d.trim()||w,x=()=>{u(""),f(""),h(""),v(!1),t()},S=async()=>{if(!r){ie.error("Organization not found. Please sign in again.");return}if(!l.trim()){ie.error("Project name is required.");return}if(!b){ie.error("Project code is required.");return}const C=i.limits.projects;if(C!==null&&s>=C){ie.error("Project limit reached.",{description:`Your ${i.label} plan allows ${C} projects.`});return}v(!0);try{const{error:k}=await pe.from("projects").insert({organization_id:r,name:l.trim(),code:b,location:p.trim()||null,total_units:0,units_sold:0,units_available:0});if(k)throw k;ie.success("Project created",{description:`${l.trim()} is ready for units.`}),n(),x()}catch(k){yn(k,{source:"AddProjectModal.handleSubmit",organizationId:r});const E=k,_=(E==null?void 0:E.code)==="23505";ie.error("Failed to create project",{description:_?"Project code already exists for this organization.":k instanceof Error?k.message:"Please try again."})}finally{v(!1)}};return a.jsx(ei,{open:e,onOpenChange:C=>!C&&x(),children:a.jsxs(ti,{className:"sm:max-w-[520px]",children:[a.jsxs(ri,{children:[a.jsx(ni,{children:"Add Project"}),a.jsx(ii,{children:"Create a project to group units and track performance."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"projectName",children:"Project Name"}),a.jsx(Ke,{id:"projectName",placeholder:"Project name",value:l,onChange:C=>u(C.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"projectCode",children:"Project Code"}),a.jsx(Ke,{id:"projectCode",placeholder:w||"Project code",value:d,onChange:C=>f(C.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"projectLocation",children:"Location"}),a.jsx(Ke,{id:"projectLocation",placeholder:"City, province",value:p,onChange:C=>h(C.target.value)})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(Pe,{variant:"outline",onClick:x,disabled:g,children:"Cancel"}),a.jsx(Pe,{onClick:S,disabled:g,children:g?"Creating...":"Create Project"})]})]})})}function ice({onViewUnit:e,selectedProject:t,units:r,unitLabel:n,unitLabelPlural:i,statusOptions:s,onUnitAdded:l,onProjectAdded:u,projects:d,organizationId:f,customerLabel:p,subscriptionPlan:h,usageCounts:g}){const[v,w]=j.useState("grid"),[b,x]=j.useState("all"),[S,C]=j.useState(""),[k,E]=j.useState(!1),[_,A]=j.useState(!1),P=r.filter(R=>t==="All Projects"||R.project===t).filter(R=>b==="all"||R.status===b).filter(R=>{var D;return S===""||R.blockLot.toLowerCase().includes(S.toLowerCase())||((D=R.buyer)==null?void 0:D.name.toLowerCase().includes(S.toLowerCase()))||R.project.toLowerCase().includes(S.toLowerCase())}),T=R=>{switch(R){case"Available":return"bg-blue-100 text-blue-700 border-blue-300";case"Reserved":return"bg-purple-100 text-purple-700 border-purple-300";case"In Payment Cycle":return"bg-green-100 text-green-700 border-green-300";case"Overdue":return"bg-red-100 text-red-700 border-red-300";case"At Risk":return"bg-orange-100 text-orange-700 border-orange-300";case"Critical":return"bg-red-100 text-red-800 border-red-400";case"Fully Paid":return"bg-emerald-100 text-emerald-700 border-emerald-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},M=R=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(R);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{padding:"24px 32px 20px 32px",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px"},children:[a.jsxs("div",{children:[a.jsxs("h1",{style:{fontSize:"24px",fontWeight:600,color:"#111827",letterSpacing:"-0.01em",lineHeight:"32px",marginBottom:"4px"},children:[i," Inventory"]}),a.jsxs("p",{style:{fontSize:"14px",color:"#6B7280",lineHeight:"20px"},children:["Manage all ",i.toLowerCase()," and their current status"]})]}),a.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[a.jsx(Pe,{variant:"outline",onClick:()=>A(!0),style:{display:"flex",alignItems:"center",gap:"6px",borderRadius:"10px",padding:"10px 16px"},children:"Add Project"}),a.jsxs(Pe,{onClick:()=>E(!0),style:{display:"flex",alignItems:"center",gap:"6px",background:"#EF4444",borderRadius:"10px",padding:"10px 16px",color:"#FFFFFF"},children:["Add ",n]})]})]}),a.jsxs("div",{style:{padding:"24px 32px"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"24px"},children:[a.jsxs(Ne,{style:{padding:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[a.jsxs("span",{style:{fontSize:"13px",color:"#6B7280",fontWeight:500},children:["Total ",i]}),a.jsx("div",{style:{width:"36px",height:"36px",background:"#FEF2F2",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(fn,{size:18,style:{color:"#EF4444"}})})]}),a.jsx("p",{style:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:"4px"},children:r.length}),a.jsxs("p",{style:{fontSize:"13px",color:"#10B981"},children:["Across ",t==="All Projects"?"all projects":"1 project"]})]}),a.jsxs(Ne,{style:{padding:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[a.jsx("span",{style:{fontSize:"13px",color:"#6B7280",fontWeight:500},children:"Available"}),a.jsx("div",{style:{width:"36px",height:"36px",background:"#EFF6FF",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(tM,{size:18,style:{color:"#3B82F6"}})})]}),a.jsx("p",{style:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:"4px"},children:P.filter(R=>R.status==="Available").length}),a.jsx("p",{style:{fontSize:"13px",color:"#6B7280"},children:"Ready for sale"})]}),a.jsxs(Ne,{style:{padding:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[a.jsx("span",{style:{fontSize:"13px",color:"#6B7280",fontWeight:500},children:"Sold"}),a.jsx("div",{style:{width:"36px",height:"36px",background:"#F0FDF4",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(xl,{size:18,style:{color:"#10B981"}})})]}),a.jsx("p",{style:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:"4px"},children:P.filter(R=>R.buyer!==null).length}),a.jsx("p",{style:{fontSize:"13px",color:"#6B7280"},children:"With buyers"})]}),a.jsxs(Ne,{style:{padding:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[a.jsx("span",{style:{fontSize:"13px",color:"#6B7280",fontWeight:500},children:"Total Value"}),a.jsx("div",{style:{width:"36px",height:"36px",background:"#FEF3C7",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Yr,{size:18,style:{color:"#F59E0B"}})})]}),a.jsx("p",{style:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:"4px"},children:M(P.reduce((R,D)=>R+D.sellingPrice,0))}),a.jsx("p",{style:{fontSize:"13px",color:"#6B7280"},children:"Inventory value"})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"20px",padding:"20px",background:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB"},children:[a.jsxs("div",{style:{position:"relative",flex:1},children:[a.jsx(si,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9CA3AF"}}),a.jsx(Ke,{placeholder:`Search ${i.toLowerCase()}, ${n.toLowerCase()} buyers, or projects...`,value:S,onChange:R=>C(R.target.value),style:{paddingLeft:"40px"}})]}),a.jsx("div",{style:{display:"flex",gap:"8px"},children:["all",...s].map(R=>a.jsx(Pe,{variant:b===R?"default":"outline",size:"sm",onClick:()=>x(R),style:{background:b===R?"#EF4444":"transparent",color:b===R?"#FFFFFF":"#6B7280",borderColor:b===R?"#EF4444":"#E5E7EB"},children:R==="all"?"All":R},R))}),a.jsxs("div",{style:{display:"flex",gap:"4px",padding:"4px",background:"#F3F4F6",borderRadius:"8px"},children:[a.jsx("button",{onClick:()=>w("grid"),style:{padding:"8px 12px",background:v==="grid"?"#FFFFFF":"transparent",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:a.jsx(L1,{size:16,style:{color:v==="grid"?"#EF4444":"#6B7280"}})}),a.jsx("button",{onClick:()=>w("list"),style:{padding:"8px 12px",background:v==="list"?"#FFFFFF":"transparent",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:a.jsx(F1,{size:16,style:{color:v==="list"?"#EF4444":"#6B7280"}})})]})]}),a.jsx("div",{style:{marginBottom:"16px"},children:a.jsxs("p",{style:{fontSize:"14px",color:"#6B7280"},children:["Showing ",a.jsx("strong",{children:P.length})," unit",P.length!==1?"s":""]})}),v==="grid"?a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:P.map(R=>a.jsxs(Ne,{"data-tour-target":"unit-card",style:{padding:"20px",cursor:"pointer",transition:"all 200ms ease",border:"1px solid #E5E7EB"},onMouseOver:D=>{D.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)",D.currentTarget.style.borderColor="#EF4444"},onMouseOut:D=>{D.currentTarget.style.boxShadow="",D.currentTarget.style.borderColor="#E5E7EB"},onClick:()=>e(R),children:[a.jsxs("div",{style:{marginBottom:"16px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"8px"},children:[a.jsx("h3",{style:{fontSize:"18px",fontWeight:600,color:"#111827"},children:R.blockLot}),a.jsx(Ze,{className:T(R.status),children:R.status})]}),a.jsxs("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"4px"},children:[a.jsx(rM,{size:14,style:{display:"inline",marginRight:"4px",verticalAlign:"middle"}}),R.project,"  ",R.phase]}),a.jsx("p",{style:{fontSize:"13px",color:"#6B7280"},children:R.unitType})]}),R.buyer&&a.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"8px",marginBottom:"12px"},children:[a.jsx("p",{style:{fontSize:"13px",fontWeight:600,color:"#111827",marginBottom:"4px"},children:R.buyer.name}),a.jsx("p",{style:{fontSize:"12px",color:"#6B7280"},children:R.buyer.contact})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"12px",borderTop:"1px solid #E5E7EB"},children:[a.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"Selling Price"}),a.jsx("span",{style:{fontSize:"16px",fontWeight:700,color:"#EF4444"},children:M(R.sellingPrice)})]})]},R.id))}):a.jsx("div",{style:{background:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",overflow:"hidden"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:[a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Unit"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Project"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Type"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Buyer"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Status"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"right",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Price"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Action"})]})}),a.jsx("tbody",{children:P.map(R=>{var D;return a.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB",cursor:"pointer",transition:"background 150ms ease"},onMouseOver:q=>{q.currentTarget.style.background="#F9FAFB"},onMouseOut:q=>{q.currentTarget.style.background="transparent"},onClick:()=>e(R),children:[a.jsx("td",{style:{padding:"16px",fontSize:"14px",fontWeight:600,color:"#111827"},children:R.blockLot}),a.jsx("td",{style:{padding:"16px",fontSize:"14px",color:"#6B7280"},children:R.project}),a.jsx("td",{style:{padding:"16px",fontSize:"14px",color:"#6B7280"},children:R.unitType}),a.jsx("td",{style:{padding:"16px",fontSize:"14px",color:"#6B7280"},children:((D=R.buyer)==null?void 0:D.name)||""}),a.jsx("td",{style:{padding:"16px"},children:a.jsx(Ze,{className:T(R.status),children:R.status})}),a.jsx("td",{style:{padding:"16px",fontSize:"14px",fontWeight:600,color:"#111827",textAlign:"right"},children:M(R.sellingPrice)}),a.jsx("td",{style:{padding:"16px",textAlign:"center"},children:a.jsx(Pe,{size:"sm",variant:"ghost",style:{color:"#EF4444"},children:"View Details"})})]},R.id)})})]})}),P.length===0&&a.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",background:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB"},children:[a.jsx(fn,{size:48,style:{color:"#D1D5DB",margin:"0 auto 16px"}}),a.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:"#111827",marginBottom:"8px"},children:"No units found"}),a.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Try adjusting your filters or search query"})]})]}),a.jsx(MD,{isOpen:k,onClose:()=>E(!1),onUnitAdded:l,selectedProject:t,projects:d,organizationId:f,unitLabel:n,customerLabel:p,subscriptionPlan:h,unitCount:g.units}),a.jsx(nce,{isOpen:_,onClose:()=>A(!1),organizationId:f,onCreated:u,subscriptionPlan:h,projectCount:g.projects})]})}function ace({onViewUnit:e,onViewCustomer:t,selectedProject:r,units:n,customerLabel:i,customerLabelPlural:s,organizationId:l}){const[u,d]=j.useState("grid"),[f,p]=j.useState(""),[h,g]=j.useState("all"),[v,w]=j.useState(!1),{customers:b,refetch:x}=RD(l,!!l),S=j.useMemo(()=>{const _=n.reduce((M,R)=>{var q;const D=(q=R.buyer)==null?void 0:q.id;return D&&(M[D]=M[D]?[...M[D],R]:[R]),M},{}),A=b.map(M=>{const R=_[M.id]??n.filter($=>{var L,B;return((L=$.buyer)==null?void 0:L.name)===M.full_name&&!((B=$.buyer)!=null&&B.id)}),D=R.reduce(($,L)=>L.paymentTerms?$+L.paymentTerms.monthsPaid*L.paymentTerms.monthlyAmount:$,0),q=R.reduce(($,L)=>$+L.sellingPrice,0),F=R.some($=>$.status==="Overdue"||$.status==="At Risk"||$.status==="Critical");return{id:M.id,name:M.full_name,contact:M.phone??"",phone:M.phone,email:M.email,units:R,totalValue:q,totalPaid:D,hasOverdue:F}}),P=n.filter(M=>M.buyer&&!M.buyer.id).reduce((M,R)=>{const D=R.buyer,q=`${D.name}::${D.contact}`,F=M[q],$=F?[...F.units,R]:[R],L=$.reduce((z,te)=>te.paymentTerms?z+te.paymentTerms.monthsPaid*te.paymentTerms.monthlyAmount:z,0),B=$.reduce((z,te)=>z+te.sellingPrice,0),Z=$.some(z=>z.status==="Overdue"||z.status==="At Risk"||z.status==="Critical");return M[q]={name:D.name,contact:D.contact,units:$,totalValue:B,totalPaid:L,hasOverdue:Z},M},{});return[...A,...Object.values(P)].filter(M=>r==="All Projects"||M.units.some(R=>R.project===r))},[b,n,r]),C=S.filter(_=>f===""||_.name.toLowerCase().includes(f.toLowerCase())||_.contact.toLowerCase().includes(f.toLowerCase())).filter(_=>h==="all"?!0:h==="active"?!_.hasOverdue&&_.totalPaid<_.totalValue:h==="overdue"?_.hasOverdue:h==="paid"?_.totalPaid>=_.totalValue:!0),k=_=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(_),E=(_,A)=>Math.min(100,Math.round(_/A*100));return a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{padding:"24px 32px 20px 32px",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px"},children:[a.jsxs("div",{children:[a.jsxs("h1",{style:{fontSize:"24px",fontWeight:600,color:"#111827",letterSpacing:"-0.01em",lineHeight:"32px",marginBottom:"4px"},children:[s," & Contacts"]}),a.jsxs("p",{style:{fontSize:"14px",color:"#6B7280",lineHeight:"20px"},children:["Directory of all ",s.toLowerCase()," and their payment status"]})]}),a.jsxs(Pe,{onClick:()=>w(!0),style:{background:"#111827",color:"#FFFFFF",borderRadius:"10px",height:"40px",padding:"0 16px"},children:["Add ",i]})]}),a.jsxs("div",{style:{padding:"24px 32px"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"24px"},children:[a.jsxs(Ne,{style:{padding:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[a.jsxs("span",{style:{fontSize:"13px",color:"#6B7280",fontWeight:500},children:["Total ",s]}),a.jsx("div",{style:{width:"36px",height:"36px",background:"#FEF2F2",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(xl,{size:18,style:{color:"#EF4444"}})})]}),a.jsx("p",{style:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:"4px"},children:S.length}),a.jsxs("p",{style:{fontSize:"13px",color:"#6B7280"},children:["Active ",s.toLowerCase()]})]}),a.jsxs(Ne,{style:{padding:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[a.jsx("span",{style:{fontSize:"13px",color:"#6B7280",fontWeight:500},children:"Good Standing"}),a.jsx("div",{style:{width:"36px",height:"36px",background:"#F0FDF4",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(yl,{size:18,style:{color:"#10B981"}})})]}),a.jsx("p",{style:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:"4px"},children:S.filter(_=>!_.hasOverdue).length}),a.jsx("p",{style:{fontSize:"13px",color:"#10B981"},children:"No payment issues"})]}),a.jsxs(Ne,{style:{padding:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[a.jsx("span",{style:{fontSize:"13px",color:"#6B7280",fontWeight:500},children:"Overdue"}),a.jsx("div",{style:{width:"36px",height:"36px",background:"#FEF3C7",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(iM,{size:18,style:{color:"#F59E0B"}})})]}),a.jsx("p",{style:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:"4px"},children:S.filter(_=>_.hasOverdue).length}),a.jsx("p",{style:{fontSize:"13px",color:"#F59E0B"},children:"Needs follow-up"})]}),a.jsxs(Ne,{style:{padding:"20px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[a.jsx("span",{style:{fontSize:"13px",color:"#6B7280",fontWeight:500},children:"Total Revenue"}),a.jsx("div",{style:{width:"36px",height:"36px",background:"#EFF6FF",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Yr,{size:18,style:{color:"#3B82F6"}})})]}),a.jsx("p",{style:{fontSize:"28px",fontWeight:700,color:"#111827",marginBottom:"4px"},children:k(S.reduce((_,A)=>_+A.totalValue,0))}),a.jsx("p",{style:{fontSize:"13px",color:"#6B7280"},children:"From all customers"})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"20px",padding:"20px",background:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB"},children:[a.jsxs("div",{style:{position:"relative",flex:1},children:[a.jsx(si,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9CA3AF"}}),a.jsx(Ke,{placeholder:"Search customers by name or contact...",value:f,onChange:_=>p(_.target.value),style:{paddingLeft:"40px"}})]}),a.jsx("div",{style:{display:"flex",gap:"8px"},children:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"overdue",label:"Overdue"},{value:"paid",label:"Fully Paid"}].map(_=>a.jsx(Pe,{variant:h===_.value?"default":"outline",size:"sm",onClick:()=>g(_.value),style:{background:h===_.value?"#EF4444":"transparent",color:h===_.value?"#FFFFFF":"#6B7280",borderColor:h===_.value?"#EF4444":"#E5E7EB"},children:_.label},_.value))}),a.jsxs("div",{style:{display:"flex",gap:"4px",padding:"4px",background:"#F3F4F6",borderRadius:"8px"},children:[a.jsx("button",{onClick:()=>d("grid"),style:{padding:"8px 12px",background:u==="grid"?"#FFFFFF":"transparent",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:a.jsx(L1,{size:16,style:{color:u==="grid"?"#EF4444":"#6B7280"}})}),a.jsx("button",{onClick:()=>d("list"),style:{padding:"8px 12px",background:u==="list"?"#FFFFFF":"transparent",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:a.jsx(F1,{size:16,style:{color:u==="list"?"#EF4444":"#6B7280"}})})]})]}),a.jsx("div",{style:{marginBottom:"16px"},children:a.jsxs("p",{style:{fontSize:"14px",color:"#6B7280"},children:["Showing ",a.jsx("strong",{children:C.length})," customer",C.length!==1?"s":""]})}),u==="grid"?a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"},children:C.map(_=>{const A=E(_.totalPaid,_.totalValue);return a.jsxs(Ne,{style:{padding:"20px",cursor:"pointer",transition:"all 200ms ease",border:"1px solid #E5E7EB"},onMouseOver:P=>{P.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)",P.currentTarget.style.borderColor="#EF4444"},onMouseOut:P=>{P.currentTarget.style.boxShadow="",P.currentTarget.style.borderColor="#E5E7EB"},onClick:()=>t(_),children:[a.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"12px",marginBottom:"16px"},children:[a.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#FFFFFF",fontSize:"18px",fontWeight:600,flexShrink:0},children:_.name.charAt(0)}),a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:"#111827",marginBottom:"4px"},children:_.name}),a.jsxs("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"2px"},children:[a.jsx(wu,{size:12,style:{display:"inline",marginRight:"4px",verticalAlign:"middle"}}),_.contact]}),_.hasOverdue&&a.jsx(Ze,{className:"bg-red-100 text-red-700 border-red-300",style:{marginTop:"4px"},children:"Payment Overdue"})]})]}),a.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"8px",marginBottom:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[a.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"Units Owned"}),a.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:"#111827"},children:_.units.length})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"Total Value"}),a.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:"#111827"},children:k(_.totalValue)})]})]}),a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[a.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"Payment Progress"}),a.jsxs("span",{style:{fontSize:"12px",fontWeight:600,color:"#111827"},children:[A,"%"]})]}),a.jsx("div",{style:{height:"6px",background:"#E5E7EB",borderRadius:"3px",overflow:"hidden"},children:a.jsx("div",{style:{width:`${A}%`,height:"100%",background:_.hasOverdue?"#F59E0B":"#10B981",transition:"width 300ms ease"}})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"6px"},children:[a.jsxs("span",{style:{fontSize:"11px",color:"#9CA3AF"},children:["Paid: ",k(_.totalPaid)]}),a.jsxs("span",{style:{fontSize:"11px",color:"#9CA3AF"},children:["Balance: ",k(_.totalValue-_.totalPaid)]})]})]})]},_.id??_.name)})}):a.jsx("div",{style:{background:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB",overflow:"hidden"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:[a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Customer"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Contact"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Units"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"right",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Total Value"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"right",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Paid"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Progress"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:"12px",fontWeight:600,color:"#6B7280",textTransform:"uppercase"},children:"Status"})]})}),a.jsx("tbody",{children:C.map(_=>{const A=E(_.totalPaid,_.totalValue);return a.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB",cursor:"pointer",transition:"background 150ms ease"},onMouseOver:P=>{P.currentTarget.style.background="#F9FAFB"},onMouseOut:P=>{P.currentTarget.style.background="transparent"},onClick:()=>t(_),children:[a.jsx("td",{style:{padding:"16px",fontSize:"14px",fontWeight:600,color:"#111827"},children:_.name}),a.jsx("td",{style:{padding:"16px",fontSize:"14px",color:"#6B7280"},children:_.contact}),a.jsx("td",{style:{padding:"16px",fontSize:"14px",fontWeight:600,color:"#111827",textAlign:"center"},children:_.units.length}),a.jsx("td",{style:{padding:"16px",fontSize:"14px",fontWeight:600,color:"#111827",textAlign:"right"},children:k(_.totalValue)}),a.jsx("td",{style:{padding:"16px",fontSize:"14px",color:"#6B7280",textAlign:"right"},children:k(_.totalPaid)}),a.jsx("td",{style:{padding:"16px",textAlign:"center"},children:a.jsx("div",{style:{width:"80px",margin:"0 auto"},children:a.jsx("div",{style:{height:"6px",background:"#E5E7EB",borderRadius:"3px",overflow:"hidden"},children:a.jsx("div",{style:{width:`${A}%`,height:"100%",background:_.hasOverdue?"#F59E0B":"#10B981"}})})})}),a.jsx("td",{style:{padding:"16px",textAlign:"center"},children:_.hasOverdue?a.jsx(Ze,{className:"bg-red-100 text-red-700 border-red-300",children:"Overdue"}):A>=100?a.jsx(Ze,{className:"bg-emerald-100 text-emerald-700 border-emerald-300",children:"Paid"}):a.jsx(Ze,{className:"bg-green-100 text-green-700 border-green-300",children:"Active"})})]},_.id??_.name)})})]})}),C.length===0&&a.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",background:"#FFFFFF",borderRadius:"12px",border:"1px solid #E5E7EB"},children:[a.jsx(xl,{size:48,style:{color:"#D1D5DB",margin:"0 auto 16px"}}),a.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:"#111827",marginBottom:"8px"},children:"No customers found"}),a.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Try adjusting your filters or search query"})]})]}),a.jsx(cj,{isOpen:v,onClose:()=>w(!1),organizationId:l,customerLabel:i,onSaved:()=>{x(),w(!1)}})]})}const j_=[{entity_type:"customer",field_key:"buyer_type",label:"Buyer Type",data_type:"select",is_required:!0,options:["individual","company"],order_index:1,is_active:!0},{entity_type:"customer",field_key:"company_name",label:"Company Name",data_type:"text",order_index:2,is_active:!0},{entity_type:"customer",field_key:"tax_id",label:"Tax ID",data_type:"text",order_index:3,is_active:!0},{entity_type:"customer",field_key:"address_line1",label:"Address Line 1",data_type:"text",order_index:4,is_active:!0},{entity_type:"customer",field_key:"address_line2",label:"Address Line 2",data_type:"text",order_index:5,is_active:!0},{entity_type:"customer",field_key:"city",label:"City",data_type:"text",order_index:6,is_active:!0},{entity_type:"customer",field_key:"province",label:"Province",data_type:"text",order_index:7,is_active:!0},{entity_type:"customer",field_key:"postal_code",label:"Postal Code",data_type:"text",order_index:8,is_active:!0},{entity_type:"customer",field_key:"country",label:"Country",data_type:"text",order_index:9,is_active:!0},{entity_type:"customer",field_key:"id_type",label:"ID Type",data_type:"text",order_index:10,is_active:!0},{entity_type:"customer",field_key:"id_number",label:"ID Number",data_type:"text",order_index:11,is_active:!0},{entity_type:"customer",field_key:"lead_source",label:"Lead Source",data_type:"text",order_index:12,is_active:!0}];function sce({isOpen:e,onClose:t,organizationId:r,customerId:n,customerLabel:i,onSaved:s}){const[l,u]=j.useState([]),[d,f]=j.useState({}),[p,h]=j.useState({}),[g,v]=j.useState(!1);j.useEffect(()=>{if(!e||!r||!n)return;(async()=>{const{data:E,error:_}=await pe.from("entity_fields").select("id,field_key,label,data_type,is_required,options,order_index").eq("organization_id",r).eq("entity_type","customer").eq("is_active",!0).order("order_index",{ascending:!0});if(_){ie.error("Failed to load custom fields",{description:_.message}),u([]);return}const A=E??[];if(A.length===0){const R=j_.map($=>({organization_id:r,entity_type:$.entity_type,field_key:$.field_key,label:$.label,data_type:$.data_type,is_required:$.is_required??!1,default_value:$.default_value??null,options:$.options??null,order_index:$.order_index??null,is_active:$.is_active??!0})),{error:D}=await pe.from("entity_fields").upsert(R,{onConflict:"organization_id,entity_type,field_key"});if(D){ie.error("Failed to seed default fields",{description:D.message}),u([]);return}const{data:q,error:F}=await pe.from("entity_fields").select("id,field_key,label,data_type,is_required,options,order_index").eq("organization_id",r).eq("entity_type","customer").eq("is_active",!0).order("order_index",{ascending:!0});if(F){ie.error("Failed to reload seeded fields",{description:F.message}),u([]);return}u(q??[])}else u(A);const{data:P,error:T}=await pe.from("entity_values").select("field_id,value").eq("organization_id",r).eq("entity_type","customer").eq("entity_id",n);if(T){ie.error("Failed to load customer details",{description:T.message}),f({});return}const M=(P??[]).reduce((R,D)=>(R[D.field_id]=D.value,R),{});f(M)})()},[e,r,n]);const w=j.useMemo(()=>l.filter(k=>k.is_required),[l]),b=k=>k.options?Array.isArray(k.options)?k.options.map(E=>{if(typeof E=="string")return{value:E,label:E};if(typeof E=="object"&&E&&"value"in E){const _=String(E.value),A=String(E.label??_);return{value:_,label:A}}return null}).filter(Boolean):[]:[],x=()=>{const k={};return w.forEach(E=>{const _=d[E.id];E.data_type!=="boolean"&&(_==null||_==="")&&(k[E.id]=`${E.label} is required.`)}),h(k),Object.keys(k).length===0},S=(k,E)=>{if(E===""||E===void 0)return null;if(k.data_type==="number"){const _=Number(E);return Number.isNaN(_)?null:_}return k.data_type==="boolean"?!!E:E},C=async()=>{if(!r){ie.error("Organization not found. Please sign in again.");return}if(x()){v(!0);try{const k=l.map(_=>({organization_id:r,entity_type:"customer",entity_id:n,field_id:_.id,value:S(_,d[_.id])})),{error:E}=await pe.from("entity_values").upsert(k,{onConflict:"entity_id,field_id"});if(E)throw E;ie.success("Customer details updated."),s==null||s(),t()}catch(k){ie.error("Failed to update customer details",{description:k instanceof Error?k.message:"Please try again."})}finally{v(!1)}}};return e?a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"24px"},children:a.jsxs("div",{style:{background:"var(--neuron-bg-elevated)",borderRadius:"14px",width:"100%",maxWidth:"520px",maxHeight:"90vh",overflow:"hidden",boxShadow:"var(--elevation-2)",display:"flex",flexDirection:"column"},children:[a.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid var(--neuron-ui-border)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{padding:"10px",background:"var(--neuron-brand-green-100)",borderRadius:"8px"},children:a.jsx(vl,{size:18,style:{color:"var(--neuron-brand-green)"}})}),a.jsxs("div",{children:[a.jsxs("h2",{style:{fontSize:"16px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:["Edit ",i," Details"]}),a.jsxs("p",{style:{fontSize:"13px",color:"var(--neuron-ink-muted)"},children:["Update template-based fields for this ",i.toLowerCase()]})]})]}),a.jsx("button",{onClick:t,style:{padding:"6px",background:"transparent",border:"none",cursor:"pointer",borderRadius:"6px"},children:a.jsx(Xl,{size:18,style:{color:"var(--neuron-ink-muted)"}})})]}),a.jsxs("div",{style:{padding:"24px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"16px"},children:[l.length===0&&a.jsxs("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:["No custom fields configured for ",i.toLowerCase(),"s yet."]}),l.map(k=>{const E=d[k.id],_=b(k),A=p[k.id];return a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,marginBottom:"6px"},children:[k.label,k.is_required?" *":""]}),k.data_type==="select"&&_.length>0?a.jsxs(Ft,{value:E?String(E):"",onValueChange:P=>{f(T=>({...T,[k.id]:P})),h(T=>({...T,[k.id]:""}))},children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:`Select ${k.label}`})}),a.jsx(Ut,{children:_.map(P=>a.jsx(Ie,{value:P.value,children:P.label},P.value))})]}):k.data_type==="boolean"?a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px"},children:[a.jsx("input",{type:"checkbox",checked:!!E,onChange:P=>{f(T=>({...T,[k.id]:P.target.checked}))}}),k.label]}):a.jsx(Ke,{type:k.data_type==="number"?"number":"text",value:E==null?"":String(E),onChange:P=>{f(T=>({...T,[k.id]:P.target.value})),h(T=>({...T,[k.id]:""}))},placeholder:`Enter ${k.label.toLowerCase()}`}),A&&a.jsx("p",{style:{fontSize:"12px",color:"#DC2626",marginTop:"6px"},children:A})]},k.id)})]}),a.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid var(--neuron-ui-border)",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[a.jsx(Pe,{variant:"outline",onClick:t,disabled:g,children:"Cancel"}),a.jsx(Pe,{onClick:C,disabled:g,style:{background:"var(--neuron-brand-green)",color:"#fff"},children:g?"Saving...":"Save Details"})]})]})}):null}function oce({customer:e,onBack:t,onViewUnit:r,organizationId:n,customerLabel:i,unitLabel:s,projectLabel:l}){const[u,d]=j.useState([]),[f,p]=j.useState({}),[h,g]=j.useState(!1),[v,w]=j.useState(!1),[b,x]=j.useState(e),[S,C]=j.useState(0);j.useEffect(()=>{x(e)},[e]),j.useEffect(()=>{if(!n)return;(async()=>{const{data:T,error:M}=await pe.from("entity_fields").select("id,field_key,label,data_type,order_index,is_required").eq("organization_id",n).eq("entity_type","customer").eq("is_active",!0).order("order_index",{ascending:!0});if(M){d([]);return}if(d(T??[]),!b.id){p({});return}const{data:R,error:D}=await pe.from("entity_values").select("field_id,value").eq("organization_id",n).eq("entity_type","customer").eq("entity_id",b.id);if(D){p({});return}const q=(R??[]).reduce((F,$)=>(F[$.field_id]=$.value,F),{});p(q)})()},[n,b.id,S]);const k=j.useMemo(()=>u.map(P=>{const T=f[P.id];return{...P,value:T}}),[u,f]),E=P=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(P),_=P=>P==null||P===""?"":typeof P=="number"?P.toLocaleString("en-PH"):typeof P=="boolean"?P?"Yes":"No":Array.isArray(P)?P.join(", "):typeof P=="object"?JSON.stringify(P):String(P),A=Math.max(b.totalValue-b.totalPaid,0);return a.jsxs("div",{style:{padding:"32px 48px",maxWidth:"1200px",margin:"0 auto"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"32px"},children:[a.jsxs("div",{children:[a.jsx(Pe,{variant:"ghost",onClick:t,style:{marginBottom:"8px",marginLeft:"-16px",color:"var(--neuron-brand-green)",transition:"all 120ms ease-out"},children:" Back"}),a.jsxs("h1",{style:{fontSize:"28px",fontWeight:600,color:"var(--neuron-ink-primary)",letterSpacing:"-0.01em",lineHeight:"36px",marginBottom:"6px"},children:[i,": ",b.name]}),a.jsxs("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",lineHeight:"21px"},children:[a.jsx(wu,{size:14,style:{display:"inline",marginRight:"6px",verticalAlign:"middle"}}),(b.phone??b.contact)||"No contact on file"]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[b.id&&a.jsxs(Pe,{variant:"outline",onClick:()=>g(!0),children:["Edit ",i]}),a.jsx(Ze,{variant:"outline",style:{background:"var(--neuron-state-hover)",border:"none",color:"var(--neuron-ink-secondary)",borderRadius:"999px",padding:"8px 20px",fontSize:"14px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.02em"},children:b.hasOverdue?"Needs Follow Up":"In Good Standing"})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},children:[a.jsx(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{children:[a.jsxs("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",marginBottom:"8px",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.02em"},children:["Active ",s,"s"]}),a.jsx("p",{style:{fontWeight:600,color:"var(--neuron-ink-primary)",fontSize:"16px"},children:b.units.length})]}),a.jsx(Zs,{size:20,style:{color:"var(--neuron-ink-muted)"}})]})}),a.jsx(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",marginBottom:"8px",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.02em"},children:"Total Paid"}),a.jsx("p",{style:{fontWeight:600,color:"var(--neuron-ink-primary)",fontSize:"16px",fontVariantNumeric:"tabular-nums"},children:E(b.totalPaid)})]}),a.jsx(Yr,{size:20,style:{color:"var(--neuron-ink-muted)"}})]})}),a.jsx(Ne,{style:{padding:"20px 24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"start",justifyContent:"space-between"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",marginBottom:"8px",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.02em"},children:"Remaining Balance"}),a.jsx("p",{style:{fontWeight:600,color:"var(--neuron-ink-primary)",fontSize:"16px",fontVariantNumeric:"tabular-nums"},children:E(A)})]}),a.jsx(Yr,{size:20,style:{color:"var(--neuron-ink-muted)"}})]})})]}),a.jsxs(Ne,{style:{padding:"24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px",marginBottom:"24px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[a.jsx(vl,{size:20,style:{color:"var(--neuron-brand-green)"}}),a.jsxs("h2",{style:{fontSize:"16px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:[i," Details"]})]}),b.id&&a.jsx("div",{style:{marginBottom:"16px"},children:a.jsx(Pe,{variant:"outline",onClick:()=>w(!0),children:"Edit Details"})}),!b.id&&a.jsxs("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)",marginBottom:"16px"},children:["This ",i.toLowerCase()," is not linked to a database record yet. Assign them to a ",s.toLowerCase()," to save custom details."]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[k.length===0&&a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:"No custom fields configured."}),k.map(P=>a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",textTransform:"uppercase",fontWeight:600,letterSpacing:"0.02em",marginBottom:"6px"},children:P.label}),a.jsx("p",{style:{fontSize:"15px",fontWeight:500,color:"var(--neuron-ink-primary)"},children:_(P.value)})]},P.id))]})]}),a.jsxs(Ne,{style:{padding:"24px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-ui-border)",borderRadius:"12px"},children:[a.jsxs("h2",{style:{fontSize:"16px",fontWeight:600,color:"var(--neuron-ink-primary)",marginBottom:"16px"},children:[s,"s & Contracts"]}),b.units.length===0?a.jsxs("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:["No ",s.toLowerCase()," records yet."]}):a.jsx("div",{style:{display:"grid",gap:"12px"},children:b.units.map(P=>a.jsxs("button",{type:"button",onClick:()=>r(P),style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",borderRadius:"10px",border:"1px solid var(--neuron-ui-border)",background:"var(--neuron-bg-primary)",cursor:"pointer",transition:"all 150ms ease"},onMouseEnter:T=>{T.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.08)"},onMouseLeave:T=>{T.currentTarget.style.boxShadow="none"},children:[a.jsxs("div",{children:[a.jsxs("p",{style:{fontSize:"15px",fontWeight:600,color:"var(--neuron-ink-primary)",marginBottom:"4px"},children:[s," ",P.blockLot]}),a.jsxs("p",{style:{fontSize:"13px",color:"var(--neuron-ink-muted)"},children:[l,": ",P.project||""]})]}),a.jsx(Ze,{variant:"outline",style:{background:"var(--neuron-state-hover)",border:"none",color:"var(--neuron-ink-secondary)",borderRadius:"999px",padding:"6px 14px",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.02em"},children:P.status})]},P.id))})]}),a.jsx(cj,{isOpen:h,onClose:()=>g(!1),organizationId:n,customerLabel:i,initialValues:{id:b.id,full_name:b.name,phone:b.phone??b.contact,email:b.email??null},onSaved:P=>{x(T=>({...T,id:P.id??T.id,name:P.full_name,contact:P.phone??T.contact,phone:P.phone,email:P.email})),g(!1)}}),b.id&&a.jsx(sce,{isOpen:v,onClose:()=>w(!1),organizationId:n,customerId:b.id,customerLabel:i,onSaved:()=>{C(P=>P+1),w(!1)}})]})}var __="Progress",S_=100,[lce]=_a(__),[cce,uce]=lce(__),Z4=j.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=dce,...l}=e;(i||i===0)&&!_R(i)&&console.error(fce(`${i}`,"Progress"));const u=_R(i)?i:S_;n!==null&&!SR(n,u)&&console.error(pce(`${n}`,"Progress"));const d=SR(n,u)?n:null,f=Sh(d)?s(d,u):void 0;return a.jsx(cce,{scope:r,value:d,max:u,children:a.jsx(It.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Sh(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":rL(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});Z4.displayName=__;var eL="ProgressIndicator",tL=j.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=uce(eL,r);return a.jsx(It.div,{"data-state":rL(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});tL.displayName=eL;function dce(e,t){return`${Math.round(e/t*100)}%`}function rL(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Sh(e){return typeof e=="number"}function _R(e){return Sh(e)&&!isNaN(e)&&e>0}function SR(e,t){return Sh(e)&&!isNaN(e)&&e<=t&&e>=0}function fce(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${S_}\`.`}function pce(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${S_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hce=Z4,mce=tL;function k_({className:e,value:t,...r}){return a.jsx(hce,{"data-slot":"progress",className:Yt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:a.jsx(mce,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}const gce={planned:"Planned",in_progress:"In Progress",delayed:"Delayed",completed:"Completed"},kR={planned:"bg-gray-50 text-gray-700 border-gray-200",in_progress:"bg-blue-50 text-blue-700 border-blue-200",delayed:"bg-orange-50 text-orange-700 border-orange-200",completed:"bg-green-50 text-green-700 border-green-200"};function yce({organizationId:e,selectedProject:t,projects:r}){const[n,i]=j.useState([]),[s,l]=j.useState(!0),[u,d]=j.useState(null),[f,p]=j.useState(!1),[h,g]=j.useState(null),[v,w]=j.useState(!1),b=j.useMemo(()=>{var E;return t==="All Projects"?null:((E=r.find(_=>_.name===t))==null?void 0:E.id)??null},[r,t]),x=async()=>{if(!e){i([]),l(!1);return}try{l(!0),d(null);let E=pe.from("project_milestones").select(`
          id,
          project_id,
          name,
          description,
          status,
          progress_percent,
          start_date,
          end_date,
          order_index,
          created_at,
          project:projects(name)
        `).eq("organization_id",e).order("project_id",{ascending:!0}).order("order_index",{ascending:!0});b&&(E=E.eq("project_id",b));const{data:_,error:A}=await E;if(A)throw A;i(_??[])}catch(E){d(E instanceof Error?E.message:"Unable to load milestones.")}finally{l(!1)}};j.useEffect(()=>{x()},[e,b]);const S=j.useMemo(()=>{const E={};return n.forEach(_=>{var P;const A=((P=_.project)==null?void 0:P.name)??"Unknown Project";E[A]??(E[A]=[]),E[A].push(_)}),E},[n]),C=()=>{p(!1),x()},k=()=>{w(!1),g(null),x()};return a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Project Build Tracker"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track construction milestones and delivery readiness."})]}),a.jsxs(Pe,{onClick:()=>p(!0),className:"flex items-center gap-2",children:[a.jsx(z1,{className:"w-4 h-4"}),"Add Milestone"]})]}),!e&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Organization not found. Please sign in again."})}),e&&s&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Loading milestones..."})}),e&&u&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-red-600",children:u})}),e&&!s&&!u&&n.length===0&&a.jsx(Ne,{className:"p-6",children:a.jsx("p",{className:"text-sm text-gray-600",children:"No milestones yet. Add one to start tracking."})}),e&&!s&&!u&&n.length>0&&a.jsx("div",{className:"space-y-6",children:Object.entries(S).map(([E,_])=>a.jsxs(Ne,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:E}),a.jsxs(Ze,{className:"bg-blue-50 text-blue-700 border-blue-200",children:[_.length," milestones"]})]}),a.jsx("div",{className:"space-y-4",children:_.map(A=>{const P=A.status??"planned",T=Math.min(Math.max(A.progress_percent??0,0),100),M=A.start_date||A.end_date?`${A.start_date??"TBD"}  ${A.end_date??"TBD"}`:"Schedule TBD";return a.jsxs("div",{className:"rounded-lg border border-gray-200 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:A.name}),A.description&&a.jsx("p",{className:"text-sm text-gray-600",children:A.description})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ze,{className:kR[P]??kR.planned,children:gce[P]??P}),a.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>{g(A),w(!0)},children:a.jsx(HB,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[a.jsx(Pn,{className:"w-4 h-4"}),M]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[T,"%"]})]}),a.jsx(k_,{value:T})]})]},A.id)})})]},E))}),a.jsx(vce,{isOpen:f,onClose:()=>p(!1),organizationId:e,projects:r,selectedProjectId:b,onCreated:C}),a.jsx(xce,{isOpen:v,onClose:()=>{w(!1),g(null)},milestone:h,onUpdated:k})]})}function vce({isOpen:e,onClose:t,organizationId:r,projects:n,selectedProjectId:i,onCreated:s}){const[l,u]=j.useState(i??""),[d,f]=j.useState(""),[p,h]=j.useState(""),[g,v]=j.useState("planned"),[w,b]=j.useState(""),[x,S]=j.useState(""),[C,k]=j.useState("0"),[E,_]=j.useState(!1);j.useEffect(()=>{i&&u(i)},[i]);const A=()=>{f(""),h(""),v("planned"),b(""),S(""),k("0"),_(!1),t()},P=async()=>{if(!r){ie.error("Organization not found. Please sign in again.");return}if(!l){ie.error("Select a project for this milestone.");return}if(!d.trim()){ie.error("Milestone name is required.");return}const T=Math.min(Math.max(Number(C),0),100);_(!0);try{const{error:M}=await pe.from("project_milestones").insert({organization_id:r,project_id:l,name:d.trim(),description:p.trim()||null,status:g,progress_percent:Number.isNaN(T)?0:T,start_date:w||null,end_date:x||null,order_index:0});if(M)throw M;ie.success("Milestone created",{description:`${d.trim()} has been added.`}),s(),A()}catch(M){ie.error("Failed to create milestone",{description:M instanceof Error?M.message:"Please try again."}),_(!1)}};return a.jsx(ei,{open:e,onOpenChange:T=>!T&&A(),children:a.jsxs(ti,{className:"sm:max-w-[560px]",children:[a.jsxs(ri,{children:[a.jsx(ni,{children:"Add Milestone"}),a.jsx(ii,{children:"Define a construction checkpoint with dates and progress."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[!i&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Project"}),a.jsxs(Ft,{value:l,onValueChange:u,children:[a.jsx(zt,{children:a.jsx(Bt,{placeholder:"Select project"})}),a.jsx(Ut,{children:n.map(T=>a.jsx(Ie,{value:T.id,children:T.name},T.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"milestoneName",children:"Milestone Name"}),a.jsx(Ke,{id:"milestoneName",placeholder:"Foundation completed",value:d,onChange:T=>f(T.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Description"}),a.jsx(qi,{placeholder:"Describe scope, deliverables, or dependencies.",value:p,onChange:T=>h(T.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Status"}),a.jsxs(Ft,{value:g,onValueChange:v,children:[a.jsx(zt,{children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"planned",children:"Planned"}),a.jsx(Ie,{value:"in_progress",children:"In Progress"}),a.jsx(Ie,{value:"delayed",children:"Delayed"}),a.jsx(Ie,{value:"completed",children:"Completed"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"startDate",children:"Start Date"}),a.jsx(Ke,{id:"startDate",type:"date",value:w,onChange:T=>b(T.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"endDate",children:"End Date"}),a.jsx(Ke,{id:"endDate",type:"date",value:x,onChange:T=>S(T.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"progress",children:"Progress (%)"}),a.jsx(Ke,{id:"progress",type:"number",min:"0",max:"100",value:C,onChange:T=>k(T.target.value)})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(Pe,{variant:"outline",onClick:A,disabled:E,children:"Cancel"}),a.jsx(Pe,{onClick:P,disabled:E,children:E?"Saving...":"Create Milestone"})]})]})})}function xce({isOpen:e,onClose:t,milestone:r,onUpdated:n}){const[i,s]=j.useState(""),[l,u]=j.useState(""),[d,f]=j.useState("planned"),[p,h]=j.useState(""),[g,v]=j.useState(""),[w,b]=j.useState("0"),[x,S]=j.useState(!1);j.useEffect(()=>{r&&(s(r.name??""),u(r.description??""),f(r.status??"planned"),h(r.start_date??""),v(r.end_date??""),b(String(r.progress_percent??0)))},[r]);const C=()=>{S(!1),t()},k=async()=>{if(!r)return;if(!i.trim()){ie.error("Milestone name is required.");return}const _=Math.min(Math.max(Number(w),0),100);S(!0);try{const{error:A}=await pe.from("project_milestones").update({name:i.trim(),description:l.trim()||null,status:d,progress_percent:Number.isNaN(_)?0:_,start_date:p||null,end_date:g||null,updated_at:new Date().toISOString()}).eq("id",r.id);if(A)throw A;ie.success("Milestone updated",{description:`${i.trim()} saved.`}),n()}catch(A){ie.error("Failed to update milestone",{description:A instanceof Error?A.message:"Please try again."}),S(!1)}},E=async()=>{if(!(!r||!window.confirm("Delete this milestone? This cannot be undone."))){S(!0);try{const{error:A}=await pe.from("project_milestones").delete().eq("id",r.id);if(A)throw A;ie.success("Milestone deleted"),n()}catch(A){ie.error("Failed to delete milestone",{description:A instanceof Error?A.message:"Please try again."}),S(!1)}}};return a.jsx(ei,{open:e,onOpenChange:_=>!_&&C(),children:a.jsxs(ti,{className:"sm:max-w-[560px]",children:[a.jsxs(ri,{children:[a.jsx(ni,{children:"Edit Milestone"}),a.jsx(ii,{children:"Update progress, dates, and status."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"editMilestoneName",children:"Milestone Name"}),a.jsx(Ke,{id:"editMilestoneName",value:i,onChange:_=>s(_.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Description"}),a.jsx(qi,{value:l,onChange:_=>u(_.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Status"}),a.jsxs(Ft,{value:d,onValueChange:f,children:[a.jsx(zt,{children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"planned",children:"Planned"}),a.jsx(Ie,{value:"in_progress",children:"In Progress"}),a.jsx(Ie,{value:"delayed",children:"Delayed"}),a.jsx(Ie,{value:"completed",children:"Completed"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"editStartDate",children:"Start Date"}),a.jsx(Ke,{id:"editStartDate",type:"date",value:p,onChange:_=>h(_.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"editEndDate",children:"End Date"}),a.jsx(Ke,{id:"editEndDate",type:"date",value:g,onChange:_=>v(_.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"editProgress",children:"Progress (%)"}),a.jsx(Ke,{id:"editProgress",type:"number",min:"0",max:"100",value:w,onChange:_=>b(_.target.value)})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsxs(Pe,{variant:"outline",onClick:E,disabled:x,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(_u,{className:"w-4 h-4 mr-2"}),"Delete"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Pe,{variant:"outline",onClick:C,disabled:x,children:"Cancel"}),a.jsx(Pe,{onClick:k,disabled:x,children:x?"Saving...":"Save Changes"})]})]})]})})}const bce={pending:"Pending",pending_verification:"Pending Verification",approved:"Approved",voided:"Voided",superseded:"Superseded"};function wce({organizationId:e,selectedProject:t,unitLabel:r,customerLabel:n,projectLabel:i}){const[s,l]=j.useState([]),[u,d]=j.useState(!1),[f,p]=j.useState(null),[h,g]=j.useState(0),[v,w]=j.useState(null),[b,x]=j.useState(null),[S,C]=j.useState(!0),[k,E]=j.useState(null);j.useEffect(()=>{if(!e){l([]),d(!1),p(null);return}let $=!0;return(async()=>{try{d(!0),p(null);const{data:B,error:Z}=await pe.from("payment_intents").select(`
            id,
            amount,
            status,
            created_at,
            metadata,
            assigned_to,
            unit:units(
              id,
              block_lot,
              project:projects(id, name),
              customer:customers(id, full_name, phone)
            )
          `).eq("organization_id",e).in("status",["pending","pending_verification"]).order("created_at",{ascending:!1}).limit(200);if(Z)throw Z;if(!$)return;const z=B??[],te=Array.from(new Set(z.map(Se=>Se.assigned_to).filter(Se=>!!Se)));if(te.length===0){l(z);return}const{data:re,error:V}=await pe.from("users").select("id, full_name").in("id",te);if(V){yn(V,{source:"PaymentRequestsView.fetchAssignedUsers"}),l(z);return}const X=re??[],le=new Map(X.map(Se=>[Se.id,{full_name:Se.full_name}])),ce=z.map(Se=>({...Se,assigned_user:Se.assigned_to?le.get(Se.assigned_to)??null:null}));l(ce)}catch(B){if(!$)return;yn(B,{source:"PaymentRequestsView.fetchRequests",organizationId:e}),p(B instanceof Error?B.message:"Unable to load payment requests.")}finally{$&&d(!1)}})(),()=>{$=!1}},[e,h]),j.useEffect(()=>{let $=!0;return(async()=>{var Z;const{data:B}=await pe.auth.getUser();$&&E(((Z=B==null?void 0:B.user)==null?void 0:Z.id)??null)})(),()=>{$=!1}},[]);const _=j.useMemo(()=>t==="All Projects"?s:s.filter($=>{var L,B;return((B=(L=$.unit)==null?void 0:L.project)==null?void 0:B.name)===t}),[s,t]),A=j.useMemo(()=>!S||!k?_:_.filter($=>$.assigned_to===k),[_,S,k]),P=$=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format($),T=_.reduce(($,L)=>$+L.amount,0),M=k?_.filter($=>$.assigned_to===k).length:0;j.useEffect(()=>{S&&k&&_.length!==0&&M===0&&C(!1)},[S,k,_.length,M]);const R=async $=>{try{w({id:$,action:"approve"});const{error:L}=await pe.rpc("admin_approve_payment_intent",{p_intent_id:$});if(L)throw L;ie.success("Payment approved",{description:"The payment has been logged and other duplicates were superseded."}),g(B=>B+1)}catch(L){ie.error("Approval failed",{description:L instanceof Error?L.message:"Please try again."})}finally{w(null)}},D=async $=>{if(k)try{x($);const{error:L}=await pe.rpc("admin_assign_payment_intent",{p_intent_id:$,p_assigned_to:k});if(L)throw L;ie.success("Assigned to you",{description:"This payment request is now in your queue."}),g(B=>B+1)}catch(L){ie.error("Assignment failed",{description:L instanceof Error?L.message:"Please try again."})}finally{x(null)}},q=async $=>{if(window.confirm("Reject this payment request?"))try{w({id:$,action:"reject"});const{error:B}=await pe.rpc("admin_reject_payment_intent",{p_intent_id:$});if(B)throw B;ie.success("Payment request voided",{description:"The request has been marked as voided."}),g(Z=>Z+1)}catch(B){ie.error("Rejection failed",{description:B instanceof Error?B.message:"Please try again."})}finally{w(null)}},F=async $=>{if($.startsWith("http")){window.open($,"_blank","noopener");return}try{const{data:L,error:B}=await pe.storage.from("documents").createSignedUrl($,60);if(B||!(L!=null&&L.signedUrl))throw B??new Error("Unable to create signed URL.");window.open(L.signedUrl,"_blank","noopener")}catch(L){ie.error("Receipt unavailable",{description:L instanceof Error?L.message:"Please try again."})}};return a.jsxs("div",{style:{padding:"24px 32px"},children:[a.jsxs(Ne,{style:{padding:"20px 24px",marginBottom:"20px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.02em",marginBottom:"6px"},children:"Pending Requests"}),a.jsxs("p",{style:{fontSize:"20px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:[A.length," request",A.length===1?"":"s"]}),a.jsxs("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",marginTop:"4px"},children:["My queue: ",M]})]}),a.jsxs("div",{style:{textAlign:"right"},children:[a.jsx("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)",textTransform:"uppercase",letterSpacing:"0.02em",marginBottom:"6px"},children:"Total Amount"}),a.jsx("p",{style:{fontSize:"20px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:P(T)})]})]}),a.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[a.jsx(Pe,{variant:S?"default":"outline",onClick:()=>C(!0),children:"My Queue"}),a.jsx(Pe,{variant:S?"outline":"default",onClick:()=>C(!1),children:"All Requests"})]})]}),a.jsxs(Ne,{style:{padding:"24px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[a.jsx(Yr,{size:20,style:{color:"var(--neuron-brand-green)"}}),a.jsx("h2",{style:{fontSize:"16px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:"Payment Requests Queue"})]}),u?a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:"Loading payment requests..."}):f?a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-state-error)"},children:f}),a.jsx(Pe,{variant:"outline",onClick:()=>g($=>$+1),children:"Retry"})]}):A.length===0?a.jsx("p",{style:{fontSize:"14px",color:"var(--neuron-ink-muted)"},children:"No pending payment requests."}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:A.map($=>{var ue,ee,W,Y,se,me;const L=$.metadata??{},B=L.payment_method??"manual",Z=L.reference_number,z=L.receipt_url,te=L.notes,re=L.month_names,V=L.month_numbers,X=((ue=$.unit)==null?void 0:ue.block_lot)??"",le=((W=(ee=$.unit)==null?void 0:ee.project)==null?void 0:W.name)??"",ce=((se=(Y=$.unit)==null?void 0:Y.customer)==null?void 0:se.full_name)??"",Se=bce[$.status]??$.status,xe=(v==null?void 0:v.id)===$.id,ye=b===$.id,Ae=re!=null&&re.length?re.join(", "):V!=null&&V.length?V.join(", "):null,G=((me=$.assigned_user)==null?void 0:me.full_name)??"Unassigned";return a.jsxs("div",{style:{border:"1px solid var(--neuron-ui-border)",borderRadius:"12px",padding:"16px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"12px",marginBottom:"12px",flexWrap:"wrap"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"15px",fontWeight:600,color:"var(--neuron-ink-primary)"},children:P($.amount)}),a.jsxs("p",{style:{fontSize:"12px",color:"var(--neuron-ink-muted)"},children:["Submitted ",new Date($.created_at).toLocaleString("en-US")]})]}),a.jsx(Ze,{variant:"outline",children:Se})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"12px",marginBottom:"12px"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:r}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:X})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:i}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:le})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:n}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:ce})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"12px",marginBottom:"16px"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:"Method"}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:B})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:"Reference"}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:Z||""})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:"Receipt Link"}),z?a.jsx("button",{type:"button",onClick:()=>F(z),style:{fontSize:"13px",color:"var(--neuron-brand-green)"},children:"View receipt"}):a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:""})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:"Notes"}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:te||""})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:"Schedule Months"}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:Ae||""})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.02em",color:"var(--neuron-ink-muted)",marginBottom:"4px"},children:"Assigned To"}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-primary)"},children:G})]})]}),a.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[a.jsx(Pe,{variant:"outline",onClick:()=>R($.id),disabled:xe,children:xe&&(v==null?void 0:v.action)==="approve"?"Approving...":"Approve Payment"}),a.jsx(Pe,{variant:"outline",onClick:()=>D($.id),disabled:ye||!k,children:ye?"Assigning...":"Assign to Me"}),a.jsx(Pe,{variant:"ghost",onClick:()=>q($.id),disabled:xe,children:xe&&(v==null?void 0:v.action)==="reject"?"Rejecting...":"Reject Request"})]})]},$.id)})})]})]})}function jce({currentView:e,onNavigate:t,selectedProject:r,onProjectChange:n,projects:i,unitLabel:s="Unit",customerLabel:l="Customer",currentRole:u,onRoleChange:d,onSwitchToCustomer:f}){const[p,h]=j.useState(!1),[g,v]=j.useState({overview:!0,portfolio:!0,operations:!0,analytics:!1,system:!1}),w=k=>{v(E=>({...E,[k]:!E[k]}))},b=s.endsWith("s")?s:`${s}s`,x=l.endsWith("s")?l:`${l}s`,S=[{id:"dashboard",icon:C2,label:"Dashboard",view:"dashboard",category:"overview"},{id:"units",icon:fn,label:b,view:"units",category:"portfolio"},{id:"customers",icon:Zs,label:x,view:"customers",category:"portfolio"},{id:"collections",icon:ln,label:"Collections",view:"collections",category:"operations"},{id:"paymentRequests",icon:vl,label:"Payment Requests",view:"paymentRequests",category:"operations"},{id:"communications",icon:Qs,label:"Communications",view:"communications",category:"operations"},{id:"buildTracker",icon:AB,label:"Build Tracker",view:"buildTracker",category:"operations"},{id:"bulk",icon:hy,label:"Bulk Operations",view:"bulk",category:"operations"},{id:"reports",icon:mp,label:"Reports",view:"reports",category:"analytics"},{id:"documents",icon:$r,label:"Documents",view:"documents",category:"analytics"},{id:"activity",icon:F3,label:"Activity Log",view:"activity",category:"system"},{id:"settings",icon:ju,label:"Settings",view:"settings",category:"system"}],C={overview:{label:"Overview",icon:C2,items:S.filter(k=>k.category==="overview")},portfolio:{label:"Portfolio",icon:fn,items:S.filter(k=>k.category==="portfolio")},operations:{label:"Operations",icon:hy,items:S.filter(k=>k.category==="operations")},analytics:{label:"Analytics & Docs",icon:mp,items:S.filter(k=>k.category==="analytics")},system:{label:"System",icon:ju,items:S.filter(k=>k.category==="system")}};return a.jsxs("div",{style:{width:p?"72px":"280px",background:"#FFFFFF",display:"flex",flexDirection:"column",transition:"width 300ms cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",height:"100vh",overflow:"hidden",zIndex:10,boxShadow:"2px 0 12px rgba(0, 0, 0, 0.04)",cursor:p?"pointer":"default"},onClick:()=>{p&&h(!1)},children:[a.jsxs("div",{style:{padding:p?"24px 12px":"24px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"88px",borderBottom:"1px solid #E5E7EB"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx(hy,{size:32,style:{color:"#EF4444",strokeWidth:2.5,fill:"#EF4444"}}),!p&&a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsx("p",{style:{fontSize:"20px",fontWeight:900,color:"#1F2937",lineHeight:"24px",marginBottom:"2px",letterSpacing:"0.03em",WebkitTextStroke:"0.5px #1F2937"},children:"NEXSYS"}),a.jsx("p",{style:{fontSize:"13px",color:"#9CA3AF",lineHeight:"18px",fontWeight:400},children:"Revenue Lifecycle"})]})]}),!p&&a.jsx("button",{onClick:k=>{k.stopPropagation(),h(!0)},style:{width:"32px",height:"32px",background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 200ms cubic-bezier(0.4, 0, 0.2, 1)",flexShrink:0},onMouseOver:k=>{k.currentTarget.style.background="#F3F4F6",k.currentTarget.style.borderColor="#D1D5DB"},onMouseOut:k=>{k.currentTarget.style.background="#F9FAFB",k.currentTarget.style.borderColor="#E5E7EB"},children:a.jsx(qB,{size:16,style:{color:"#6B7280"}})})]}),a.jsxs("div",{style:{flex:1,padding:p?"20px 10px":"20px 16px",display:"flex",flexDirection:"column",gap:"6px",overflowY:"auto",overflowX:"hidden"},children:[!p&&a.jsx("p",{style:{fontSize:"11px",fontWeight:700,color:"#9A9FA5",textTransform:"uppercase",letterSpacing:"0.08em",padding:"0 12px",marginBottom:"6px",lineHeight:"16px"},children:"Menu"}),Object.keys(C).map(k=>{const E=C[k],_=E.icon;return a.jsxs("div",{style:{marginBottom:"4px"},children:[a.jsxs("button",{onClick:()=>w(k),style:{display:"flex",alignItems:"center",gap:"12px",padding:p?"14px 12px":"12px 14px",background:"transparent",border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 200ms cubic-bezier(0.4, 0, 0.2, 1)",justifyContent:p?"center":"space-between",width:"100%",position:"relative"},onMouseOver:A=>{A.currentTarget.style.background="#F9FAFB"},onMouseOut:A=>{A.currentTarget.style.background="transparent"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx(_,{size:20,style:{color:"#9CA3AF",flexShrink:0,strokeWidth:2}}),!p&&a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#6B7280",lineHeight:"20px",whiteSpace:"nowrap"},children:E.label})]}),!p&&a.jsx(Nh,{size:16,style:{color:"#9CA3AF",transform:g[k]?"rotate(180deg)":"rotate(0deg)",transition:"transform 200ms cubic-bezier(0.4, 0, 0.2, 1)",flexShrink:0}})]}),g[k]&&E.items.map(A=>{const P=A.icon,T=e===A.view;return a.jsxs("button",{"data-tour-id":`nav-${A.id}`,onClick:()=>t(A.view),style:{display:"flex",alignItems:"center",gap:"12px",padding:p?"12px 12px":"10px 14px",paddingLeft:p?"12px":"40px",background:T?"#FEF2F2":"transparent",border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 200ms cubic-bezier(0.4, 0, 0.2, 1)",justifyContent:p?"center":"flex-start",width:"100%",position:"relative",marginTop:"2px"},onMouseOver:M=>{T||(M.currentTarget.style.background="#F9FAFB")},onMouseOut:M=>{T||(M.currentTarget.style.background="transparent")},children:[T&&a.jsx("div",{style:{position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",width:"3px",height:"20px",background:"#EF4444",borderRadius:"0 2px 2px 0"}}),a.jsx(P,{size:18,style:{color:T?"#EF4444":"#9CA3AF",flexShrink:0,strokeWidth:T?2.5:2}}),!p&&a.jsx("span",{style:{fontSize:"14px",fontWeight:T?600:500,color:T?"#111827":"#6B7280",lineHeight:"20px",whiteSpace:"nowrap"},children:A.label})]},A.id)})]},k)}),!p&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{height:"1px",background:"#EFEFEF",margin:"16px 0"}}),a.jsx("p",{style:{fontSize:"11px",fontWeight:700,color:"#9A9FA5",textTransform:"uppercase",letterSpacing:"0.08em",padding:"0 12px",marginBottom:"6px",lineHeight:"16px"},children:"Projects"}),a.jsxs("button",{onClick:()=>n("All Projects"),style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 14px",background:r==="All Projects"?"#FEE2E2":"transparent",border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 200ms cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",justifyContent:"flex-start",position:"relative"},onMouseOver:k=>{r!=="All Projects"&&(k.currentTarget.style.background="#F5F6F7")},onMouseOut:k=>{r!=="All Projects"&&(k.currentTarget.style.background="transparent")},children:[r==="All Projects"&&a.jsx("div",{style:{position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",width:"3px",height:"20px",background:"#EF4444",borderRadius:"0 2px 2px 0"}}),a.jsx(fn,{size:18,style:{color:r==="All Projects"?"#EF4444":"#6F767E",flexShrink:0}}),a.jsx("span",{style:{fontSize:"14px",fontWeight:r==="All Projects"?600:500,color:r==="All Projects"?"#1A1D1F":"#6F767E",lineHeight:"20px",whiteSpace:"nowrap"},children:"All Projects"})]}),i.map(k=>a.jsxs("button",{onClick:()=>n(k),style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 14px",background:r===k?"#FEE2E2":"transparent",border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 200ms cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",justifyContent:"flex-start",position:"relative"},onMouseOver:E=>{r!==k&&(E.currentTarget.style.background="#F5F6F7")},onMouseOut:E=>{r!==k&&(E.currentTarget.style.background="transparent")},children:[r===k&&a.jsx("div",{style:{position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",width:"3px",height:"20px",background:"#EF4444",borderRadius:"0 2px 2px 0"}}),a.jsx(fn,{size:18,style:{color:r===k?"#EF4444":"#6F767E",flexShrink:0}}),a.jsx("span",{style:{fontSize:"14px",fontWeight:r===k?600:500,color:r===k?"#1A1D1F":"#6F767E",lineHeight:"20px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:k})]},k))]}),!p&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{height:"1px",background:"#EFEFEF",margin:"16px 0"}}),a.jsx("p",{style:{fontSize:"11px",fontWeight:700,color:"#9A9FA5",textTransform:"uppercase",letterSpacing:"0.08em",padding:"0 12px",marginBottom:"6px",lineHeight:"16px"},children:"View As"}),a.jsx("div",{style:{background:"#F5F6F7",borderRadius:"12px",padding:"6px"},children:a.jsxs(Ft,{value:u,onValueChange:d,children:[a.jsx(zt,{style:{width:"100%",borderColor:"transparent",background:"transparent",borderRadius:"8px",height:"40px",fontSize:"14px",color:"#1A1D1F",fontWeight:500},children:a.jsx(Bt,{})}),a.jsxs(Ut,{children:[a.jsx(Ie,{value:"Executive",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("div",{style:{width:"8px",height:"8px",background:"#9333ea",borderRadius:"50%"}}),a.jsx("span",{children:"Executive"})]})}),a.jsx(Ie,{value:"Manager",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("div",{style:{width:"8px",height:"8px",background:"#18AB5C",borderRadius:"50%"}}),a.jsx("span",{children:"Manager"})]})}),a.jsx(Ie,{value:"Encoder",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("div",{style:{width:"8px",height:"8px",background:"#6F767E",borderRadius:"50%"}}),a.jsx("span",{children:"Encoder/Staff"})]})})]})]})})]}),!p&&f&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{height:"1px",background:"#EFEFEF",margin:"16px 0"}}),a.jsx("p",{style:{fontSize:"11px",fontWeight:700,color:"#9A9FA5",textTransform:"uppercase",letterSpacing:"0.08em",padding:"0 12px",marginBottom:"6px",lineHeight:"16px"},children:"Switch To"}),a.jsxs("button",{onClick:f,style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 14px",background:"transparent",border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 200ms cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",justifyContent:"flex-start",position:"relative"},onMouseOver:k=>{k.currentTarget.style.background="#F5F6F7"},onMouseOut:k=>{k.currentTarget.style.background="transparent"},children:[a.jsx(xl,{size:18,style:{color:"#6F767E",flexShrink:0}}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#6F767E",lineHeight:"20px",whiteSpace:"nowrap"},children:"Customer"})]})]})]})]})}function _ce({onAuthenticated:e}){const[t,r]=j.useState(!1),[n,i]=j.useState("create"),[s,l]=j.useState(""),[u,d]=j.useState(""),[f,p]=j.useState(""),[h,g]=j.useState(""),[v,w]=j.useState(null),[b,x]=j.useState("idle"),[S,C]=j.useState(!1),[k,E]=j.useState(!1),_=typeof window<"u"?new URLSearchParams(window.location.search).get("join_org"):null,A=typeof window<"u"?new URLSearchParams(window.location.search).get("join_role"):null,P=!!_;j.useEffect(()=>{P&&(r(!0),i("join"),g(_??""))},[P]);const T=async()=>{const R=h.trim();if(!R||!u.trim())return w(null),x("idle"),!1;try{x("checking");const{data:D,error:q}=await pe.rpc("validate_org_code",{p_org_code:R,p_email:u.trim()});if(q)throw q;const F=Array.isArray(D)?D[0]:D;return F!=null&&F.valid?(w(F.org_name??null),x("valid"),!0):(w(null),x("invalid"),!1)}catch(D){return w(null),x("invalid"),ie.error("Unable to validate Org ID",{description:D instanceof Error?D.message:"Please try again."}),!1}},M=async R=>{if(R.preventDefault(),!u||!f||t&&!s){ie.error("Please fill out all required fields.");return}if(t&&n==="join"&&!await T()){ie.error("Org ID not found",{description:"Check the Org ID and try again."});return}E(!0);try{if(t){const{error:D}=await pe.auth.signUp({email:u,password:f,options:{data:{full_name:s,join_org_code:n==="join"?h.trim():void 0,join_org_slug:_??void 0,join_role:A??void 0}}});if(D)throw D;n==="join"?(C(!0),ie.success("Account creation pending approval",{description:"An admin will approve your access shortly."})):ie.success("Account created",{description:"Check your email if confirmation is required."})}else{const{error:D}=await pe.auth.signInWithPassword({email:u,password:f});if(D)throw D;ie.success("Welcome back!")}if(typeof window<"u"&&_){const D=new URL(window.location.href);D.searchParams.delete("join_org"),D.searchParams.delete("join_role"),window.history.replaceState({},"",D.pathname+D.search)}e()}catch(D){ie.error("Authentication failed",{description:D instanceof Error?D.message:"Please try again."})}finally{E(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:"#F9FAFB"},children:a.jsxs(Ne,{className:"w-full max-w-md p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-red-500 to-red-600 mb-4",children:a.jsx(fn,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:P?"Join Organization":t?"Create Admin Account":"Admin Login"}),a.jsx("p",{className:"text-sm text-gray-600",children:P?`Create your account to join ${_}.`:t?"Set up your Nexsys admin access.":"Sign in to manage your portfolio."})]}),a.jsxs("form",{onSubmit:M,className:"space-y-5",children:[t&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"fullName",children:"Full Name"}),a.jsx(Ke,{id:"fullName",value:s,onChange:R=>l(R.target.value),placeholder:"Full name",className:"h-11"})]}),t&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{children:"Organization"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(Pe,{type:"button",variant:n==="create"?"default":"outline",onClick:()=>i("create"),children:"Create Org"}),a.jsx(Pe,{type:"button",variant:n==="join"?"default":"outline",onClick:()=>i("join"),children:"Join Org"})]})]}),t&&n==="join"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"orgCode",children:"Org ID"}),a.jsx(Ke,{id:"orgCode",value:h,onChange:R=>{g(R.target.value.toUpperCase()),x("idle"),w(null)},onBlur:T,placeholder:"e.g. TL22345",className:"h-11"}),b==="checking"&&a.jsx("p",{className:"text-xs text-gray-500",children:"Validating Org ID..."}),b==="valid"&&v&&a.jsxs("p",{className:"text-xs text-green-600",children:["Org found: ",v]}),b==="invalid"&&a.jsx("p",{className:"text-xs text-red-600",children:"Org ID not found."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"email",children:"Email"}),a.jsx(Ke,{id:"email",type:"email",value:u,onChange:R=>d(R.target.value),placeholder:"you@company.com",className:"h-11"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"password",children:"Password"}),a.jsx(Ke,{id:"password",type:"password",value:f,onChange:R=>p(R.target.value),placeholder:"",className:"h-11"})]}),a.jsx(Pe,{type:"submit",className:"w-full h-11",disabled:k,children:k?"Please wait...":t?"Create Account":"Sign In"})]}),S&&a.jsx("div",{className:"mt-5 rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-800",children:"Account creation pending approval. You can close this tab and wait for access."}),a.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[t?"Already have an account?":"Need an admin account?"," ",a.jsx("button",{type:"button",className:"text-red-600 hover:text-red-700 font-medium",onClick:()=>r(!t),children:t?"Sign in":"Create one"})]})]})})}const Sce=e=>e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),hl=e=>typeof e=="object"&&e!==null,kce=e=>e?Array.isArray(e)?e.filter(hl).filter(t=>typeof t.entity_type=="string"&&typeof t.status_key=="string"&&typeof t.label=="string").map(t=>({entity_type:t.entity_type,status_key:t.status_key,label:t.label,order_index:typeof t.order_index=="number"?t.order_index:void 0,is_terminal:typeof t.is_terminal=="boolean"?t.is_terminal:void 0,is_active:typeof t.is_active=="boolean"?t.is_active:void 0})):hl(e)?Object.entries(e).flatMap(([r,n])=>Array.isArray(n)?n.filter(hl).filter(i=>typeof i.status_key=="string"&&typeof i.label=="string").map(i=>({entity_type:r,status_key:i.status_key,label:i.label,order_index:typeof i.order_index=="number"?i.order_index:void 0,is_terminal:typeof i.is_terminal=="boolean"?i.is_terminal:void 0,is_active:typeof i.is_active=="boolean"?i.is_active:void 0})):[]):[]:[],Nce=e=>e?Array.isArray(e)?e.filter(hl).filter(t=>typeof t.entity_type=="string"&&typeof t.field_key=="string"&&typeof t.label=="string").map(t=>({entity_type:t.entity_type,field_key:t.field_key,label:t.label,data_type:typeof t.data_type=="string"?t.data_type:"text",is_required:typeof t.is_required=="boolean"?t.is_required:void 0,default_value:t.default_value,options:t.options,order_index:typeof t.order_index=="number"?t.order_index:void 0,is_active:typeof t.is_active=="boolean"?t.is_active:void 0})):hl(e)?Object.entries(e).flatMap(([r,n])=>Array.isArray(n)?n.filter(hl).filter(i=>typeof i.field_key=="string"&&typeof i.label=="string").map(i=>({entity_type:r,field_key:i.field_key,label:i.label,data_type:typeof i.data_type=="string"?i.data_type:"text",is_required:typeof i.is_required=="boolean"?i.is_required:void 0,default_value:i.default_value,options:i.options,order_index:typeof i.order_index=="number"?i.order_index:void 0,is_active:typeof i.is_active=="boolean"?i.is_active:void 0})):[]):[]:[],Cce=e=>e.some(r=>r.entity_type==="customer")?e:[...e,...j_],Pce=[{name:"Condo Presale (Standard)",description:"Balanced schedule + risk tracking for vertical developments.",template_type:"real_estate",is_shared:!0,config:{entity_statuses:[{entity_type:"unit",status_key:"available",label:"Available",order_index:1},{entity_type:"unit",status_key:"reserved",label:"Reserved",order_index:2},{entity_type:"unit",status_key:"in_payment_cycle",label:"In Payment Cycle",order_index:3},{entity_type:"unit",status_key:"at_risk",label:"At Risk",order_index:4},{entity_type:"unit",status_key:"overdue",label:"Overdue",order_index:5},{entity_type:"unit",status_key:"critical",label:"Critical",order_index:6},{entity_type:"unit",status_key:"fully_paid",label:"Fully Paid",order_index:7},{entity_type:"unit",status_key:"move_in_scheduled",label:"Move-in Scheduled",order_index:8},{entity_type:"unit",status_key:"move_in_confirmed",label:"Move-in Confirmed",order_index:9}],entity_fields:[{entity_type:"unit",field_key:"floor_area",label:"Floor Area (sqm)",data_type:"number",order_index:1},{entity_type:"unit",field_key:"tower",label:"Tower",data_type:"text",order_index:2},{entity_type:"unit",field_key:"level",label:"Level",data_type:"text",order_index:3},{entity_type:"unit",field_key:"parking_slot",label:"Parking Slot",data_type:"text",order_index:4},{entity_type:"unit",field_key:"monthly_amount",label:"Monthly Amortization",data_type:"currency",order_index:5},{entity_type:"unit",field_key:"next_due_date",label:"Next Due Date",data_type:"date",order_index:6}]}},{name:"Townhouse Installment (Phased)",description:"Phase-driven milestones with amortization focus.",template_type:"real_estate",is_shared:!0,config:{entity_statuses:[{entity_type:"unit",status_key:"available",label:"Available",order_index:1},{entity_type:"unit",status_key:"reserved",label:"Reserved",order_index:2},{entity_type:"unit",status_key:"in_payment_cycle",label:"In Payment Cycle",order_index:3},{entity_type:"unit",status_key:"at_risk",label:"At Risk",order_index:4},{entity_type:"unit",status_key:"overdue",label:"Overdue",order_index:5},{entity_type:"unit",status_key:"critical",label:"Critical",order_index:6},{entity_type:"unit",status_key:"fully_paid",label:"Fully Paid",order_index:7}],entity_fields:[{entity_type:"unit",field_key:"lot_area",label:"Lot Area (sqm)",data_type:"number",order_index:1},{entity_type:"unit",field_key:"floor_area",label:"Floor Area (sqm)",data_type:"number",order_index:2},{entity_type:"unit",field_key:"block",label:"Block",data_type:"text",order_index:3},{entity_type:"unit",field_key:"phase",label:"Phase",data_type:"text",order_index:4},{entity_type:"unit",field_key:"monthly_amount",label:"Monthly Amortization",data_type:"currency",order_index:5},{entity_type:"unit",field_key:"next_due_date",label:"Next Due Date",data_type:"date",order_index:6}]}}];function Ece({organizationId:e,organizationName:t,onCompleted:r}){const[n,i]=j.useState(t||""),[s,l]=j.useState("real_estate"),[u,d]=j.useState([]),[f,p]=j.useState(!0),[h,g]=j.useState(null),v=j.useMemo(()=>new Set(["real_estate"]),[]),[w,b]=j.useState(""),[x,S]=j.useState(""),[C,k]=j.useState(""),[E,_]=j.useState(!1),A=j.useMemo(()=>w?w.replace(/[^a-zA-Z0-9\s]/g,"").split(/\s+/).filter(Boolean).map(L=>L[0]).join("").toUpperCase().slice(0,6):"",[w]);j.useEffect(()=>{let L=!0;return(async()=>{var X,le;p(!0);const{data:Z,error:z}=await pe.from("template_configs").select("id,name,description,template_type,config,is_shared").order("name",{ascending:!0});if(!L)return;if(z){ie.error("Failed to load templates",{description:z.message}),d([]),p(!1);return}const re=(Z??[]).filter(ce=>v.has(ce.template_type));d(re);const V=((X=re.find(ce=>ce.id===h))==null?void 0:X.id)??((le=re[0])==null?void 0:le.id)??null;g(V),p(!1)})(),()=>{L=!1}},[]);const P=async()=>{var L,B;try{const Z=new Set(u.map(Se=>Se.name)),z=Pce.filter(Se=>!Z.has(Se.name)).map(Se=>({organization_id:e,name:Se.name,description:Se.description,template_type:Se.template_type,config:Se.config,is_shared:Se.is_shared}));if(z.length===0){ie.message("Presets already available.");return}const{error:te}=await pe.from("template_configs").insert(z);if(te)throw te;ie.success("Preset templates loaded");const{data:re,error:V}=await pe.from("template_configs").select("id,name,description,template_type,config,is_shared").order("name",{ascending:!0});if(V)throw V;const le=(re??[]).filter(Se=>v.has(Se.template_type));d(le);const ce=((L=le.find(Se=>Se.id===h))==null?void 0:L.id)??((B=le[0])==null?void 0:B.id)??null;g(ce)}catch(Z){ie.error("Unable to load presets",{description:Z instanceof Error?Z.message:"Please try again."})}},T=async L=>{if(L.preventDefault(),!n.trim()){ie.error("Organization name is required.");return}if(!w.trim()){ie.error("Project name is required.");return}if(!h){ie.error("Please choose a template to continue.");return}_(!0);const B=Sce(n),Z=(x||A||w).toUpperCase().replace(/\s+/g,"-"),{data:z,error:te}=await pe.from("organizations").select("settings").eq("id",e).single();if(te){ie.error("Failed to load organization settings",{description:te.message}),_(!1);return}const re=u.find(ce=>ce.id===h),V={...(z==null?void 0:z.settings)||{},template_id:h,template_name:(re==null?void 0:re.name)??null,template_type:(re==null?void 0:re.template_type)??null},{error:X}=await pe.from("organizations").update({name:n.trim(),business_type:s,slug:B,settings:V}).eq("id",e);if(X){ie.error("Failed to update organization",{description:X.message}),_(!1);return}if(re){const ce=re.config||{},Se=kce(ce.entity_statuses),xe=Cce(Nce(ce.entity_fields));if(Se.length>0){const{error:ye}=await pe.from("entity_statuses").delete().eq("organization_id",e);if(ye){ie.error("Failed to reset template statuses",{description:ye.message}),_(!1);return}const Ae=Se.map((ue,ee)=>({organization_id:e,entity_type:ue.entity_type,status_key:ue.status_key,label:ue.label,order_index:ue.order_index??ee,is_terminal:ue.is_terminal??!1,is_active:ue.is_active??!0})),{error:G}=await pe.from("entity_statuses").upsert(Ae,{onConflict:"organization_id,entity_type,status_key"});if(G){ie.error("Failed to apply template statuses",{description:G.message}),_(!1);return}}if(xe.length>0){const{error:ye}=await pe.from("entity_fields").delete().eq("organization_id",e);if(ye){ie.error("Failed to reset template fields",{description:ye.message}),_(!1);return}const Ae=xe.map((ue,ee)=>({organization_id:e,entity_type:ue.entity_type,field_key:ue.field_key,label:ue.label,data_type:ue.data_type,is_required:ue.is_required??!1,default_value:ue.default_value??null,options:ue.options??null,order_index:ue.order_index??ee,is_active:ue.is_active??!0})),{error:G}=await pe.from("entity_fields").upsert(Ae,{onConflict:"organization_id,entity_type,field_key"});if(G){ie.error("Failed to apply template fields",{description:G.message}),_(!1);return}}}const{error:le}=await pe.from("projects").insert({organization_id:e,name:w.trim(),code:Z,location:C.trim()||null,total_units:0,units_sold:0,units_available:0});if(le){ie.error("Failed to create project",{description:le.message}),_(!1);return}ie.success("Setup complete",{description:"Organization and first project created."}),_(!1),r()},M=async()=>{await pe.auth.signOut()},R=[{label:"Organization name added",done:!!n.trim()},{label:"Business type set",done:!!s.trim()},{label:"Template selected",done:!!h},{label:"Project name added",done:!!w.trim()},{label:"Project code added",done:!!(x.trim()||A)},{label:"Project location added",done:!!C.trim()}],D=R.filter(L=>L.done).length,q=Math.round(D/R.length*100),F=u.filter(L=>L.is_shared),$=u.filter(L=>!L.is_shared);return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:"#F9FAFB"},children:a.jsxs(Ne,{className:"w-full max-w-2xl p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-50 flex items-center justify-center",children:a.jsx(fn,{className:"w-6 h-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Set up your workspace"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Create your organization and first project."})]})]}),a.jsxs(Pe,{variant:"ghost",size:"sm",onClick:M,className:"flex items-center gap-2",children:[a.jsx(B1,{className:"w-4 h-4"}),"Sign Out"]})]}),a.jsxs("form",{onSubmit:T,className:"space-y-8",children:[a.jsxs(Ne,{className:"border border-gray-200 bg-white p-5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Setup Checklist"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Complete the essentials to launch your workspace."})]}),a.jsxs("span",{className:"text-xs font-semibold text-gray-600",children:[q,"%"]})]}),a.jsx(k_,{value:q,className:"mt-3"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-4 text-xs text-gray-600",children:R.map(L=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`h-2 w-2 rounded-full ${L.done?"bg-green-500":"bg-gray-300"}`}),a.jsx("span",{className:L.done?"text-gray-900":"text-gray-600",children:L.label})]},L.label))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Organization Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(We,{htmlFor:"orgName",children:"Organization Name"}),a.jsx(Ke,{id:"orgName",value:n,onChange:L=>i(L.target.value),placeholder:"Organization name"})]}),a.jsxs("div",{children:[a.jsx(We,{htmlFor:"businessType",children:"Business Type"}),a.jsx(Ke,{id:"businessType",value:s,onChange:L=>l(L.target.value),placeholder:"Business type"})]})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Choose a Template"}),a.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Templates prefill labels, statuses, and the custom fields used throughout the app. Marketplace presets are shared real estate setups curated for common workflows; your templates stay private to this organization. Everything is editable later via ",a.jsx("strong",{children:"Template Configs"})," (Settings > Templates), so you can adjust field labels, requirements, or statuses once you have real data."]}),f?a.jsx("div",{className:"text-sm text-gray-500",children:"Loading templates..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Marketplace presets"}),F.length===0&&a.jsx(Pe,{type:"button",variant:"outline",size:"sm",onClick:P,children:"Load presets"})]}),F.length===0?a.jsx("p",{className:"text-xs text-gray-500",children:"No shared templates yet. Load preset options for real estate workflows."}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.map(L=>{const B=L.id===h;return a.jsxs("button",{type:"button",onClick:()=>g(L.id),className:"text-left rounded-lg border px-4 py-3 transition",style:{borderColor:B?"#EF4444":"#E5E7EB",background:B?"#FEF2F2":"#FFFFFF"},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:L.name}),a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-red-50 text-red-600 border border-red-200",children:"Marketplace"})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-600",children:L.description||"Template-based setup for your revenue model."})]},L.id)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-2",children:"Your templates"}),$.length===0?a.jsx("p",{className:"text-xs text-gray-500",children:"No private templates found yet."}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(L=>{const B=L.id===h;return a.jsxs("button",{type:"button",onClick:()=>g(L.id),className:"text-left rounded-lg border px-4 py-3 transition",style:{borderColor:B?"#EF4444":"#E5E7EB",background:B?"#FEF2F2":"#FFFFFF"},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:L.name}),a.jsx("span",{className:"text-xs text-gray-500",children:L.template_type.replace(/_/g," ")})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-600",children:L.description||"Template-based setup for your revenue model."})]},L.id)})})]})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-4",children:"First Project"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(We,{htmlFor:"projectName",children:"Project Name"}),a.jsx(Ke,{id:"projectName",value:w,onChange:L=>b(L.target.value),placeholder:"Project name"})]}),a.jsxs("div",{children:[a.jsx(We,{htmlFor:"projectCode",children:"Project Code"}),a.jsx(Ke,{id:"projectCode",value:x,onChange:L=>S(L.target.value),placeholder:A||"Project code"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(We,{htmlFor:"projectLocation",children:"Project Location"}),a.jsx(Ke,{id:"projectLocation",value:C,onChange:L=>k(L.target.value),placeholder:"City, province"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(kB,{className:"w-4 h-4"}),"You can add more projects later in Settings."]}),a.jsx(Pe,{type:"submit",disabled:E,children:E?"Saving...":"Complete Setup"})]})]})]})})}const N_=()=>{if(typeof window>"u")return null;const{hostname:e,pathname:t,search:r}=window.location,n=e.match(/^([a-z0-9-]+)\.customer\./i);if(n!=null&&n[1])return n[1].toLowerCase();if(t.startsWith("/portal/")){const l=t.split("/")[2];if(l)return l.toLowerCase()}const s=new URLSearchParams(r).get("org");return s?s.toLowerCase():null},NR=()=>typeof window>"u"?!1:!!N_();function Ace({onLogin:e,onBackToAdmin:t,orgSlug:r,showBackToAdmin:n=!0}){const[i,s]=j.useState(""),[l,u]=j.useState(""),[d,f]=j.useState(!1),[p,h]=j.useState([]),[g,v]=j.useState(!1),[w,b]=j.useState(null),[x,S]=j.useState(""),C=j.useMemo(()=>r??N_(),[r]),k=C?C.replace(/-/g," "):"your organization";j.useEffect(()=>{(async()=>{if(!C){h([]),b("Portal link missing organization.");return}v(!0),b(null);try{const{data:A,error:P}=await pe.rpc("customer_portal_get_projects_by_slug",{p_org_slug:C});if(P)throw P;const T=Array.isArray(A)?A:[];h(T),T.length===1?S(T[0].id):T.find(M=>M.id===x)||S("")}catch(A){h([]),b(A instanceof Error?A.message:"Unable to load projects.")}finally{v(!1)}})()},[C]);const E=async _=>{if(_.preventDefault(),!C){ie.error("Missing portal link",{description:"Please use the customer portal link provided by your property manager."});return}if(!x){ie.error("Project is required");return}if(!i.trim()){ie.error("Unit number is required");return}if(!l.trim()){ie.error("PIN is required");return}f(!0);try{const{data:A,error:P}=await pe.rpc("customer_portal_login",{p_org_slug:C,p_project_id:x,p_unit_number:i.trim(),p_pin:l.trim()});if(P)throw P;const T=Array.isArray(A)?A[0]:A;if(!(T!=null&&T.success)||!T.unit_id||!T.session_token){ie.error("Login failed",{description:(T==null?void 0:T.error)??"Unit number or PIN is incorrect"});return}ie.success("Login successful!",{description:"Welcome back! Loading your account..."}),e(T.unit_id,T.session_token,!!T.must_change_pin)}catch(A){ie.error("Login failed",{description:A instanceof Error?A.message:"Unable to sign in."})}finally{f(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"#F9FAFB"},children:[n&&a.jsxs("button",{onClick:t,className:"fixed top-6 left-6 flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(ZR,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Back to Admin Panel"})]}),a.jsxs(Ne,{className:"w-full max-w-md p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-red-500 to-red-600 mb-4",children:a.jsx(fn,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Customer Portal"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Log in to view your unit details and make payments"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Portal for ",k]})]}),w&&a.jsx("div",{className:"mb-5 rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-xs text-amber-800",children:w}),a.jsxs("form",{onSubmit:E,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"project",children:"Project"}),a.jsxs(Ft,{value:x,onValueChange:S,disabled:d||g||!p.length,children:[a.jsx(zt,{className:"h-11",children:a.jsx(Bt,{placeholder:g?"Loading projects...":"Select your project"})}),a.jsx(Ut,{children:p.map(_=>a.jsx(Ie,{value:_.id,children:_.name},_.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"unitNumber",children:"Unit Number"}),a.jsx(Ke,{id:"unitNumber",type:"text",placeholder:"Unit number",value:i,onChange:_=>s(_.target.value),disabled:d,className:"h-11"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(We,{htmlFor:"pin",children:"PIN / Password"}),a.jsx("button",{type:"button",className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"Forgot PIN?"})]}),a.jsx(Ke,{id:"pin",type:"password",placeholder:"Enter your 6-digit PIN",value:l,onChange:_=>u(_.target.value),disabled:d,className:"h-11",maxLength:6})]}),a.jsx(Pe,{type:"submit",disabled:d||g,className:"w-full h-11 bg-red-600 hover:bg-red-700 text-white font-medium",children:d?"Logging in...":"Log In"})]}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-2",children:"Need access?"}),a.jsx("p",{className:"text-xs text-blue-700",children:"Contact your property manager for your unit login PIN."})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:"Need help? Contact your property manager"})})]})]})}const CR="documents";function Oce({unit:e,sessionToken:t,onLogout:r}){var Xt;const[n,i]=j.useState("overview"),[s,l]=j.useState([]),[u,d]=j.useState(!0),[f,p]=j.useState(null),[h,g]=j.useState([]),[v,w]=j.useState(!0),[b,x]=j.useState(null),[S,C]=j.useState([]),[k,E]=j.useState(!0),[_,A]=j.useState(null),[P,T]=j.useState([]),[M,R]=j.useState(!0),[D,q]=j.useState(null),[F,$]=j.useState([]),[L,B]=j.useState(!0),[Z,z]=j.useState(null),[te,re]=j.useState(""),[V,X]=j.useState(""),[le,ce]=j.useState(!1),[Se,xe]=j.useState([]),[ye,Ae]=j.useState(!0),[G,ue]=j.useState(null),[ee,W]=j.useState(!1),[Y,se]=j.useState(!1),[me,we]=j.useState(""),[ve,K]=j.useState("Bank Transfer"),[je,Q]=j.useState(""),[ke,Oe]=j.useState(""),[$e,Fe]=j.useState(null),[ct,ut]=j.useState(0),[_t,mt]=j.useState(""),[Ge,it]=j.useState([]);if(j.useEffect(()=>{let ne=!0;return(async()=>{try{d(!0),p(null);const{data:ze,error:ht}=await pe.rpc("customer_portal_get_documents",{p_session_token:t});if(ht)throw ht;if(!ne)return;l(ze??[])}catch{if(!ne)return;p("Unable to load documents.")}finally{ne&&d(!1)}})(),()=>{ne=!1}},[t]),j.useEffect(()=>{let ne=!0;return(async()=>{try{R(!0),q(null);const{data:ze,error:ht}=await pe.rpc("customer_portal_get_defects",{p_session_token:t});if(ht)throw ht;if(!ne)return;T(ze??[])}catch{if(!ne)return;q("Unable to load warranty items.")}finally{ne&&R(!1)}})(),()=>{ne=!1}},[t]),j.useEffect(()=>{let ne=!0;return(async()=>{try{w(!0),x(null);const{data:ze,error:ht}=await pe.rpc("customer_portal_get_announcements",{p_session_token:t});if(ht)throw ht;if(!ne)return;g(ze??[])}catch{if(!ne)return;x("Unable to load announcements.")}finally{ne&&w(!1)}})(),()=>{ne=!1}},[t]),j.useEffect(()=>{let ne=!0;return(async()=>{try{E(!0),A(null);const{data:ze,error:ht}=await pe.rpc("customer_portal_get_reminders",{p_session_token:t});if(ht)throw ht;if(!ne)return;C(ze??[])}catch{if(!ne)return;A("Unable to load reminders.")}finally{ne&&E(!1)}})(),()=>{ne=!1}},[t]),j.useEffect(()=>{let ne=!0;return(async()=>{try{B(!0),z(null);const{data:ze,error:ht}=await pe.rpc("customer_portal_get_feedback",{p_session_token:t});if(ht)throw ht;if(!ne)return;$(ze??[])}catch{if(!ne)return;z("Unable to load feedback.")}finally{ne&&B(!1)}})(),()=>{ne=!1}},[t]),j.useEffect(()=>{let ne=!0;return(async()=>{try{Ae(!0),ue(null);const{data:ze,error:ht}=await pe.rpc("customer_portal_get_payments",{p_session_token:t});if(ht)throw ht;if(!ne)return;xe(ze??[])}catch{if(!ne)return;ue("Unable to load payments.")}finally{ne&&Ae(!1)}})(),()=>{ne=!1}},[t]),!e.buyer||!e.paymentTerms)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("p",{children:"Unit not found"})});const wt=ne=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(ne),Pt=ne=>(ne instanceof Date?ne:new Date(ne)).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),dt=ne=>(ne instanceof Date?ne:new Date(ne)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),sr={cash:"Cash",check:"Check",bank_transfer:"Bank Transfer",gcash:"GCash",paymaya:"PayMaya",credit_card:"Credit Card"},Kt={completed:"Completed",pending:"Pending",failed:"Failed",refunded:"Refunded"},Wt=Se.map(ne=>{const tt=ne.payment_method?ne.payment_method.toLowerCase().replace(/\s+/g,"_"):"",ze=ne.status?ne.status.toLowerCase():"completed";return{id:ne.id,date:new Date(ne.payment_date),amount:ne.amount,method:sr[tt]??"Cash",status:Kt[ze]??"Completed"}}),Tt=e.paymentTerms.monthsPaid/e.paymentTerms.totalMonths*100,dr=j.useMemo(()=>{if(!e.paymentTerms)return 0;const ne=e.paymentTerms.schedule;return ne&&ne.length>0?ne.reduce((ze,ht)=>ht.status==="Paid"?ze:ht.status==="Partial"?ze+Math.max(ht.amount-(ht.partialAmount??0),0):ze+ht.amount,0):(e.paymentTerms.totalMonths-e.paymentTerms.monthsPaid)*e.paymentTerms.monthlyAmount+e.paymentTerms.arrears},[e.paymentTerms]),he=j.useMemo(()=>s.find(ne=>ne.document_type==="statement")??s.find(ne=>ne.file_name.toLowerCase().includes("statement")),[s]),Be=j.useMemo(()=>s.find(ne=>ne.document_type==="contract")??s.find(ne=>ne.file_name.toLowerCase().includes("contract")),[s]),de=e.status==="Fully Paid"?{icon:a.jsx(Ks,{className:"w-5 h-5"}),text:"Account in Good Standing",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"}:e.paymentTerms.arrears>0?{icon:a.jsx(ln,{className:"w-5 h-5"}),text:`Overdue: ${wt(e.paymentTerms.arrears)}`,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}:{icon:a.jsx(Ks,{className:"w-5 h-5"}),text:"Account in Good Standing",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},qe=()=>{const ne=Number(e.paymentTerms.arrears)||0,tt=Number(e.paymentTerms.monthlyAmount)||0;return ne>0?ne:tt},Te=j.useMemo(()=>{var ne;return((ne=e.paymentTerms)==null?void 0:ne.schedule)??[]},[(Xt=e.paymentTerms)==null?void 0:Xt.schedule]),He=j.useMemo(()=>!Te.length||Ge.length===0?0:Te.filter(ne=>typeof ne.monthNumber=="number"&&Ge.includes(ne.monthNumber)).reduce((ne,tt)=>{const ze=tt.status==="Partial"?Number(tt.amount)-Number(tt.partialAmount??0):Number(tt.amount);return ne+Math.max(ze,0)},0),[Te,Ge]),Xe=j.useMemo(()=>!Te.length||Ge.length===0?[]:Te.filter(ne=>typeof ne.monthNumber=="number"&&Ge.includes(ne.monthNumber)).map(ne=>ne.month),[Te,Ge]);j.useEffect(()=>{Ge.length!==0&&we(He.toFixed(2))},[Ge,He]);const Et=()=>{const ne=qe();ne>0&&we(ne.toFixed(2)),K("Bank Transfer"),Q(""),Oe(""),mt(""),it([]),se(!0)},Ht=ne=>{it(tt=>tt.includes(ne)?tt.filter(ze=>ze!==ne):[...tt,ne].sort((ze,ht)=>ze-ht))},Ct=async()=>{if(!$e)return null;const ne=$e.name.replace(/[^a-zA-Z0-9._-]/g,"_"),tt=`portal/receipts/${e.id}/${crypto.randomUUID()}_${ne}`,{error:ze}=await pe.storage.from(CR).upload(tt,$e,{contentType:$e.type||void 0,upsert:!1});if(ze)throw ze;return tt},Ce=async()=>{var tt;const ne=Number(me);if(!ne||ne<=0){ie.error("Payment unavailable",{description:"Enter a valid payment amount before submitting."});return}try{W(!0);const ze=await Ct(),{data:ht,error:U}=await pe.rpc("customer_portal_create_payment_intent",{p_session_token:t,p_amount:ne,p_payment_method:ve.trim()||null,p_reference_number:je.trim()||null,p_receipt_url:ze??(ke.trim()||null),p_notes:_t.trim()||null,p_month_numbers:Ge.length>0?Ge:null});if(U)throw U;if(!ht||!Array.isArray(ht)||!((tt=ht[0])!=null&&tt.id))throw new Error("Unable to create a payment request.");ie.success("Payment request submitted",{description:"Your proof of payment is pending review by your admin."}),se(!1),we(""),Q(""),Oe(""),Fe(null),ut(_e=>_e+1),mt("")}catch(ze){const ht=ze instanceof Error?ze.message:(ze==null?void 0:ze.message)||(ze==null?void 0:ze.details)||(ze==null?void 0:ze.hint)||"Please try again.";ie.error("Payment request failed",{description:ht})}finally{W(!1)}},Je=async ne=>{if(!ne.storage_path){ie.error("Download failed",{description:"Missing storage path."});return}try{const{data:tt,error:ze}=await pe.storage.from(CR).createSignedUrl(ne.storage_path,60);if(ze||!(tt!=null&&tt.signedUrl))throw ze??new Error("Unable to create signed URL.");window.open(tt.signedUrl,"_blank","noopener")}catch(tt){ie.error("Download failed",{description:tt instanceof Error?tt.message:"Please try again."})}},et=async()=>{if(!te.trim()||!V.trim()){ie.error("Missing details",{description:"Subject and message are required."});return}try{ce(!0);const{data:ne,error:tt}=await pe.rpc("customer_portal_create_feedback",{p_session_token:t,p_subject:te.trim(),p_message:V.trim()});if(tt)throw tt;ie.success("Feedback sent",{description:"Thanks for sharing your update."}),re(""),X(""),i("feedback"),ne&&Array.isArray(ne)&&ne[0]&&$(ze=>[ne[0],...ze])}catch(ne){ie.error("Failed to submit feedback",{description:ne instanceof Error?ne.message:"Please try again."})}finally{ce(!1)}},gt=Wt.slice(0,6);return a.jsxs("div",{className:"min-h-screen",style:{background:"#F9FAFB"},children:[a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center",children:a.jsx(fn,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"font-semibold text-gray-900",children:"Customer Portal"}),a.jsx("p",{className:"text-xs text-gray-600",children:e.project})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.buyer.name}),a.jsx("p",{className:"text-xs text-gray-600",children:e.blockLot})]}),a.jsxs(Pe,{variant:"outline",size:"sm",onClick:r,className:"flex items-center gap-2",children:[a.jsx(B1,{className:"w-4 h-4"}),"Logout"]})]})]})})}),a.jsx(ei,{open:Y,onOpenChange:se,children:a.jsxs(ti,{className:"sm:max-w-[520px] max-h-[90vh] overflow-y-auto",children:[a.jsxs(ri,{children:[a.jsx(ni,{children:"Submit Payment Proof"}),a.jsx(ii,{children:"Share your payment details so your admin can verify and post the payment."})]}),a.jsxs("div",{className:"space-y-4",children:[Te.length>0&&a.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Select Schedule Months (Optional)"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Choose specific months to pay. Amount will auto-calculate."})]}),Ge.length>0&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Selected Total"}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:wt(He)})]})]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:Te.map(ne=>{const tt=ne.status==="Partial"?Number(ne.amount)-Number(ne.partialAmount??0):Number(ne.amount),ze=ne.status==="Paid",ht=typeof ne.monthNumber=="number"?ne.monthNumber:null,U=ht!==null&&Ge.includes(ht);return a.jsxs("label",{className:`flex items-center justify-between rounded-md border px-3 py-2 text-sm ${ze?"bg-gray-100 border-gray-200 text-gray-400":"bg-white border-gray-200 text-gray-700"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:U,disabled:ze||ht===null,onChange:()=>{ht!==null&&Ht(ht)}}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ne.month}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Due ",Pt(ne.dueDate),"  ",ne.status]})]})]}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:wt(Math.max(tt,0))})]},`${ne.month}-${ne.dueDate}`)})}),Xe.length>0&&a.jsxs("p",{className:"text-xs text-gray-600 mt-3",children:["Selected: ",Xe.join(", ")]})]}),a.jsxs("div",{children:[a.jsx(We,{htmlFor:"paymentAmount",children:"Amount"}),a.jsx(Ke,{id:"paymentAmount",type:"number",min:"0",step:"0.01",value:me,onChange:ne=>we(ne.target.value),placeholder:"Enter amount",readOnly:Ge.length>0}),Ge.length>0&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Amount is locked to the selected schedule total."})]}),a.jsxs("div",{children:[a.jsx(We,{htmlFor:"paymentMethod",children:"Payment Method"}),a.jsx(Ke,{id:"paymentMethod",value:ve,onChange:ne=>K(ne.target.value),placeholder:"Payment method"})]}),a.jsxs("div",{children:[a.jsx(We,{htmlFor:"paymentReference",children:"Reference Number"}),a.jsx(Ke,{id:"paymentReference",value:je,onChange:ne=>Q(ne.target.value),placeholder:"Reference number"})]}),a.jsxs("div",{children:[a.jsx(We,{htmlFor:"paymentReceiptFile",children:"Upload Receipt (optional)"}),a.jsx(Ke,{id:"paymentReceiptFile",type:"file",accept:"image/*,.pdf",onChange:ne=>{var ze;const tt=((ze=ne.target.files)==null?void 0:ze[0])??null;Fe(tt)}},ct),$e&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",$e.name]})]}),a.jsxs("div",{children:[a.jsx(We,{htmlFor:"paymentReceiptUrl",children:"Receipt URL (optional)"}),a.jsx(Ke,{id:"paymentReceiptUrl",value:ke,onChange:ne=>Oe(ne.target.value),placeholder:"Receipt URL"})]}),a.jsxs("div",{children:[a.jsx(We,{htmlFor:"paymentNotes",children:"Notes (optional)"}),a.jsx(qi,{id:"paymentNotes",value:_t,onChange:ne=>mt(ne.target.value),placeholder:"Additional details",rows:3})]})]}),a.jsxs(rI,{className:"mt-2",children:[a.jsx(Pe,{variant:"outline",onClick:()=>se(!1),children:"Cancel"}),a.jsx(Pe,{onClick:Ce,disabled:ee,className:"bg-red-600 hover:bg-red-700",children:ee?"Submitting...":"Submit Payment"})]})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:`${de.bgColor} ${de.borderColor} border rounded-lg p-4 mb-6 flex items-center gap-3`,children:[a.jsx("div",{className:de.color,children:de.icon}),a.jsx("p",{className:`font-medium ${de.color}`,children:de.text})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-50 flex items-center justify-center",children:a.jsx(Pn,{className:"w-6 h-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Next Payment Due"}),a.jsx("p",{className:"font-semibold text-gray-900",children:e.paymentTerms.nextDueDate?Pt(e.paymentTerms.nextDueDate):"N/A"})]})]}),a.jsx(ar,{className:"mb-4"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:wt(e.paymentTerms.monthlyAmount)}),a.jsxs(Pe,{onClick:Et,className:"w-full mt-4 bg-red-600 hover:bg-red-700",children:[a.jsx(Lb,{className:"w-4 h-4 mr-2"}),"Make Payment"]})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center",children:a.jsx(Yr,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Payment Progress"}),a.jsxs("p",{className:"font-semibold text-gray-900",children:[e.paymentTerms.monthsPaid," of ",e.paymentTerms.totalMonths," months"]})]})]}),a.jsx(ar,{className:"mb-4"}),a.jsx(k_,{value:Tt,className:"mb-2"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Tt.toFixed(0),"% Complete"]})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-50 flex items-center justify-center",children:a.jsx($r,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Remaining Balance"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[e.paymentTerms.totalMonths-e.paymentTerms.monthsPaid," months left"]})]})]}),a.jsx(ar,{className:"mb-4"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:wt(dr)})]})]}),a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsx("button",{onClick:()=>i("overview"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${n==="overview"?"bg-red-50 text-red-600 border border-red-200":"text-gray-600 hover:bg-gray-50"}`,children:"Overview"}),a.jsx("button",{onClick:()=>i("payments"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${n==="payments"?"bg-red-50 text-red-600 border border-red-200":"text-gray-600 hover:bg-gray-50"}`,children:"Payment History"}),a.jsx("button",{onClick:()=>i("documents"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${n==="documents"?"bg-red-50 text-red-600 border border-red-200":"text-gray-600 hover:bg-gray-50"}`,children:"Documents"}),a.jsx("button",{onClick:()=>i("announcements"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${n==="announcements"?"bg-red-50 text-red-600 border border-red-200":"text-gray-600 hover:bg-gray-50"}`,children:"Announcements"}),a.jsx("button",{onClick:()=>i("reminders"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${n==="reminders"?"bg-red-50 text-red-600 border border-red-200":"text-gray-600 hover:bg-gray-50"}`,children:"Reminders"}),a.jsx("button",{onClick:()=>i("warranty"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${n==="warranty"?"bg-red-50 text-red-600 border border-red-200":"text-gray-600 hover:bg-gray-50"}`,children:"Warranty"}),a.jsx("button",{onClick:()=>i("feedback"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${n==="feedback"?"bg-red-50 text-red-600 border border-red-200":"text-gray-600 hover:bg-gray-50"}`,children:"Feedback"})]}),n==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Ne,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(fn,{className:"w-5 h-5 text-red-600"}),"Unit Details"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Unit Number"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.blockLot})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Unit Type"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.unitType})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Project"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.project})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Phase"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.phase})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Selling Price"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:wt(e.sellingPrice)})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Move-in Date"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.moveInDate?Pt(e.moveInDate):"Not set"})]})]})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Yr,{className:"w-5 h-5 text-red-600"}),"Payment Terms"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Amount"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:wt(e.paymentTerms.monthlyAmount)})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Term"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e.paymentTerms.totalMonths," months"]})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Months Paid"}),a.jsxs("span",{className:"text-sm font-medium text-green-600",children:[e.paymentTerms.monthsPaid," months"]})]}),a.jsx(ar,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Remaining Months"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[e.paymentTerms.totalMonths-e.paymentTerms.monthsPaid," months"]})]}),a.jsx(ar,{}),e.paymentTerms.arrears>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Arrears"}),a.jsx("span",{className:"text-sm font-medium text-red-600",children:wt(e.paymentTerms.arrears)})]}),a.jsx(ar,{})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Next Due Date"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.paymentTerms.nextDueDate?Pt(e.paymentTerms.nextDueDate):"N/A"})]})]})]})]}),n==="payments"&&a.jsxs(Ne,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Si,{className:"w-5 h-5 text-red-600"}),"Recent Payments"]}),ye?a.jsx("p",{className:"text-sm text-gray-600",children:"Loading payment history..."}):G?a.jsx("p",{className:"text-sm text-red-600",children:"Unable to load payments."}):gt.length===0?a.jsx("p",{className:"text-sm text-gray-600",children:"No payments recorded yet."}):a.jsx("div",{className:"space-y-3",children:gt.map((ne,tt)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-50 flex items-center justify-center",children:a.jsx(Ks,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:wt(ne.amount)}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Pt(ne.date),"  ",ne.method]})]})]}),a.jsx(Ze,{className:"bg-green-50 text-green-700 border-green-200",children:ne.status})]}),tt<gt.length-1&&a.jsx(ar,{})]},ne.id))}),a.jsxs(Pe,{variant:"outline",className:"w-full mt-4",onClick:()=>{he?Je(he):ie.info("No statement available yet.")},children:[a.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Download Full Statement"]})]}),n==="documents"&&a.jsxs(Ne,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx($r,{className:"w-5 h-5 text-red-600"}),"Your Documents"]}),u?a.jsx("p",{className:"text-sm text-gray-600",children:"Loading documents..."}):f?a.jsx("p",{className:"text-sm text-red-600",children:f}):s.length===0?a.jsx("p",{className:"text-sm text-gray-600",children:"No documents uploaded yet."}):a.jsxs("div",{className:"space-y-3",children:[Be&&a.jsxs("button",{onClick:()=>Je(Be),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center",children:a.jsx($r,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:Be.file_name}),a.jsx("p",{className:"text-sm text-gray-600",children:Be.file_type.toUpperCase()})]})]}),a.jsx(fy,{className:"w-5 h-5 text-gray-400"})]}),he&&a.jsxs("button",{onClick:()=>Je(he),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-50 flex items-center justify-center",children:a.jsx($r,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:he.file_name}),a.jsx("p",{className:"text-sm text-gray-600",children:he.file_type.toUpperCase()})]})]}),a.jsx(fy,{className:"w-5 h-5 text-gray-400"})]}),s.filter(ne=>ne!==Be&&ne!==he).map(ne=>a.jsxs("button",{onClick:()=>Je(ne),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-50 flex items-center justify-center",children:a.jsx($r,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:ne.file_name}),a.jsx("p",{className:"text-sm text-gray-600",children:ne.file_type.toUpperCase()})]})]}),a.jsx(fy,{className:"w-5 h-5 text-gray-400"})]},ne.id))]})]}),n==="announcements"&&a.jsxs(Ne,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(up,{className:"w-5 h-5 text-red-600"}),"Project Announcements"]}),v?a.jsx("p",{className:"text-sm text-gray-600",children:"Loading announcements..."}):b?a.jsx("p",{className:"text-sm text-red-600",children:b}):h.length===0?a.jsx("p",{className:"text-sm text-gray-600",children:"No announcements yet."}):a.jsx("div",{className:"space-y-4",children:h.map(ne=>{const tt=ne.message.length>220?`${ne.message.slice(0,220)}...`:ne.message,ze=ne.publish_at?dt(ne.publish_at):dt(ne.created_at);return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:ne.title}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Posted ",ze]})]}),a.jsx(Ze,{className:"bg-green-50 text-green-700 border-green-200",children:"Update"})]}),a.jsx("p",{className:"text-sm text-gray-700",children:tt})]},ne.id)})})]}),n==="reminders"&&a.jsxs(Ne,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(as,{className:"w-5 h-5 text-red-600"}),"Project Reminders"]}),k?a.jsx("p",{className:"text-sm text-gray-600",children:"Loading reminders..."}):_?a.jsx("p",{className:"text-sm text-red-600",children:_}):S.length===0?a.jsx("p",{className:"text-sm text-gray-600",children:"No reminders yet."}):a.jsx("div",{className:"space-y-4",children:S.map(ne=>{const tt=ne.message.length>220?`${ne.message.slice(0,220)}...`:ne.message,ze=ne.remind_at?dt(ne.remind_at):dt(ne.created_at);return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:ne.title}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Reminder ",ze]})]}),a.jsx(Ze,{className:"bg-blue-50 text-blue-700 border-blue-200",children:"Reminder"})]}),a.jsx("p",{className:"text-sm text-gray-700",children:tt})]},ne.id)})})]}),n==="warranty"&&a.jsxs(Ne,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(ln,{className:"w-5 h-5 text-red-600"}),"Warranty & Defect Updates"]}),M?a.jsx("p",{className:"text-sm text-gray-600",children:"Loading warranty items..."}):D?a.jsx("p",{className:"text-sm text-red-600",children:D}):P.length===0?a.jsx("p",{className:"text-sm text-gray-600",children:"No warranty items logged for your unit."}):a.jsx("div",{className:"space-y-4",children:P.map(ne=>{const tt=ne.status==="resolved"?"bg-green-50 text-green-700 border-green-200":ne.status==="in_progress"?"bg-amber-50 text-amber-700 border-amber-200":"bg-red-50 text-red-700 border-red-200",ze=ne.severity==="high"?"High severity":ne.severity==="medium"?"Medium severity":"Low severity";return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:ne.title}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Reported ",dt(ne.reported_at),ne.resolved_at?`  Resolved ${dt(ne.resolved_at)}`:""]})]}),a.jsx(Ze,{className:tt,children:ne.status.replace("_"," ")})]}),a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:ze}),ne.description&&a.jsx("p",{className:"text-sm text-gray-700",children:ne.description})]},ne.id)})})]}),n==="feedback"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ne,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Fb,{className:"w-5 h-5 text-red-600"}),"Share Feedback"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(We,{htmlFor:"feedbackSubject",children:"Subject"}),a.jsx(Ke,{id:"feedbackSubject",value:te,onChange:ne=>re(ne.target.value),placeholder:"Turnover visit request"})]}),a.jsxs("div",{children:[a.jsx(We,{htmlFor:"feedbackMessage",children:"Message"}),a.jsx(qi,{id:"feedbackMessage",value:V,onChange:ne=>X(ne.target.value),placeholder:"Tell us what's needed so we can coordinate.",rows:4})]}),a.jsx(Pe,{onClick:et,className:"bg-red-600 hover:bg-red-700",disabled:le,children:le?"Sending...":"Submit Feedback"})]})]}),a.jsxs(Ne,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Your Submitted Feedback"}),L?a.jsx("p",{className:"text-sm text-gray-600",children:"Loading feedback..."}):Z?a.jsx("p",{className:"text-sm text-red-600",children:Z}):F.length===0?a.jsx("p",{className:"text-sm text-gray-600",children:"No feedback submitted yet."}):a.jsx("div",{className:"space-y-4",children:F.map(ne=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:ne.subject}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Sent ",dt(ne.created_at)]})]}),a.jsx(Ze,{className:"bg-red-50 text-red-700 border-red-200",children:ne.status})]}),a.jsx("p",{className:"text-sm text-gray-700",children:ne.message})]},ne.id))})]})]})]})]})}function Tce({sessionToken:e,onComplete:t,onBackToLogin:r}){const[n,i]=j.useState(""),[s,l]=j.useState(""),[u,d]=j.useState(!1),f=async p=>{if(p.preventDefault(),!n.trim()||!s.trim()){ie.error("PIN is required");return}if(n!==s){ie.error("PINs do not match");return}if(!/^[0-9]{6}$/.test(n)){ie.error("PIN must be exactly 6 digits");return}d(!0);try{const{data:h,error:g}=await pe.rpc("customer_portal_set_pin",{p_session_token:e,p_new_pin:n});if(g)throw g;const v=Array.isArray(h)?h[0]:h;if(!(v!=null&&v.success)){ie.error("Unable to update PIN",{description:(v==null?void 0:v.error)??"Please try again."});return}ie.success("PIN updated",{description:"You can now access your account."}),t()}catch(h){ie.error("Unable to update PIN",{description:h instanceof Error?h.message:"Please try again."})}finally{d(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"#F9FAFB"},children:[a.jsxs("button",{onClick:r,className:"fixed top-6 left-6 flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(ZR,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Back to Login"})]}),a.jsxs(Ne,{className:"w-full max-w-md p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-red-500 to-red-600 mb-4",children:a.jsx(fn,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Set Your PIN"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Please create a new 6-digit PIN to secure your account."})]}),a.jsxs("form",{onSubmit:f,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"pin",children:"New PIN"}),a.jsx(Ke,{id:"pin",type:"password",placeholder:"Enter a 6-digit PIN",value:n,onChange:p=>i(p.target.value),disabled:u,className:"h-11",maxLength:6})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(We,{htmlFor:"confirmPin",children:"Confirm PIN"}),a.jsx(Ke,{id:"confirmPin",type:"password",placeholder:"Re-enter your PIN",value:s,onChange:p=>l(p.target.value),disabled:u,className:"h-11",maxLength:6})]}),a.jsx(Pe,{type:"submit",disabled:u,className:"w-full h-11 bg-red-600 hover:bg-red-700 text-white font-medium",children:u?"Saving...":"Save PIN"})]})]})]})}const PR={Executive:{canViewDashboard:!0,canViewAllUnits:!0,canEditStatus:!1,canLogPayments:!1,canViewReports:!0},Manager:{canViewDashboard:!0,canViewAllUnits:!0,canEditStatus:!0,canLogPayments:!0,canViewReports:!0},Encoder:{canViewDashboard:!1,canViewAllUnits:!0,canEditStatus:!0,canLogPayments:!0,canViewReports:!1}},Rce={available:"Available",reserved:"Reserved",move_in_scheduled:"Move-in Scheduled",move_in_confirmed:"Move-in Confirmed",in_payment_cycle:"In Payment Cycle",at_risk:"At Risk",overdue:"Overdue",critical:"Critical",fully_paid:"Fully Paid"},Mce={paid:"Paid",unpaid:"Unpaid",partial:"Partial",overdue:"Overdue"},Dce=(e,t)=>{var n;const r=e.total_months?{totalMonths:e.total_months,monthsPaid:e.months_paid??0,monthlyAmount:e.monthly_amount??0,nextDueDate:e.next_due_date,arrears:e.arrears??0,daysLate:e.days_late??0,schedule:(e.schedules||[]).sort((i,s)=>i.month_number-s.month_number).map(i=>({month:i.month_name,dueDate:i.due_date,amount:i.amount,status:Mce[i.status]??"Unpaid",paidDate:i.paid_date??void 0,partialAmount:i.partial_amount??void 0,monthNumber:i.month_number}))}:null;return{id:e.id,blockLot:e.block_lot,unitType:e.unit_type||"Unknown",projectId:e.project_id,project:((n=e.project)==null?void 0:n.name)||"Unknown",phase:e.phase||"Unassigned",sellingPrice:e.selling_price??0,buyer:e.customer?{id:e.customer.id,name:e.customer.full_name,contact:e.customer.phone??""}:null,status:(t==null?void 0:t[e.status])??Rce[e.status]??e.status??"Available",moveInDate:e.move_in_date,paymentTerms:r,propertyManagement:{electricityDue:e.electricity_due??0,waterDue:e.water_due??0,garbageDue:e.garbage_due??0,maintenanceDue:e.maintenance_due??0,lastPaymentDate:e.last_payment_date},notes:e.notes??[]}};function Ice(e=!0,t){const[r,n]=j.useState([]),[i,s]=j.useState(!0),[l,u]=j.useState(null),d=async()=>{try{s(!0);const p=ss(),{error:h}=await pe.rpc("update_days_late",{p_as_of_date:p});h&&yn(h,{source:"useUnits.update_days_late"});const{data:g,error:v}=await pe.from("units").select(`
          *,
          customer:customers(id, full_name, phone),
          project:projects(name),
          schedules:payment_schedules(*)
        `).order("block_lot",{ascending:!0});if(v)throw v;const w=g.map(b=>Dce(b,t));n(w)}catch(p){yn(p,{source:"useUnits.fetchUnits"}),u(p)}finally{s(!1)}};j.useEffect(()=>{if(!e){s(!1);return}d();const p=pe.channel("units_changes").on("postgres_changes",{event:"*",schema:"public",table:"units"},d).on("postgres_changes",{event:"*",schema:"public",table:"payment_schedules"},d).subscribe();return()=>{p.unsubscribe()}},[e,t]);const f=j.useMemo(()=>{const p=new Set(r.map(h=>h.project));return Array.from(p).sort()},[r]);return{units:r,projects:f,loading:i,error:l,refetch:d}}function $ce(){const[e,t]=j.useState(null),[r,n]=j.useState(!0);return j.useEffect(()=>{let i=!0;pe.auth.getSession().then(({data:l})=>{i&&(t(l.session??null),n(!1))});const{data:s}=pe.auth.onAuthStateChange((l,u)=>{t(u)});return()=>{i=!1,s.subscription.unsubscribe()}},[]),{session:e,loading:r}}const nL={admin:"Executive",manager:"Manager",viewer:"Encoder"},C_=e=>{switch(e){case"Executive":return"Executive Office";case"Manager":return"Property Management";case"Encoder":return"Data Entry"}},P_=e=>{const t=e.trim();if(!t)return"NA";const r=t.split(/\s+/);return r.length===1?r[0].slice(0,2).toUpperCase():`${r[0][0]}${r[r.length-1][0]}`.toUpperCase()},Lce=e=>{var n,i;const t=e.role?nL[e.role]:"Executive",r=((n=e.full_name)==null?void 0:n.trim())||((i=e.email)==null?void 0:i.trim())||"Unknown User";return{id:e.id,role:t,name:r,email:e.email??"",initials:P_(r),department:C_(t)}};function Fce(e){const[t,r]=j.useState(null),[n,i]=j.useState("Executive"),[s,l]=j.useState("AD"),[u,d]=j.useState("Executive Office"),[f,p]=j.useState(!0),[h,g]=j.useState("active");return j.useEffect(()=>{if(!e){r(null),p(!1);return}let v=!0;const w=async()=>{const{data:x,error:S}=await pe.from("users").select("full_name,email,role,status").eq("id",e).single();if(!v)return;if(S||!x){p(!1);return}const C=nL[x.role]??"Executive";r(x),i(C),l(P_(x.full_name)),d(C_(C)),g(x.status??"active"),p(!1)};w();const b=pe.channel("profile_role_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"users",filter:`id=eq.${e}`},w).subscribe();return()=>{v=!1,b.unsubscribe()}},[e]),{profile:t,role:n,initials:s,department:u,loading:f,status:h}}const ml=e=>typeof e=="object"&&e!==null,Bce=e=>e?Array.isArray(e)?e.filter(ml).filter(t=>typeof t.entity_type=="string"&&typeof t.status_key=="string"&&typeof t.label=="string").map(t=>({entity_type:t.entity_type,status_key:t.status_key,label:t.label,order_index:typeof t.order_index=="number"?t.order_index:void 0,is_terminal:typeof t.is_terminal=="boolean"?t.is_terminal:void 0,is_active:typeof t.is_active=="boolean"?t.is_active:void 0})):ml(e)?Object.entries(e).flatMap(([r,n])=>Array.isArray(n)?n.filter(ml).filter(i=>typeof i.status_key=="string"&&typeof i.label=="string").map(i=>({entity_type:r,status_key:i.status_key,label:i.label,order_index:typeof i.order_index=="number"?i.order_index:void 0,is_terminal:typeof i.is_terminal=="boolean"?i.is_terminal:void 0,is_active:typeof i.is_active=="boolean"?i.is_active:void 0})):[]):[]:[],zce=e=>e?Array.isArray(e)?e.filter(ml).filter(t=>typeof t.entity_type=="string"&&typeof t.field_key=="string"&&typeof t.label=="string").map(t=>({entity_type:t.entity_type,field_key:t.field_key,label:t.label,data_type:typeof t.data_type=="string"?t.data_type:"text",is_required:typeof t.is_required=="boolean"?t.is_required:void 0,default_value:t.default_value,options:t.options,order_index:typeof t.order_index=="number"?t.order_index:void 0,is_active:typeof t.is_active=="boolean"?t.is_active:void 0})):ml(e)?Object.entries(e).flatMap(([r,n])=>Array.isArray(n)?n.filter(ml).filter(i=>typeof i.field_key=="string"&&typeof i.label=="string").map(i=>({entity_type:r,field_key:i.field_key,label:i.label,data_type:typeof i.data_type=="string"?i.data_type:"text",is_required:typeof i.is_required=="boolean"?i.is_required:void 0,default_value:i.default_value,options:i.options,order_index:typeof i.order_index=="number"?i.order_index:void 0,is_active:typeof i.is_active=="boolean"?i.is_active:void 0})):[]):[]:[],Uce=e=>e.some(r=>r.entity_type==="customer")?e:[...e,...j_];function qce(e){const[t,r]=j.useState(null),[n,i]=j.useState(!1),[s,l]=j.useState(!0),[u,d]=j.useState(null),f=async()=>{if(!e){r(null),i(!1),l(!1);return}try{l(!0);const{data:p,error:h}=await pe.from("users").select("organization:organizations(id,name,slug,org_code,business_type,contact_email,contact_phone,address,settings,subscription_tier,subscription_status)").eq("id",e).single();if(h)throw h;let g=p==null?void 0:p.organization;if(!g){r(null),i(!0);return}const v=g.settings??{},w=typeof v.template_type=="string"?v.template_type:null;if(w&&w!=="real_estate")try{const{data:S,error:C}=await pe.from("template_configs").select("id,name,template_type,config").eq("template_type","real_estate").order("name",{ascending:!0}).limit(1).single();if(C)throw C;const k={...v,template_id:S.id,template_name:S.name,template_type:S.template_type},{error:E}=await pe.from("organizations").update({settings:k}).eq("id",g.id);if(!E){const _=S.config??{},A=Bce(_.entity_statuses),P=Uce(zce(_.entity_fields));if(A.length>0){await pe.from("entity_statuses").delete().eq("organization_id",g.id);const T=A.map((M,R)=>({organization_id:g.id,entity_type:M.entity_type,status_key:M.status_key,label:M.label,order_index:M.order_index??R,is_terminal:M.is_terminal??!1,is_active:M.is_active??!0}));await pe.from("entity_statuses").upsert(T,{onConflict:"organization_id,entity_type,status_key"})}if(P.length>0){await pe.from("entity_fields").delete().eq("organization_id",g.id);const T=P.map((M,R)=>({organization_id:g.id,entity_type:M.entity_type,field_key:M.field_key,label:M.label,data_type:M.data_type,is_required:M.is_required??!1,default_value:M.default_value??null,options:M.options??null,order_index:M.order_index??R,is_active:M.is_active??!0}));await pe.from("entity_fields").upsert(T,{onConflict:"organization_id,entity_type,field_key"})}g={...g,settings:k}}}catch(S){yn(S,{source:"useOnboarding.migrateTemplateSettings",organizationId:(g==null?void 0:g.id)??null,templateType:w})}r(g);const{count:b,error:x}=await pe.from("projects").select("id",{count:"exact",head:!0}).eq("organization_id",g.id);if(x)throw x;i((b??0)===0)}catch(p){yn(p,{source:"useOnboarding.fetchOnboarding",userId:e,organizationId:(org==null?void 0:org.id)??null}),d(p),i(!0)}finally{l(!1)}};return j.useEffect(()=>{f()},[e]),{organization:t,needsSetup:n,loading:s,error:u,refresh:f}}function Wce(e,t=!0){const[r,n]=j.useState([]),[i,s]=j.useState(!0),[l,u]=j.useState(null),d=async()=>{if(!e){n([]),s(!1);return}try{s(!0);const{data:p,error:h}=await pe.from("projects").select("id,name").eq("organization_id",e).order("name",{ascending:!0});if(h)throw h;n(p.map(g=>({id:g.id,name:g.name})))}catch(p){yn(p,{source:"useProjects.fetchProjects",organizationId:e}),u(p)}finally{s(!1)}};j.useEffect(()=>{if(!t){s(!1);return}d();const p=pe.channel("projects_changes").on("postgres_changes",{event:"*",schema:"public",table:"projects"},d).subscribe();return()=>{p.unsubscribe()}},[e,t]);const f=r.map(p=>p.name);return{projects:r,names:f,loading:i,error:l,refetch:d}}const cp={unit:"Unit",customer:"Customer",project:"Project"};function Hce(e){const[t,r]=j.useState(null),[n,i]=j.useState(!0);j.useEffect(()=>{let l=!0;return(async()=>{if(!e){r(null),i(!1);return}i(!0);const{data:d,error:f}=await pe.from("template_configs").select("id,name,template_type,config").eq("id",e).single();if(l){if(f){r(null),i(!1);return}r(d),i(!1)}})(),()=>{l=!1}},[e]);const s=j.useMemo(()=>{var u;const l=((u=t==null?void 0:t.config)==null?void 0:u.entity_labels)??{};return{...cp,unit:l.unit||cp.unit,customer:l.customer||cp.customer,project:l.project||cp.project}},[t]);return{template:t,labels:s,loading:n}}function Vce(e,t="unit",r=!0){const[n,i]=j.useState([]),[s,l]=j.useState(!0);j.useEffect(()=>{let f=!0;return r?(async()=>{if(!e){i([]),l(!1);return}l(!0);const{data:h,error:g}=await pe.from("entity_statuses").select("status_key,label,order_index").eq("organization_id",e).eq("entity_type",t).order("order_index",{ascending:!0});if(f){if(g){i([]),l(!1);return}i(h??[]),l(!1)}})():l(!1),()=>{f=!1}},[e,t,r]);const u=j.useMemo(()=>n.reduce((f,p)=>(f[p.status_key]=p.label,f),{}),[n]),d=j.useMemo(()=>n.map(f=>f.label),[n]);return{statuses:n,labels:d,labelsByKey:u,loading:s}}const Kce={available:"Available",reserved:"Reserved",move_in_scheduled:"Move-in Scheduled",move_in_confirmed:"Move-in Confirmed",in_payment_cycle:"In Payment Cycle",at_risk:"At Risk",overdue:"Overdue",critical:"Critical",fully_paid:"Fully Paid"},Gce={paid:"Paid",unpaid:"Unpaid",partial:"Partial",overdue:"Overdue"},Yce=e=>{var r,n,i,s,l,u,d,f;const t=(r=e.payment_terms)!=null&&r.total_months?{totalMonths:e.payment_terms.total_months,monthsPaid:e.payment_terms.months_paid??0,monthlyAmount:e.payment_terms.monthly_amount??0,nextDueDate:e.payment_terms.next_due_date??null,arrears:e.payment_terms.arrears??0,daysLate:e.payment_terms.days_late??0,schedule:(e.schedule||[]).sort((p,h)=>p.month_number-h.month_number).map(p=>({month:p.month_name,dueDate:p.due_date,amount:p.amount,status:Gce[p.status]??"Unpaid",paidDate:p.paid_date??void 0,partialAmount:p.partial_amount??void 0,monthNumber:p.month_number}))}:null;return{id:e.id,blockLot:e.block_lot,unitType:e.unit_type||"Unknown",projectId:(n=e.project)==null?void 0:n.id,project:((i=e.project)==null?void 0:i.name)||"Unknown",phase:e.phase||"Unassigned",sellingPrice:e.selling_price??0,buyer:e.customer?{id:e.customer.id,name:e.customer.full_name,contact:e.customer.phone??""}:null,status:Kce[e.status]??e.status??"Available",moveInDate:e.move_in_date,paymentTerms:t,propertyManagement:{electricityDue:((s=e.property_management)==null?void 0:s.electricity_due)??0,waterDue:((l=e.property_management)==null?void 0:l.water_due)??0,garbageDue:((u=e.property_management)==null?void 0:u.garbage_due)??0,maintenanceDue:((d=e.property_management)==null?void 0:d.maintenance_due)??0,lastPaymentDate:((f=e.property_management)==null?void 0:f.last_payment_date)??null},notes:[]}};function Xce(e){const[t,r]=j.useState(null),[n,i]=j.useState(!1),[s,l]=j.useState(null),u=async()=>{if(!e){r(null),i(!1);return}try{i(!0),l(null);const{data:f,error:p}=await pe.rpc("customer_portal_get_unit",{p_session_token:e});if(p)throw p;if(!f){r(null);return}r(Yce(f))}catch(f){yn(f,{source:"useCustomerUnit.fetchUnit",sessionToken:e}),l(f)}finally{i(!1)}};return j.useEffect(()=>{u()},[e]),{unit:j.useMemo(()=>t,[t]),loading:n,error:s,refetch:u}}var Jce=(e,t,r,n,i,s,l,u)=>{let d=document.documentElement,f=["light","dark"];function p(v){(Array.isArray(e)?e:[e]).forEach(w=>{let b=w==="class",x=b&&s?i.map(S=>s[S]||S):i;b?(d.classList.remove(...x),d.classList.add(s&&s[v]?s[v]:v)):d.setAttribute(w,v)}),h(v)}function h(v){u&&f.includes(v)&&(d.style.colorScheme=v)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)p(n);else try{let v=localStorage.getItem(t)||r,w=l&&v==="system"?g():v;p(w)}catch{}},Qce=j.createContext(void 0),Zce={setTheme:e=>{},themes:[]},eue=()=>{var e;return(e=j.useContext(Qce))!=null?e:Zce};j.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:l,themes:u,nonce:d,scriptProps:f})=>{let p=JSON.stringify([r,t,s,e,u,l,n,i]).slice(1,-1);return j.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${Jce.toString()})(${p})`}})});const Ya=({...e})=>{const{theme:t="system"}=eue();return a.jsx(K9,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})},E1="nexsys_customer_portal_session",iL="nexsys_customer_portal_active",tue=()=>{if(typeof window>"u")return null;try{const e=window.localStorage.getItem(E1);if(!e)return null;const t=JSON.parse(e);return!t||typeof t.sessionToken!="string"||typeof t.unitId!="string"?null:{unitId:t.unitId,sessionToken:t.sessionToken,requiresPinReset:!!t.requiresPinReset}}catch{return null}},rue=()=>typeof window>"u"?!1:window.localStorage.getItem(iL)==="true";function nue(){var ze,ht,U,_e,yt,St;const e=tue(),t=rue(),[r,n]=j.useState(()=>NR()||t?"customer":"admin"),[i,s]=j.useState((e==null?void 0:e.unitId)??null),[l,u]=j.useState((e==null?void 0:e.sessionToken)??null),[d,f]=j.useState((e==null?void 0:e.requiresPinReset)??!1),[p,h]=j.useState("dashboard"),[g,v]=j.useState(null),[w,b]=j.useState(null),[x,S]=j.useState("Executive"),[C,k]=j.useState("All Projects"),[E,_]=j.useState(!1),[A,P]=j.useState(!1),[T,M]=j.useState(!1),[R,D]=j.useState(""),[q,F]=j.useState(!1),[$,L]=j.useState([]),[B,Z]=j.useState(!1),[z,te]=j.useState([]),[re,V]=j.useState(null),X=j.useMemo(()=>typeof window>"u"?null:new URLSearchParams(window.location.search).get("join_org"),[]),le=j.useRef(null),{session:ce,loading:Se}=$ce(),{profile:xe,role:ye,initials:Ae,department:G,status:ue}=Fce((ze=ce==null?void 0:ce.user)==null?void 0:ze.id),{organization:ee,needsSetup:W,loading:Y,refresh:se}=qce((ht=ce==null?void 0:ce.user)==null?void 0:ht.id),{labelsByKey:me,labels:we}=Vce(ee==null?void 0:ee.id,"unit",!W&&!Y),{units:ve,refetch:K}=Ice(!W&&!Y,me),{projects:je,names:Q,refetch:ke}=Wce(ee==null?void 0:ee.id,!W&&!Y),Oe=(U=ee==null?void 0:ee.settings)==null?void 0:U.template_id,$e=j.useMemo(()=>vle(ee==null?void 0:ee.subscription_tier),[ee==null?void 0:ee.subscription_tier]),Fe=j.useMemo(()=>v_((ee==null?void 0:ee.settings)??null),[ee==null?void 0:ee.settings]),ct=j.useMemo(()=>({projects:je.length,units:ve.length,exportsThisMonth:Fe.shouldReset?0:Fe.exportsThisMonth}),[Fe.exportsThisMonth,Fe.shouldReset,je.length,ve.length]),{labels:ut}=Hce(Oe),_t=j.useMemo(()=>N_(),[]),mt=j.useMemo(()=>NR(),[]),Ge=j.useMemo(()=>{var Mt,or;const Me=(xe==null?void 0:xe.full_name)||((Mt=ce==null?void 0:ce.user)==null?void 0:Mt.email)||"Unknown User",tr=(xe==null?void 0:xe.email)||((or=ce==null?void 0:ce.user)==null?void 0:or.email)||"",Lt=C_(x);return{name:Me,email:tr,initials:xe?Ae:P_(Me),department:xe?G:Lt}},[xe,(_e=ce==null?void 0:ce.user)==null?void 0:_e.email,Ae,G,x]),{unit:it,loading:wt,error:Pt}=Xce(l);j.useEffect(()=>{ye&&ye!==x&&S(ye)},[ye,x]),j.useEffect(()=>{if(!(ee!=null&&ee.id)){te([]);return}let Me=!0;return(async()=>{const{data:Lt,error:Mt}=await pe.from("users").select("id, full_name, email, role").eq("organization_id",ee.id).order("full_name",{ascending:!0});if(!Me)return;if(Mt){yn(Mt,{source:"App.fetchOrgUsers",organizationId:ee.id});return}const or=(Lt||[]).map(rr=>Lce({id:rr.id,full_name:rr.full_name,email:rr.email,role:rr.role}));te(or)})(),()=>{Me=!1}},[ee==null?void 0:ee.id]),j.useEffect(()=>{var Lt;if(!((Lt=ce==null?void 0:ce.user)!=null&&Lt.id))return;if(ue!=="pending"&&ue!=="rejected"){V(null);return}let Me=!0;return(async()=>{const{data:Mt,error:or}=await pe.rpc("get_join_request_status");if(!Me)return;if(or){V(null);return}const rr=Array.isArray(Mt)?Mt[0]:Mt;V({status:(rr==null?void 0:rr.status)??ue,orgName:(rr==null?void 0:rr.org_name)??null,orgCode:(rr==null?void 0:rr.org_code)??null})})(),()=>{Me=!1}},[(yt=ce==null?void 0:ce.user)==null?void 0:yt.id,ue]),j.useEffect(()=>{le.current&&(le.current.scrollTop=0)},[p]),j.useEffect(()=>{if(!g)return;const Me=ve.find(tr=>tr.id===g.id);Me&&v(Me)},[ve,g]),j.useEffect(()=>{C!=="All Projects"&&(Q.includes(C)||k("All Projects"))},[Q,C]);const dt=Me=>{v(Me),h("unitDetail")},sr=Me=>{b(Me),h("customerDetail")},Kt=Me=>{v(Me),K()},Wt=ut.unit,Tt=ut.customer,dr=ut.project,he=Wt.endsWith("s")?Wt:`${Wt}s`,Be=Tt.endsWith("s")?Tt:`${Tt}s`,Ye=we.length>0?we:["Available","Reserved","In Payment Cycle","Overdue","Fully Paid"],de=()=>{h("collections")},qe=()=>{h("dashboard"),v(null)},Te=()=>{h("customers"),b(null)},He=Me=>{Me==="dashboard"?(h("dashboard"),v(null)):h(Me)},Xe=Me=>{S(Me);const tr=PR[Me];p==="dashboard"&&!tr.canViewDashboard&&(h("collections"),v(null)),P(!1),D(`Switched to ${Me} role`),M(!0),setTimeout(()=>{M(!1)},3e3)},Et=()=>{K(),_(!0),setTimeout(()=>{_(!1)},3e3)},Ht=Me=>{typeof window>"u"||window.localStorage.setItem(iL,Me?"true":"false")};j.useEffect(()=>{if(typeof window>"u")return;if(!l||!i){window.localStorage.removeItem(E1);return}const Me={unitId:i,sessionToken:l,requiresPinReset:d};window.localStorage.setItem(E1,JSON.stringify(Me))},[l,i,d]),j.useEffect(()=>{r==="customer"&&l&&(wt||(Pt||!it)&&(s(null),u(null),f(!1),Ht(mt)))},[r,l,wt,Pt,it,mt]);const Ct=(Me,tr,Lt)=>{s(Me),u(tr),f(Lt),n("customer"),Ht(!0)},Ce=()=>{n(mt?"customer":"admin"),s(null),u(null),f(!1),Ht(mt)},Je=()=>{n("customer"),Ht(!0)},et=()=>{mt||(n("admin"),s(null),u(null),f(!1),Ht(!1))},gt=()=>{r!=="admin"||mt||(h("paymentRequests"),F(!1))},Xt=async()=>{await pe.auth.signOut(),P(!1)},ne=async()=>{var Me;if((Me=ce==null?void 0:ce.user)!=null&&Me.id)try{Z(!0);const{data:tr,error:Lt}=await pe.from("notifications").select("id,title,body,is_read,created_at").eq("user_id",ce.user.id).order("created_at",{ascending:!1}).limit(8);if(Lt)throw Lt;const Mt=tr??[];if(Mt.length===0&&(ee!=null&&ee.id)){const{data:or}=await pe.from("payment_intents").select("id,created_at,amount,unit:units(block_lot),assigned_to").eq("organization_id",ee.id).in("status",["pending","pending_verification"]).order("created_at",{ascending:!1}).limit(5),rr=(or??[]).filter(Cr=>!Cr.assigned_to||Cr.assigned_to===ce.user.id).map(Cr=>{var Pa;return{id:`fallback-${Cr.id}`,title:"Payment request awaiting review",body:(Pa=Cr.unit)!=null&&Pa.block_lot?`Unit ${Cr.unit.block_lot} submitted a payment proof.`:"A customer payment proof is waiting for approval.",is_read:!1,created_at:Cr.created_at}});L(rr)}else L(Mt)}catch{L([])}finally{Z(!1)}};j.useEffect(()=>{var tr;if(!((tr=ce==null?void 0:ce.user)!=null&&tr.id))return;ne();const Me=pe.channel("notifications_changes").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${ce.user.id}`},ne).subscribe();return()=>{Me.unsubscribe()}},[(St=ce==null?void 0:ce.user)==null?void 0:St.id]),j.useEffect(()=>{if(!q)return;(async()=>{var tr;(tr=ce==null?void 0:ce.user)!=null&&tr.id&&await pe.from("notifications").update({is_read:!0}).eq("user_id",ce.user.id).eq("is_read",!1),ne()})()},[q]);const tt=PR[x];if(r==="customer")return!i||!l?a.jsxs(a.Fragment,{children:[a.jsx(Ace,{onLogin:Ct,onBackToAdmin:et,orgSlug:(ee==null?void 0:ee.slug)??_t,showBackToAdmin:!mt}),a.jsx(Ya,{position:"top-right",richColors:!0})]}):d?a.jsxs(a.Fragment,{children:[a.jsx(Tce,{sessionToken:l,onComplete:()=>f(!1),onBackToLogin:Ce}),a.jsx(Ya,{position:"top-right",richColors:!0})]}):wt?a.jsx("div",{children:"Loading customer account..."}):Pt||!it?a.jsx("div",{children:"Unit not found"}):a.jsxs(a.Fragment,{children:[a.jsx(Oce,{unit:it,sessionToken:l,onLogout:Ce}),a.jsx(Ya,{position:"top-right",richColors:!0})]});if(Se)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#F9FAFB"},children:a.jsx("p",{className:"text-sm text-gray-500",children:"Loading session..."})});if(!ce)return a.jsxs(a.Fragment,{children:[a.jsx(_ce,{onAuthenticated:()=>{}}),a.jsx(Ya,{position:"top-right",richColors:!0})]});if(X&&(ee!=null&&ee.slug)&&ee.slug===X&&typeof window<"u"){const Me=new URL(window.location.href);Me.searchParams.delete("join_org"),Me.searchParams.delete("join_role"),window.history.replaceState({},"",Me.pathname+Me.search)}if(X&&(!(ee!=null&&ee.slug)||ee.slug!==X))return a.jsxs("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:"#F9FAFB"},children:[a.jsxs("div",{className:"w-full max-w-md rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[a.jsxs("h1",{className:"text-lg font-semibold text-gray-900",children:["Switch account to join ",X]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"You are already signed in. Sign out to complete the invitation and create the new user."}),a.jsx("div",{className:"mt-4 flex gap-2",children:a.jsx(Pe,{variant:"outline",onClick:async()=>{await pe.auth.signOut(),window.location.reload()},children:"Sign out and continue"})})]}),a.jsx(Ya,{position:"top-right",richColors:!0})]});if(Y)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#F9FAFB"},children:a.jsx("p",{className:"text-sm text-gray-500",children:"Preparing your workspace..."})});if(ue==="pending"||ue==="rejected"){const Me=ue==="rejected";return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:"#F9FAFB"},children:a.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-gray-200 bg-white p-8 shadow-sm",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:Me?"Access request declined":"Account pending approval"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:re!=null&&re.orgName?`Organization: ${re.orgName} (${re.orgCode??"Org ID"})`:"Your access request is under review."}),a.jsxs("div",{className:"mt-6 rounded-lg border border-gray-200 bg-gray-50 p-4 text-sm text-gray-700",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Encoder quick guide"}),a.jsx("p",{className:"mt-2",children:"Encoders help keep unit records, customers, and payment logs accurate. Once approved, you will have access to enter updates and keep collections data current."}),a.jsx("p",{className:"mt-3 text-xs text-gray-500",children:"Powered by: Nexsys Solutions"})]}),a.jsx("div",{className:"mt-6 flex gap-3",children:a.jsx(Pe,{variant:"outline",onClick:async()=>{await pe.auth.signOut(),window.location.reload()},children:"Sign out"})})]})}),a.jsx(Ya,{position:"top-right",richColors:!0})]})}return W&&ee?a.jsxs(a.Fragment,{children:[a.jsx(Ece,{organizationId:ee.id,organizationName:ee.name,onCompleted:()=>{se(),K(),ke()}}),a.jsx(Ya,{position:"top-right",richColors:!0})]}):a.jsxs("div",{className:"flex h-screen",style:{background:"#F9FAFB"},children:[a.jsx(jce,{currentView:p==="unitDetail"?"dashboard":p,onNavigate:He,selectedProject:C,onProjectChange:k,projects:Q,unitLabel:Wt,customerLabel:Tt,currentRole:x,onRoleChange:Xe,onSwitchToCustomer:Je}),a.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[a.jsxs("div",{style:{height:"72px",background:"#FFFFFF",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 32px",flexShrink:0},children:[a.jsx("div",{style:{flex:"0 0 320px"},children:a.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[a.jsx(si,{size:18,style:{position:"absolute",left:"14px",color:"#9CA3AF",pointerEvents:"none"}}),a.jsx("input",{type:"text",placeholder:`Search ${he.toLowerCase()}, ${Be.toLowerCase()}, ${dr.toLowerCase()}...`,style:{width:"100%",height:"40px",paddingLeft:"42px",paddingRight:"14px",border:"1px solid #E5E7EB",borderRadius:"10px",fontSize:"14px",color:"#111827",background:"#F9FAFB",outline:"none",transition:"all 150ms ease"},onFocus:Me=>{Me.currentTarget.style.borderColor="#EF4444",Me.currentTarget.style.background="#FFFFFF"},onBlur:Me=>{Me.currentTarget.style.borderColor="#E5E7EB",Me.currentTarget.style.background="#F9FAFB"}})]})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{width:"1px",height:"20px",background:"#E5E7EB",margin:"0 4px"}}),a.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#111827"},children:"All Systems Operational"}),a.jsx("div",{style:{width:"8px",height:"8px",background:"#10B981",borderRadius:"50%",boxShadow:"0 0 0 3px rgba(16, 185, 129, 0.2)"}})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[a.jsxs("div",{style:{position:"relative"},children:[a.jsxs("button",{style:{position:"relative",width:"40px",height:"40px",background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 150ms ease"},onClick:()=>F(Me=>!Me),onMouseOver:Me=>{Me.currentTarget.style.background="#FFFFFF",Me.currentTarget.style.borderColor="#D1D5DB"},onMouseOut:Me=>{Me.currentTarget.style.background="#F9FAFB",Me.currentTarget.style.borderColor="#E5E7EB"},children:[a.jsx(as,{size:18,style:{color:"#6B7280"}}),$.some(Me=>!Me.is_read)&&a.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",width:"8px",height:"8px",background:"#EF4444",borderRadius:"50%",border:"2px solid #FFFFFF"}})]}),q&&a.jsxs("div",{style:{position:"absolute",top:"48px",right:0,width:"320px",background:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",boxShadow:"0 12px 30px rgba(15, 23, 42, 0.15)",padding:"12px",zIndex:20},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[a.jsx("p",{style:{fontSize:"14px",fontWeight:600,color:"#111827"},children:"Notifications"}),a.jsx("button",{style:{fontSize:"12px",color:"#EF4444"},onClick:()=>F(!1),children:"Close"})]}),B?a.jsx("p",{style:{fontSize:"12px",color:"#6B7280"},children:"Loading..."}):$.length===0?a.jsx("p",{style:{fontSize:"12px",color:"#6B7280"},children:"No notifications yet."}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:$.map(Me=>a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"10px",background:Me.is_read?"#F9FAFB":"#FEF2F2",border:"1px solid #F3F4F6",cursor:r==="admin"&&!mt?"pointer":"default"},onClick:gt,children:[a.jsx("p",{style:{fontSize:"13px",fontWeight:600,color:"#111827",marginBottom:"2px"},children:Me.title}),Me.body&&a.jsx("p",{style:{fontSize:"12px",color:"#6B7280"},children:Me.body})]},Me.id))})]})]}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"4px 10px",borderRadius:"999px",border:"1px solid #E5E7EB",background:"#FFFFFF",fontSize:"11px",fontWeight:600,color:"#6B7280",marginRight:"10px"},children:x}),a.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"6px 12px 6px 6px",background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"10px",cursor:"pointer",transition:"all 150ms ease"},onMouseOver:Me=>{Me.currentTarget.style.background="#FFFFFF",Me.currentTarget.style.borderColor="#D1D5DB"},onMouseOut:Me=>{Me.currentTarget.style.background="#F9FAFB",Me.currentTarget.style.borderColor="#E5E7EB"},onClick:()=>P(!A),children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#FFFFFF",fontSize:"13px",fontWeight:600},children:Ge.initials}),a.jsxs("div",{style:{textAlign:"left"},children:[a.jsx("p",{style:{fontSize:"14px",fontWeight:500,color:"#111827",lineHeight:"18px"},children:Ge.name}),a.jsx("p",{style:{fontSize:"12px",color:"#6B7280",lineHeight:"16px"},children:Ge.department})]}),a.jsx(Nh,{size:16,style:{color:"#9CA3AF",marginLeft:"4px"}})]}),A&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9998},onClick:()=>P(!1)}),a.jsxs("div",{style:{position:"absolute",top:"calc(100% + 8px)",right:"0",width:"280px",background:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:9999,overflow:"hidden"},children:[a.jsx("div",{style:{padding:"16px",borderBottom:"1px solid #E5E7EB",background:"#F9FAFB"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#FFFFFF",fontSize:"15px",fontWeight:600},children:Ge.initials}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"14px",fontWeight:600,color:"#111827",lineHeight:"20px"},children:Ge.name}),a.jsx("p",{style:{fontSize:"13px",color:"#6B7280",lineHeight:"18px"},children:Ge.email})]})]})}),a.jsx("div",{style:{padding:"8px 16px 16px",borderTop:"1px solid #E5E7EB"},children:a.jsx("button",{onClick:Xt,style:{width:"100%",padding:"10px 12px",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB",fontSize:"13px",fontWeight:600,cursor:"pointer",transition:"all 150ms ease"},onMouseOver:Me=>{Me.currentTarget.style.background="#FFFFFF",Me.currentTarget.style.borderColor="#D1D5DB"},onMouseOut:Me=>{Me.currentTarget.style.background="#F9FAFB",Me.currentTarget.style.borderColor="#E5E7EB"},children:"Sign Out"})})]})]})]})]})]}),a.jsxs("div",{ref:le,style:{flex:1,overflowY:"auto"},children:[!tt.canViewDashboard&&p==="dashboard"&&a.jsx("div",{style:{padding:"24px 32px"},children:a.jsx("div",{style:{padding:"16px",background:"#FFF3E0",border:"1px solid var(--neuron-semantic-warn)",borderRadius:"12px"},children:a.jsxs("p",{style:{fontSize:"14px",color:"var(--neuron-semantic-warn)",lineHeight:"21px"},children:[a.jsx("strong",{children:x})," role does not have access to the Executive Dashboard. Switch to Executive or Manager role to view dashboard metrics."]})})}),tt.canViewDashboard&&p==="dashboard"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{padding:"24px 32px 20px 32px",borderBottom:"1px solid #E5E7EB"},children:[a.jsx("h1",{style:{fontSize:"24px",fontWeight:600,color:"#111827",letterSpacing:"-0.01em",lineHeight:"32px",marginBottom:"4px"},children:"Executive Dashboard"}),a.jsx("p",{style:{fontSize:"14px",color:"#6B7280",lineHeight:"20px"},children:"Real-time portfolio overview and daily operations"})]}),a.jsx(J9,{onViewUnit:dt,onViewCollections:de,selectedProject:C,units:ve,onUnitAdded:Et,organizationId:(ee==null?void 0:ee.id)??null,projects:je,unitLabel:Wt,customerLabel:Tt,unitLabelPlural:he,statusOptions:Ye,onRefreshUnits:K})]}),p==="unitDetail"&&g&&a.jsx(MW,{unit:g,onBack:qe,onUpdateUnit:Kt,organizationId:(ee==null?void 0:ee.id)??null,unitLabel:Wt,customerLabel:Tt,projectLabel:dr},g.id),p==="collections"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{padding:"24px 32px 20px 32px",borderBottom:"1px solid #E5E7EB"},children:[a.jsx("h1",{style:{fontSize:"24px",fontWeight:600,color:"#111827",letterSpacing:"-0.01em",lineHeight:"32px",marginBottom:"4px"},children:"Collections & Risk Management"}),a.jsx("p",{style:{fontSize:"14px",color:"#6B7280",lineHeight:"20px"},children:"Track overdue accounts and manage payment collections"})]}),a.jsx(DW,{onViewUnit:dt,onBack:qe,units:ve,statusOptions:Ye,unitLabelPlural:he,unitLabel:Wt,customerLabel:Tt,organizationId:(ee==null?void 0:ee.id)??null,selectedProject:C,projectOptions:je})]}),p==="paymentRequests"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{padding:"24px 32px 20px 32px",borderBottom:"1px solid #E5E7EB"},children:[a.jsx("h1",{style:{fontSize:"24px",fontWeight:600,color:"#111827",letterSpacing:"-0.01em",lineHeight:"32px",marginBottom:"4px"},children:"Payment Requests"}),a.jsx("p",{style:{fontSize:"14px",color:"#6B7280",lineHeight:"20px"},children:"Review and verify submitted payment proofs"})]}),a.jsx(wce,{organizationId:(ee==null?void 0:ee.id)??null,selectedProject:C,unitLabel:Wt,customerLabel:Tt,projectLabel:dr})]}),p==="reports"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{padding:"24px 32px 20px 32px",borderBottom:"1px solid #E5E7EB"},children:[a.jsx("h1",{style:{fontSize:"24px",fontWeight:600,color:"#111827",letterSpacing:"-0.01em",lineHeight:"32px",marginBottom:"4px"},children:"Reports & Analytics"}),a.jsx("p",{style:{fontSize:"14px",color:"#6B7280",lineHeight:"20px"},children:"Performance metrics and exportable reports"})]}),a.jsx(ble,{selectedProject:C,units:ve,projects:Q,organizationId:(ee==null?void 0:ee.id)??null,organizationSettings:(ee==null?void 0:ee.settings)??null,subscriptionPlan:$e,onUsageUpdated:se})]}),p==="buildTracker"&&a.jsx(yce,{organizationId:(ee==null?void 0:ee.id)??null,selectedProject:C,projects:je}),p==="settings"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{padding:"24px 32px 20px 32px",borderBottom:"1px solid #E5E7EB"},children:[a.jsx("h1",{style:{fontSize:"24px",fontWeight:600,color:"#111827",letterSpacing:"-0.01em",lineHeight:"32px",marginBottom:"4px"},children:"Settings"}),a.jsx("p",{style:{fontSize:"14px",color:"#6B7280",lineHeight:"20px"},children:"Configure application settings and preferences"})]}),a.jsx(Hle,{currentRole:x,organization:ee,subscriptionPlan:$e,usageCounts:ct})]}),p==="documents"&&a.jsx(Vle,{currentRole:x,organizationId:(ee==null?void 0:ee.id)??null}),p==="activity"&&a.jsx(Yle,{currentRole:x}),p==="communications"&&a.jsx(Xle,{currentRole:x,organizationId:(ee==null?void 0:ee.id)??null,selectedProject:C,projectOptions:je}),p==="bulk"&&a.jsx(tce,{currentRole:x,organizationId:(ee==null?void 0:ee.id)??null,unitLabel:Wt,customerLabel:Tt,subscriptionPlan:$e,units:ve}),p==="units"&&a.jsx(ice,{onViewUnit:dt,selectedProject:C,units:ve,unitLabel:Wt,unitLabelPlural:he,statusOptions:Ye,onUnitAdded:Et,onProjectAdded:ke,projects:je,organizationId:(ee==null?void 0:ee.id)??null,customerLabel:Tt,subscriptionPlan:$e,usageCounts:ct}),p==="customers"&&a.jsx(ace,{onViewUnit:dt,onViewCustomer:sr,selectedProject:C,units:ve,customerLabel:Tt,customerLabelPlural:Be,organizationId:(ee==null?void 0:ee.id)??null}),p==="customerDetail"&&w&&a.jsx(oce,{customer:w,onBack:Te,onViewUnit:dt,organizationId:(ee==null?void 0:ee.id)??null,customerLabel:Tt,unitLabel:Wt,projectLabel:dr},w.id)]})]}),E&&a.jsxs("div",{style:{position:"fixed",bottom:"32px",right:"32px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-brand-green)",borderRadius:"12px",padding:"16px 20px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",gap:"12px",zIndex:9999,animation:"slideIn 200ms ease-out"},children:[a.jsx("div",{style:{width:"40px",height:"40px",background:"var(--neuron-brand-green-50)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:a.jsx("path",{d:"M16.6663 5L7.49967 14.1667L3.33301 10",stroke:"var(--neuron-brand-green)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"14px",fontWeight:600,color:"var(--neuron-ink-primary)",lineHeight:"20px",marginBottom:"2px"},children:"Dashboard updated automatically"}),a.jsx("p",{style:{fontSize:"13px",color:"var(--neuron-ink-muted)",lineHeight:"18px"},children:"Unit added and metrics recalculated"})]})]}),T&&a.jsxs("div",{style:{position:"fixed",bottom:"32px",right:"32px",background:"var(--neuron-bg-elevated)",border:"1px solid var(--neuron-brand-green)",borderRadius:"12px",padding:"16px 20px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",gap:"12px",zIndex:9999,animation:"slideIn 200ms ease-out"},children:[a.jsx("div",{style:{width:"40px",height:"40px",background:"var(--neuron-brand-green-50)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:a.jsx("path",{d:"M16.6663 5L7.49967 14.1667L3.33301 10",stroke:"var(--neuron-brand-green)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),a.jsx("div",{children:a.jsx("p",{style:{fontSize:"14px",fontWeight:600,color:"var(--neuron-ink-primary)",lineHeight:"20px",marginBottom:"2px"},children:R})})]}),a.jsx("style",{children:`
        @keyframes slideIn {
          from {
            transform: translateY(20px);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
      `}),a.jsx(Ya,{position:"top-right",richColors:!0})]})}const iue=({error:e,componentStack:t,eventId:r,resetError:n})=>a.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 bg-slate-950 px-4 py-12 text-center text-white",children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-slate-400",children:"Nexsys Revenue Tracker"}),a.jsx("h1",{className:"text-3xl font-semibold",children:"Something went wrong"}),a.jsx("p",{className:"max-w-lg text-sm text-slate-400",children:"Weve captured the error for our engineering team. You can reload the page or try again."}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[a.jsx("button",{className:"rounded-full border border-white/40 px-6 py-2 text-sm font-medium transition hover:border-white",onClick:n,children:"Try again"}),a.jsx("button",{className:"rounded-full bg-white px-6 py-2 text-sm font-medium text-slate-900 transition hover:bg-slate-300",onClick:()=>window.location.reload(),children:"Reload page"})]}),r&&a.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-2 text-xs text-slate-300",children:["Reference ID: ",r]}),e&&a.jsxs("pre",{className:"w-full max-w-2xl overflow-x-auto text-left text-xs text-red-200",children:[e.message,t&&`
${t}`]})]});t5.createRoot(document.getElementById("root")).render(a.jsx(K5,{fallback:iue,children:a.jsx(nue,{})}));export{er as g};
